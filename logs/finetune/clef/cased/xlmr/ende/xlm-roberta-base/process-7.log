00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=True, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='xlm-roberta-base', model_type='xlmr', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='de')
00:00:25 - Evaluating every 1 epochs ...
00:00:25 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:00:27 - test has 38 queries ...
00:00:27 - Data reading done ...
00:00:34 - adding 9-th encoder to optimizer...
00:00:34 - adding 10-th encoder to optimizer...
00:00:34 - adding 11-th encoder to optimizer...
00:00:34 - process[7]: training epoch 0 ...
00:00:58 - process[7] - epoch 0 - train iter 410 - 14117.8 words/s - loss: 0.7059
00:00:58 - process[7]: training epoch 1 ...
00:01:21 - process[7] - epoch 1 - train iter 410 - 14806.3 words/s - loss: 0.7033
00:01:21 - process[7]: training epoch 2 ...
00:01:43 - process[7] - epoch 2 - train iter 410 - 14973.0 words/s - loss: 0.6941
00:01:43 - process[7]: training epoch 3 ...
00:02:06 - process[7] - epoch 3 - train iter 410 - 14423.0 words/s - loss: 0.6925
00:02:06 - process[7]: training epoch 4 ...
00:02:29 - process[7] - epoch 4 - train iter 410 - 14251.9 words/s - loss: 0.6767
00:02:29 - process[7]: training epoch 5 ...
00:02:52 - process[7] - epoch 5 - train iter 410 - 14848.4 words/s - loss: 0.6648
00:02:52 - process[7]: training epoch 6 ...
00:03:15 - process[7] - epoch 6 - train iter 410 - 14116.9 words/s - loss: 0.6269
00:03:15 - process[7]: training epoch 7 ...
00:03:39 - process[7] - epoch 7 - train iter 410 - 13832.4 words/s - loss: 0.5783
00:03:39 - process[7]: training epoch 8 ...
00:04:02 - process[7] - epoch 8 - train iter 410 - 14110.4 words/s - loss: 0.5410
00:04:02 - process[7]: training epoch 9 ...
00:04:26 - process[7] - epoch 9 - train iter 410 - 14213.3 words/s - loss: 0.5323
00:04:26 - process[7]: training epoch 10 ...
00:04:50 - process[7] - epoch 10 - train iter 410 - 13770.6 words/s - loss: 0.4652
00:04:50 - process[7]: evaluating epoch 10 on dev ...
00:05:07 - dev set during evaluation: 13240/13232
00:05:07 - process[7] - dev - epoch 10 - mAP: 0.214 w/ 38 queries
00:05:07 - process[7]: evaluating epoch 10 on test ...
00:05:26 - test set during evaluation: 14200/14194
00:05:26 - process[7] - test - epoch 10 - mAP: 0.280 w/ 38 queries
00:05:26 - process[7]: training epoch 11 ...
00:05:50 - process[7] - epoch 11 - train iter 410 - 13979.7 words/s - loss: 0.4548
00:05:50 - process[7]: evaluating epoch 11 on dev ...
00:06:07 - dev set during evaluation: 13240/13232
00:06:07 - process[7] - dev - epoch 11 - mAP: 0.205 w/ 38 queries
00:06:07 - process[7]: training epoch 12 ...
00:06:30 - process[7] - epoch 12 - train iter 410 - 14290.9 words/s - loss: 0.4082
00:06:30 - process[7]: evaluating epoch 12 on dev ...
00:06:47 - dev set during evaluation: 13240/13232
00:06:47 - process[7] - dev - epoch 12 - mAP: 0.199 w/ 38 queries
00:06:47 - process[7]: training epoch 13 ...
00:07:10 - process[7] - epoch 13 - train iter 410 - 14201.6 words/s - loss: 0.4349
00:07:10 - process[7]: evaluating epoch 13 on dev ...
00:07:28 - dev set during evaluation: 13240/13232
00:07:28 - process[7] - dev - epoch 13 - mAP: 0.193 w/ 38 queries
00:07:28 - process[7]: training epoch 14 ...
00:07:51 - process[7] - epoch 14 - train iter 410 - 14033.9 words/s - loss: 0.3646
00:07:51 - process[7]: evaluating epoch 14 on dev ...
00:08:08 - dev set during evaluation: 13240/13232
00:08:08 - process[7] - dev - epoch 14 - mAP: 0.187 w/ 38 queries
00:08:08 - process[7]: training epoch 15 ...
00:08:31 - process[7] - epoch 15 - train iter 410 - 14302.5 words/s - loss: 0.4136
00:08:31 - process[7]: evaluating epoch 15 on dev ...
00:08:48 - dev set during evaluation: 13240/13232
00:08:48 - process[7] - dev - epoch 15 - mAP: 0.187 w/ 38 queries
00:08:48 - process[7]: training epoch 16 ...
00:09:12 - process[7] - epoch 16 - train iter 410 - 13914.0 words/s - loss: 0.3557
00:09:12 - process[7]: evaluating epoch 16 on dev ...
00:09:29 - dev set during evaluation: 13240/13232
00:09:29 - process[7] - dev - epoch 16 - mAP: 0.183 w/ 38 queries
00:09:29 - process[7]: training epoch 17 ...
00:09:53 - process[7] - epoch 17 - train iter 410 - 13979.0 words/s - loss: 0.3171
00:09:53 - process[7]: evaluating epoch 17 on dev ...
00:10:10 - dev set during evaluation: 13240/13232
00:10:10 - process[7] - dev - epoch 17 - mAP: 0.176 w/ 38 queries
00:10:10 - process[7]: training epoch 18 ...
00:10:33 - process[7] - epoch 18 - train iter 410 - 14365.3 words/s - loss: 0.3442
00:10:33 - process[7]: evaluating epoch 18 on dev ...
00:10:51 - dev set during evaluation: 13240/13232
00:10:51 - process[7] - dev - epoch 18 - mAP: 0.184 w/ 38 queries
00:10:51 - process[7]: training epoch 19 ...
00:11:14 - process[7] - epoch 19 - train iter 410 - 14038.7 words/s - loss: 0.3208
00:11:14 - process[7]: evaluating epoch 19 on dev ...
00:11:31 - dev set during evaluation: 13240/13232
00:11:31 - process[7] - dev - epoch 19 - mAP: 0.172 w/ 38 queries
00:11:31 - [fold 1] best test MAP: 0.280 @ epoch 10
00:11:31 - Evaluating every 1 epochs ...
00:11:31 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:11:32 - test has 39 queries ...
00:11:32 - Data reading done ...
00:11:34 - adding 9-th encoder to optimizer...
00:11:34 - adding 10-th encoder to optimizer...
00:11:34 - adding 11-th encoder to optimizer...
00:11:34 - process[7]: training epoch 0 ...
00:12:02 - process[7] - epoch 0 - train iter 378 - 10817.9 words/s - loss: 0.7067
00:12:02 - process[7]: training epoch 1 ...
00:12:29 - process[7] - epoch 1 - train iter 378 - 10992.8 words/s - loss: 0.7062
00:12:29 - process[7]: training epoch 2 ...
00:12:57 - process[7] - epoch 2 - train iter 378 - 10842.6 words/s - loss: 0.6898
00:12:57 - process[7]: training epoch 3 ...
00:13:25 - process[7] - epoch 3 - train iter 378 - 10749.4 words/s - loss: 0.6828
00:13:25 - process[7]: training epoch 4 ...
00:13:53 - process[7] - epoch 4 - train iter 378 - 10827.9 words/s - loss: 0.6683
00:13:53 - process[7]: training epoch 5 ...
00:14:21 - process[7] - epoch 5 - train iter 378 - 10890.8 words/s - loss: 0.6531
00:14:21 - process[7]: training epoch 6 ...
00:14:50 - process[7] - epoch 6 - train iter 378 - 10493.7 words/s - loss: 0.5729
00:14:50 - process[7]: training epoch 7 ...
00:15:20 - process[7] - epoch 7 - train iter 378 - 10111.1 words/s - loss: 0.5702
00:15:20 - process[7]: training epoch 8 ...
00:15:47 - process[7] - epoch 8 - train iter 378 - 11141.6 words/s - loss: 0.5232
00:15:47 - process[7]: training epoch 9 ...
00:16:15 - process[7] - epoch 9 - train iter 378 - 10864.9 words/s - loss: 0.5025
00:16:15 - process[7]: training epoch 10 ...
00:16:43 - process[7] - epoch 10 - train iter 378 - 10662.9 words/s - loss: 0.4893
00:16:43 - process[7]: evaluating epoch 10 on dev ...
00:17:08 - dev set during evaluation: 14200/14194
00:17:08 - process[7] - dev - epoch 10 - mAP: 0.244 w/ 38 queries
00:17:08 - process[7]: evaluating epoch 10 on test ...
00:17:31 - test set during evaluation: 13010/13003
00:17:31 - process[7] - test - epoch 10 - mAP: 0.222 w/ 39 queries
00:17:31 - process[7]: training epoch 11 ...
00:17:58 - process[7] - epoch 11 - train iter 378 - 10633.5 words/s - loss: 0.4752
00:17:58 - process[7]: evaluating epoch 11 on dev ...
00:18:22 - dev set during evaluation: 14200/14194
00:18:22 - process[7] - dev - epoch 11 - mAP: 0.235 w/ 38 queries
00:18:22 - process[7]: training epoch 12 ...
00:18:50 - process[7] - epoch 12 - train iter 378 - 10554.2 words/s - loss: 0.4044
00:18:50 - process[7]: evaluating epoch 12 on dev ...
00:19:14 - dev set during evaluation: 14200/14194
00:19:14 - process[7] - dev - epoch 12 - mAP: 0.233 w/ 38 queries
00:19:14 - process[7]: training epoch 13 ...
00:19:43 - process[7] - epoch 13 - train iter 378 - 10287.2 words/s - loss: 0.3922
00:19:43 - process[7]: evaluating epoch 13 on dev ...
00:20:07 - dev set during evaluation: 14200/14194
00:20:07 - process[7] - dev - epoch 13 - mAP: 0.240 w/ 38 queries
00:20:07 - process[7]: training epoch 14 ...
00:20:37 - process[7] - epoch 14 - train iter 378 - 10451.5 words/s - loss: 0.3852
00:20:37 - process[7]: evaluating epoch 14 on dev ...
00:21:01 - dev set during evaluation: 14200/14194
00:21:01 - process[7] - dev - epoch 14 - mAP: 0.236 w/ 38 queries
00:21:01 - process[7]: training epoch 15 ...
00:21:30 - process[7] - epoch 15 - train iter 378 - 10497.6 words/s - loss: 0.3771
00:21:30 - process[7]: evaluating epoch 15 on dev ...
00:21:54 - dev set during evaluation: 14200/14194
00:21:54 - process[7] - dev - epoch 15 - mAP: 0.243 w/ 38 queries
00:21:54 - process[7]: training epoch 16 ...
00:22:21 - process[7] - epoch 16 - train iter 378 - 10960.1 words/s - loss: 0.3457
00:22:21 - process[7]: evaluating epoch 16 on dev ...
00:22:45 - dev set during evaluation: 14200/14194
00:22:45 - process[7] - dev - epoch 16 - mAP: 0.239 w/ 38 queries
00:22:45 - process[7]: training epoch 17 ...
00:23:13 - process[7] - epoch 17 - train iter 378 - 10639.0 words/s - loss: 0.3535
00:23:13 - process[7]: evaluating epoch 17 on dev ...
00:23:37 - dev set during evaluation: 14200/14194
00:23:37 - process[7] - dev - epoch 17 - mAP: 0.232 w/ 38 queries
00:23:37 - process[7]: training epoch 18 ...
00:24:05 - process[7] - epoch 18 - train iter 378 - 10996.7 words/s - loss: 0.3509
00:24:05 - process[7]: evaluating epoch 18 on dev ...
00:24:28 - dev set during evaluation: 14200/14194
00:24:28 - process[7] - dev - epoch 18 - mAP: 0.229 w/ 38 queries
00:24:28 - process[7]: training epoch 19 ...
00:24:57 - process[7] - epoch 19 - train iter 378 - 10696.6 words/s - loss: 0.3274
00:24:57 - process[7]: evaluating epoch 19 on dev ...
00:25:21 - dev set during evaluation: 14200/14194
00:25:21 - process[7] - dev - epoch 19 - mAP: 0.234 w/ 38 queries
00:25:21 - [fold 2] best test MAP: 0.222 @ epoch 10
00:25:21 - Evaluating every 1 epochs ...
00:25:21 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:25:22 - test has 39 queries ...
00:25:22 - Data reading done ...
00:25:23 - adding 9-th encoder to optimizer...
00:25:23 - adding 10-th encoder to optimizer...
00:25:23 - adding 11-th encoder to optimizer...
00:25:24 - process[7]: training epoch 0 ...
00:25:53 - process[7] - epoch 0 - train iter 397 - 10971.5 words/s - loss: 0.7058
00:25:53 - process[7]: training epoch 1 ...
00:26:22 - process[7] - epoch 1 - train iter 397 - 11078.9 words/s - loss: 0.6876
00:26:22 - process[7]: training epoch 2 ...
00:26:53 - process[7] - epoch 2 - train iter 397 - 10330.9 words/s - loss: 0.6834
00:26:53 - process[7]: training epoch 3 ...
00:27:22 - process[7] - epoch 3 - train iter 397 - 11035.1 words/s - loss: 0.6686
00:27:22 - process[7]: training epoch 4 ...
00:27:53 - process[7] - epoch 4 - train iter 397 - 10206.7 words/s - loss: 0.6488
00:27:53 - process[7]: training epoch 5 ...
00:28:24 - process[7] - epoch 5 - train iter 397 - 10552.4 words/s - loss: 0.6275
00:28:24 - process[7]: training epoch 6 ...
00:28:54 - process[7] - epoch 6 - train iter 397 - 10772.5 words/s - loss: 0.5926
00:28:54 - process[7]: training epoch 7 ...
00:29:26 - process[7] - epoch 7 - train iter 397 - 10057.9 words/s - loss: 0.5676
00:29:26 - process[7]: training epoch 8 ...
00:29:56 - process[7] - epoch 8 - train iter 397 - 10834.4 words/s - loss: 0.5739
00:29:56 - process[7]: training epoch 9 ...
00:30:26 - process[7] - epoch 9 - train iter 397 - 10736.6 words/s - loss: 0.5395
00:30:26 - process[7]: training epoch 10 ...
00:30:56 - process[7] - epoch 10 - train iter 397 - 10632.3 words/s - loss: 0.5130
00:30:56 - process[7]: evaluating epoch 10 on dev ...
00:31:19 - dev set during evaluation: 13010/13003
00:31:19 - process[7] - dev - epoch 10 - mAP: 0.209 w/ 39 queries
00:31:19 - process[7]: evaluating epoch 10 on test ...
00:31:45 - test set during evaluation: 14900/14894
00:31:45 - process[7] - test - epoch 10 - mAP: 0.157 w/ 39 queries
00:31:45 - process[7]: training epoch 11 ...
00:32:16 - process[7] - epoch 11 - train iter 397 - 10675.2 words/s - loss: 0.4929
00:32:16 - process[7]: evaluating epoch 11 on dev ...
00:32:39 - dev set during evaluation: 13010/13003
00:32:39 - process[7] - dev - epoch 11 - mAP: 0.210 w/ 39 queries
00:32:39 - process[7]: evaluating epoch 11 on test ...
00:33:05 - test set during evaluation: 14900/14894
00:33:05 - process[7] - test - epoch 11 - mAP: 0.160 w/ 39 queries
00:33:05 - process[7]: training epoch 12 ...
00:33:35 - process[7] - epoch 12 - train iter 397 - 10488.5 words/s - loss: 0.4446
00:33:35 - process[7]: evaluating epoch 12 on dev ...
00:33:58 - dev set during evaluation: 13010/13003
00:33:58 - process[7] - dev - epoch 12 - mAP: 0.216 w/ 39 queries
00:33:58 - process[7]: evaluating epoch 12 on test ...
00:34:24 - test set during evaluation: 14900/14894
00:34:24 - process[7] - test - epoch 12 - mAP: 0.165 w/ 39 queries
00:34:24 - process[7]: training epoch 13 ...
00:34:53 - process[7] - epoch 13 - train iter 397 - 10924.7 words/s - loss: 0.4114
00:34:53 - process[7]: evaluating epoch 13 on dev ...
00:35:16 - dev set during evaluation: 13010/13003
00:35:16 - process[7] - dev - epoch 13 - mAP: 0.211 w/ 39 queries
00:35:16 - process[7]: training epoch 14 ...
00:35:47 - process[7] - epoch 14 - train iter 397 - 9912.3 words/s - loss: 0.4063
00:35:47 - process[7]: evaluating epoch 14 on dev ...
00:36:10 - dev set during evaluation: 13010/13003
00:36:10 - process[7] - dev - epoch 14 - mAP: 0.219 w/ 39 queries
00:36:10 - process[7]: evaluating epoch 14 on test ...
00:36:36 - test set during evaluation: 14900/14894
00:36:36 - process[7] - test - epoch 14 - mAP: 0.165 w/ 39 queries
00:36:36 - process[7]: training epoch 15 ...
00:37:06 - process[7] - epoch 15 - train iter 397 - 10628.7 words/s - loss: 0.4049
00:37:06 - process[7]: evaluating epoch 15 on dev ...
00:37:28 - dev set during evaluation: 13010/13003
00:37:28 - process[7] - dev - epoch 15 - mAP: 0.219 w/ 39 queries
00:37:28 - process[7]: evaluating epoch 15 on test ...
00:37:54 - test set during evaluation: 14900/14894
00:37:54 - process[7] - test - epoch 15 - mAP: 0.162 w/ 39 queries
00:37:54 - process[7]: training epoch 16 ...
00:38:25 - process[7] - epoch 16 - train iter 397 - 10457.2 words/s - loss: 0.3977
00:38:25 - process[7]: evaluating epoch 16 on dev ...
00:38:47 - dev set during evaluation: 13010/13003
00:38:47 - process[7] - dev - epoch 16 - mAP: 0.216 w/ 39 queries
00:38:47 - process[7]: training epoch 17 ...
00:39:18 - process[7] - epoch 17 - train iter 397 - 10618.4 words/s - loss: 0.3407
00:39:18 - process[7]: evaluating epoch 17 on dev ...
00:39:41 - dev set during evaluation: 13010/13003
00:39:41 - process[7] - dev - epoch 17 - mAP: 0.216 w/ 39 queries
00:39:41 - process[7]: training epoch 18 ...
00:40:10 - process[7] - epoch 18 - train iter 397 - 10718.3 words/s - loss: 0.3496
00:40:10 - process[7]: evaluating epoch 18 on dev ...
00:40:33 - dev set during evaluation: 13010/13003
00:40:33 - process[7] - dev - epoch 18 - mAP: 0.222 w/ 39 queries
00:40:33 - process[7]: evaluating epoch 18 on test ...
00:40:58 - test set during evaluation: 14900/14894
00:40:58 - process[7] - test - epoch 18 - mAP: 0.167 w/ 39 queries
00:40:58 - process[7]: training epoch 19 ...
00:41:28 - process[7] - epoch 19 - train iter 397 - 10543.4 words/s - loss: 0.3320
00:41:28 - process[7]: evaluating epoch 19 on dev ...
00:41:51 - dev set during evaluation: 13010/13003
00:41:51 - process[7] - dev - epoch 19 - mAP: 0.220 w/ 39 queries
00:41:51 - [fold 3] best test MAP: 0.167 @ epoch 18
00:41:51 - Evaluating every 1 epochs ...
00:41:51 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:41:52 - test has 38 queries ...
00:41:52 - Data reading done ...
00:41:54 - adding 9-th encoder to optimizer...
00:41:54 - adding 10-th encoder to optimizer...
00:41:54 - adding 11-th encoder to optimizer...
00:41:55 - process[7]: training epoch 0 ...
00:42:21 - process[7] - epoch 0 - train iter 399 - 12107.6 words/s - loss: 0.7054
00:42:21 - process[7]: training epoch 1 ...
00:42:48 - process[7] - epoch 1 - train iter 399 - 12277.6 words/s - loss: 0.6946
00:42:48 - process[7]: training epoch 2 ...
00:43:15 - process[7] - epoch 2 - train iter 399 - 12275.8 words/s - loss: 0.6807
00:43:15 - process[7]: training epoch 3 ...
00:43:41 - process[7] - epoch 3 - train iter 399 - 12449.9 words/s - loss: 0.6704
00:43:41 - process[7]: training epoch 4 ...
00:44:08 - process[7] - epoch 4 - train iter 399 - 12298.8 words/s - loss: 0.6380
00:44:08 - process[7]: training epoch 5 ...
00:44:36 - process[7] - epoch 5 - train iter 399 - 11779.5 words/s - loss: 0.6343
00:44:36 - process[7]: training epoch 6 ...
00:45:03 - process[7] - epoch 6 - train iter 399 - 12203.3 words/s - loss: 0.6110
00:45:03 - process[7]: training epoch 7 ...
00:45:29 - process[7] - epoch 7 - train iter 399 - 12518.4 words/s - loss: 0.5884
00:45:29 - process[7]: training epoch 8 ...
00:45:55 - process[7] - epoch 8 - train iter 399 - 12560.4 words/s - loss: 0.5505
00:45:55 - process[7]: training epoch 9 ...
00:46:20 - process[7] - epoch 9 - train iter 399 - 12655.7 words/s - loss: 0.5459
00:46:20 - process[7]: training epoch 10 ...
00:46:47 - process[7] - epoch 10 - train iter 399 - 12079.5 words/s - loss: 0.5108
00:46:47 - process[7]: evaluating epoch 10 on dev ...
00:47:11 - dev set during evaluation: 14900/14894
00:47:11 - process[7] - dev - epoch 10 - mAP: 0.183 w/ 39 queries
00:47:11 - process[7]: evaluating epoch 10 on test ...
00:47:33 - test set during evaluation: 13670/13666
00:47:33 - process[7] - test - epoch 10 - mAP: 0.199 w/ 38 queries
00:47:33 - process[7]: training epoch 11 ...
00:48:00 - process[7] - epoch 11 - train iter 399 - 12372.8 words/s - loss: 0.4971
00:48:00 - process[7]: evaluating epoch 11 on dev ...
00:48:24 - dev set during evaluation: 14900/14894
00:48:24 - process[7] - dev - epoch 11 - mAP: 0.186 w/ 39 queries
00:48:24 - process[7]: evaluating epoch 11 on test ...
00:48:45 - test set during evaluation: 13670/13666
00:48:45 - process[7] - test - epoch 11 - mAP: 0.209 w/ 38 queries
00:48:45 - process[7]: training epoch 12 ...
00:49:13 - process[7] - epoch 12 - train iter 399 - 11972.0 words/s - loss: 0.4598
00:49:13 - process[7]: evaluating epoch 12 on dev ...
00:49:36 - dev set during evaluation: 14900/14894
00:49:36 - process[7] - dev - epoch 12 - mAP: 0.195 w/ 39 queries
00:49:36 - process[7]: evaluating epoch 12 on test ...
00:49:58 - test set during evaluation: 13670/13666
00:49:58 - process[7] - test - epoch 12 - mAP: 0.208 w/ 38 queries
00:49:58 - process[7]: training epoch 13 ...
00:50:23 - process[7] - epoch 13 - train iter 399 - 12786.3 words/s - loss: 0.4161
00:50:23 - process[7]: evaluating epoch 13 on dev ...
00:50:47 - dev set during evaluation: 14900/14894
00:50:47 - process[7] - dev - epoch 13 - mAP: 0.194 w/ 39 queries
00:50:47 - process[7]: training epoch 14 ...
00:51:13 - process[7] - epoch 14 - train iter 399 - 12507.2 words/s - loss: 0.4239
00:51:13 - process[7]: evaluating epoch 14 on dev ...
00:51:37 - dev set during evaluation: 14900/14894
00:51:37 - process[7] - dev - epoch 14 - mAP: 0.199 w/ 39 queries
00:51:37 - process[7]: evaluating epoch 14 on test ...
00:51:58 - test set during evaluation: 13670/13666
00:51:58 - process[7] - test - epoch 14 - mAP: 0.207 w/ 38 queries
00:51:58 - process[7]: training epoch 15 ...
00:52:25 - process[7] - epoch 15 - train iter 399 - 12220.8 words/s - loss: 0.3969
00:52:25 - process[7]: evaluating epoch 15 on dev ...
00:52:48 - dev set during evaluation: 14900/14894
00:52:48 - process[7] - dev - epoch 15 - mAP: 0.195 w/ 39 queries
00:52:49 - process[7]: training epoch 16 ...
00:53:16 - process[7] - epoch 16 - train iter 399 - 11923.1 words/s - loss: 0.3801
00:53:16 - process[7]: evaluating epoch 16 on dev ...
00:53:39 - dev set during evaluation: 14900/14894
00:53:39 - process[7] - dev - epoch 16 - mAP: 0.191 w/ 39 queries
00:53:40 - process[7]: training epoch 17 ...
00:54:05 - process[7] - epoch 17 - train iter 399 - 12512.2 words/s - loss: 0.3622
00:54:05 - process[7]: evaluating epoch 17 on dev ...
00:54:29 - dev set during evaluation: 14900/14894
00:54:29 - process[7] - dev - epoch 17 - mAP: 0.192 w/ 39 queries
00:54:29 - process[7]: training epoch 18 ...
00:54:55 - process[7] - epoch 18 - train iter 399 - 12426.4 words/s - loss: 0.3383
00:54:55 - process[7]: evaluating epoch 18 on dev ...
00:55:19 - dev set during evaluation: 14900/14894
00:55:19 - process[7] - dev - epoch 18 - mAP: 0.190 w/ 39 queries
00:55:19 - process[7]: training epoch 19 ...
00:55:45 - process[7] - epoch 19 - train iter 399 - 12488.3 words/s - loss: 0.3082
00:55:45 - process[7]: evaluating epoch 19 on dev ...
00:56:08 - dev set during evaluation: 14900/14894
00:56:08 - process[7] - dev - epoch 19 - mAP: 0.185 w/ 39 queries
00:56:08 - [fold 4] best test MAP: 0.207 @ epoch 14
00:56:08 - Evaluating every 1 epochs ...
00:56:08 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:56:10 - test has 38 queries ...
00:56:10 - Data reading done ...
00:56:11 - adding 9-th encoder to optimizer...
00:56:11 - adding 10-th encoder to optimizer...
00:56:11 - adding 11-th encoder to optimizer...
00:56:12 - process[7]: training epoch 0 ...
00:56:41 - process[7] - epoch 0 - train iter 433 - 12328.3 words/s - loss: 0.7050
00:56:41 - process[7]: training epoch 1 ...
00:57:10 - process[7] - epoch 1 - train iter 433 - 11968.9 words/s - loss: 0.6902
00:57:10 - process[7]: training epoch 2 ...
00:57:39 - process[7] - epoch 2 - train iter 433 - 12167.6 words/s - loss: 0.6848
00:57:39 - process[7]: training epoch 3 ...
00:58:08 - process[7] - epoch 3 - train iter 433 - 11942.6 words/s - loss: 0.6726
00:58:08 - process[7]: training epoch 4 ...
00:58:36 - process[7] - epoch 4 - train iter 433 - 12565.9 words/s - loss: 0.6566
00:58:36 - process[7]: training epoch 5 ...
00:59:03 - process[7] - epoch 5 - train iter 433 - 12933.2 words/s - loss: 0.6035
00:59:03 - process[7]: training epoch 6 ...
00:59:31 - process[7] - epoch 6 - train iter 433 - 12397.4 words/s - loss: 0.6134
00:59:31 - process[7]: training epoch 7 ...
00:59:59 - process[7] - epoch 7 - train iter 433 - 12422.7 words/s - loss: 0.5830
00:59:59 - process[7]: training epoch 8 ...
01:00:29 - process[7] - epoch 8 - train iter 433 - 12064.9 words/s - loss: 0.5653
01:00:29 - process[7]: training epoch 9 ...
01:00:58 - process[7] - epoch 9 - train iter 433 - 12216.9 words/s - loss: 0.5207
01:00:58 - process[7]: training epoch 10 ...
01:01:26 - process[7] - epoch 10 - train iter 433 - 12405.2 words/s - loss: 0.4917
01:01:26 - process[7]: evaluating epoch 10 on dev ...
01:01:48 - dev set during evaluation: 13670/13666
01:01:48 - process[7] - dev - epoch 10 - mAP: 0.247 w/ 38 queries
01:01:48 - process[7]: evaluating epoch 10 on test ...
01:02:09 - test set during evaluation: 13240/13232
01:02:09 - process[7] - test - epoch 10 - mAP: 0.193 w/ 38 queries
01:02:09 - process[7]: training epoch 11 ...
01:02:38 - process[7] - epoch 11 - train iter 433 - 12277.5 words/s - loss: 0.4956
01:02:38 - process[7]: evaluating epoch 11 on dev ...
01:03:00 - dev set during evaluation: 13670/13666
01:03:00 - process[7] - dev - epoch 11 - mAP: 0.246 w/ 38 queries
01:03:00 - process[7]: training epoch 12 ...
01:03:28 - process[7] - epoch 12 - train iter 433 - 12491.8 words/s - loss: 0.4602
01:03:28 - process[7]: evaluating epoch 12 on dev ...
01:03:50 - dev set during evaluation: 13670/13666
01:03:50 - process[7] - dev - epoch 12 - mAP: 0.251 w/ 38 queries
01:03:50 - process[7]: evaluating epoch 12 on test ...
01:04:10 - test set during evaluation: 13240/13232
01:04:10 - process[7] - test - epoch 12 - mAP: 0.205 w/ 38 queries
01:04:10 - process[7]: training epoch 13 ...
01:04:38 - process[7] - epoch 13 - train iter 433 - 12755.3 words/s - loss: 0.4274
01:04:38 - process[7]: evaluating epoch 13 on dev ...
01:05:00 - dev set during evaluation: 13670/13666
01:05:00 - process[7] - dev - epoch 13 - mAP: 0.244 w/ 38 queries
01:05:00 - process[7]: training epoch 14 ...
01:05:28 - process[7] - epoch 14 - train iter 433 - 12444.8 words/s - loss: 0.4184
01:05:28 - process[7]: evaluating epoch 14 on dev ...
01:05:50 - dev set during evaluation: 13670/13666
01:05:50 - process[7] - dev - epoch 14 - mAP: 0.244 w/ 38 queries
01:05:50 - process[7]: training epoch 15 ...
01:06:19 - process[7] - epoch 15 - train iter 433 - 11904.4 words/s - loss: 0.4047
01:06:19 - process[7]: evaluating epoch 15 on dev ...
01:06:41 - dev set during evaluation: 13670/13666
01:06:41 - process[7] - dev - epoch 15 - mAP: 0.228 w/ 38 queries
01:06:41 - process[7]: training epoch 16 ...
01:07:09 - process[7] - epoch 16 - train iter 433 - 12548.6 words/s - loss: 0.3456
01:07:09 - process[7]: evaluating epoch 16 on dev ...
01:07:31 - dev set during evaluation: 13670/13666
01:07:31 - process[7] - dev - epoch 16 - mAP: 0.238 w/ 38 queries
01:07:31 - process[7]: training epoch 17 ...
01:07:59 - process[7] - epoch 17 - train iter 433 - 12856.7 words/s - loss: 0.3743
01:07:59 - process[7]: evaluating epoch 17 on dev ...
01:08:20 - dev set during evaluation: 13670/13666
01:08:20 - process[7] - dev - epoch 17 - mAP: 0.234 w/ 38 queries
01:08:20 - process[7]: training epoch 18 ...
01:08:48 - process[7] - epoch 18 - train iter 433 - 12739.0 words/s - loss: 0.3656
01:08:48 - process[7]: evaluating epoch 18 on dev ...
01:09:09 - dev set during evaluation: 13670/13666
01:09:09 - process[7] - dev - epoch 18 - mAP: 0.232 w/ 38 queries
01:09:09 - process[7]: training epoch 19 ...
01:09:38 - process[7] - epoch 19 - train iter 433 - 12225.1 words/s - loss: 0.3327
01:09:38 - process[7]: evaluating epoch 19 on dev ...
01:10:00 - dev set during evaluation: 13670/13666
01:10:00 - process[7] - dev - epoch 19 - mAP: 0.234 w/ 38 queries
01:10:00 - [fold 5] best test MAP: 0.205 @ epoch 12
01:10:00 - [0.2799720917210436, 0.22187157769592716, 0.16721255912475577, 0.20713556106250297, 0.20514352312942888]
01:10:00 - [38, 39, 39, 38, 38]
01:10:00 - final MAP: 0.216
00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=True, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='xlm-roberta-base', model_type='xlmr', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='de')
00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=True, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='xlm-roberta-base', model_type='xlmr', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='de')
00:00:29 - Evaluating every 1 epochs ...
00:00:29 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:00:30 - test has 38 queries ...
00:00:30 - Data reading done ...
00:00:37 - adding 9-th encoder to optimizer...
00:00:37 - adding 10-th encoder to optimizer...
00:00:37 - adding 11-th encoder to optimizer...
00:00:38 - process[7]: training epoch 0 ...
00:01:02 - process[7] - epoch 0 - train iter 410 - 14139.3 words/s - loss: 0.6956
00:01:02 - process[7]: training epoch 1 ...
00:01:24 - process[7] - epoch 1 - train iter 410 - 14870.3 words/s - loss: 0.6980
00:01:24 - process[7]: training epoch 2 ...
00:01:46 - process[7] - epoch 2 - train iter 410 - 15110.6 words/s - loss: 0.6939
00:01:46 - process[7]: training epoch 3 ...
00:02:09 - process[7] - epoch 3 - train iter 410 - 14562.7 words/s - loss: 0.6988
00:02:09 - process[7]: training epoch 4 ...
00:02:32 - process[7] - epoch 4 - train iter 410 - 14378.6 words/s - loss: 0.6777
00:02:32 - process[7]: training epoch 5 ...
00:02:54 - process[7] - epoch 5 - train iter 410 - 15029.1 words/s - loss: 0.6534
00:02:54 - process[7]: training epoch 6 ...
00:03:17 - process[7] - epoch 6 - train iter 410 - 14239.7 words/s - loss: 0.5714
00:03:17 - process[7]: training epoch 7 ...
00:03:41 - process[7] - epoch 7 - train iter 410 - 13967.1 words/s - loss: 0.5382
00:03:41 - process[7]: training epoch 8 ...
00:04:04 - process[7] - epoch 8 - train iter 410 - 14214.4 words/s - loss: 0.5013
00:04:04 - process[7]: training epoch 9 ...
00:04:27 - process[7] - epoch 9 - train iter 410 - 14343.8 words/s - loss: 0.5029
00:04:27 - process[7]: training epoch 10 ...
00:04:51 - process[7] - epoch 10 - train iter 410 - 13899.7 words/s - loss: 0.4475
00:04:51 - process[7]: evaluating epoch 10 on dev ...
00:05:09 - dev set during evaluation: 13240/13232
00:05:09 - process[7] - dev - epoch 10 - mAP: 0.261 w/ 38 queries
00:05:09 - process[7]: evaluating epoch 10 on test ...
00:05:28 - test set during evaluation: 14200/14194
00:05:28 - process[7] - test - epoch 10 - mAP: 0.345 w/ 38 queries
00:05:28 - process[7]: training epoch 11 ...
00:05:51 - process[7] - epoch 11 - train iter 410 - 14020.7 words/s - loss: 0.4276
00:05:51 - process[7]: evaluating epoch 11 on dev ...
00:06:09 - dev set during evaluation: 13240/13232
00:06:09 - process[7] - dev - epoch 11 - mAP: 0.251 w/ 38 queries
00:06:09 - process[7]: training epoch 12 ...
00:06:31 - process[7] - epoch 12 - train iter 410 - 14412.8 words/s - loss: 0.3918
00:06:31 - process[7]: evaluating epoch 12 on dev ...
00:06:49 - dev set during evaluation: 13240/13232
00:06:49 - process[7] - dev - epoch 12 - mAP: 0.236 w/ 38 queries
00:06:49 - process[7]: training epoch 13 ...
00:07:12 - process[7] - epoch 13 - train iter 410 - 14320.4 words/s - loss: 0.4190
00:07:12 - process[7]: evaluating epoch 13 on dev ...
00:07:29 - dev set during evaluation: 13240/13232
00:07:29 - process[7] - dev - epoch 13 - mAP: 0.242 w/ 38 queries
00:07:29 - process[7]: training epoch 14 ...
00:07:52 - process[7] - epoch 14 - train iter 410 - 14185.0 words/s - loss: 0.3406
00:07:52 - process[7]: evaluating epoch 14 on dev ...
00:08:10 - dev set during evaluation: 13240/13232
00:08:10 - process[7] - dev - epoch 14 - mAP: 0.228 w/ 38 queries
00:08:10 - process[7]: training epoch 15 ...
00:08:32 - process[7] - epoch 15 - train iter 410 - 14436.2 words/s - loss: 0.3738
00:08:32 - process[7]: evaluating epoch 15 on dev ...
00:08:50 - dev set during evaluation: 13240/13232
00:08:50 - process[7] - dev - epoch 15 - mAP: 0.237 w/ 38 queries
00:08:50 - process[7]: training epoch 16 ...
00:09:13 - process[7] - epoch 16 - train iter 410 - 14032.7 words/s - loss: 0.3594
00:09:13 - process[7]: evaluating epoch 16 on dev ...
00:09:30 - dev set during evaluation: 13240/13232
00:09:30 - process[7] - dev - epoch 16 - mAP: 0.236 w/ 38 queries
00:09:30 - process[7]: training epoch 17 ...
00:09:54 - process[7] - epoch 17 - train iter 410 - 14069.8 words/s - loss: 0.3107
00:09:54 - process[7]: evaluating epoch 17 on dev ...
00:10:12 - dev set during evaluation: 13240/13232
00:10:12 - process[7] - dev - epoch 17 - mAP: 0.244 w/ 38 queries
00:10:12 - process[7]: training epoch 18 ...
00:10:34 - process[7] - epoch 18 - train iter 410 - 14497.0 words/s - loss: 0.3219
00:10:34 - process[7]: evaluating epoch 18 on dev ...
00:10:52 - dev set during evaluation: 13240/13232
00:10:52 - process[7] - dev - epoch 18 - mAP: 0.234 w/ 38 queries
00:10:52 - process[7]: training epoch 19 ...
00:11:15 - process[7] - epoch 19 - train iter 410 - 14194.4 words/s - loss: 0.2848
00:11:15 - process[7]: evaluating epoch 19 on dev ...
00:11:33 - dev set during evaluation: 13240/13232
00:11:33 - process[7] - dev - epoch 19 - mAP: 0.230 w/ 38 queries
00:11:33 - [fold 1] best test MAP: 0.345 @ epoch 10
00:11:33 - Evaluating every 1 epochs ...
00:11:33 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:11:34 - test has 39 queries ...
00:11:34 - Data reading done ...
00:11:35 - adding 9-th encoder to optimizer...
00:11:35 - adding 10-th encoder to optimizer...
00:11:35 - adding 11-th encoder to optimizer...
00:11:36 - process[7]: training epoch 0 ...
00:12:03 - process[7] - epoch 0 - train iter 378 - 10899.2 words/s - loss: 0.6946
00:12:03 - process[7]: training epoch 1 ...
00:12:30 - process[7] - epoch 1 - train iter 378 - 11100.4 words/s - loss: 0.6979
00:12:30 - process[7]: training epoch 2 ...
00:12:58 - process[7] - epoch 2 - train iter 378 - 10909.3 words/s - loss: 0.6957
00:12:58 - process[7]: training epoch 3 ...
00:13:26 - process[7] - epoch 3 - train iter 378 - 10803.5 words/s - loss: 0.6965
00:13:26 - process[7]: training epoch 4 ...
00:13:54 - process[7] - epoch 4 - train iter 378 - 10904.6 words/s - loss: 0.6771
00:13:54 - process[7]: training epoch 5 ...
00:14:22 - process[7] - epoch 5 - train iter 378 - 10890.7 words/s - loss: 0.6424
00:14:22 - process[7]: training epoch 6 ...
00:14:50 - process[7] - epoch 6 - train iter 378 - 10491.6 words/s - loss: 0.5655
00:14:50 - process[7]: training epoch 7 ...
00:15:20 - process[7] - epoch 7 - train iter 378 - 10164.4 words/s - loss: 0.5380
00:15:20 - process[7]: training epoch 8 ...
00:15:47 - process[7] - epoch 8 - train iter 378 - 11240.1 words/s - loss: 0.4966
00:15:47 - process[7]: training epoch 9 ...
00:16:15 - process[7] - epoch 9 - train iter 378 - 10971.4 words/s - loss: 0.4731
00:16:15 - process[7]: training epoch 10 ...
00:16:43 - process[7] - epoch 10 - train iter 378 - 10765.5 words/s - loss: 0.4626
00:16:43 - process[7]: evaluating epoch 10 on dev ...
00:17:07 - dev set during evaluation: 14200/14194
00:17:07 - process[7] - dev - epoch 10 - mAP: 0.314 w/ 38 queries
00:17:07 - process[7]: evaluating epoch 10 on test ...
00:17:30 - test set during evaluation: 13010/13003
00:17:30 - process[7] - test - epoch 10 - mAP: 0.319 w/ 39 queries
00:17:30 - process[7]: training epoch 11 ...
00:17:57 - process[7] - epoch 11 - train iter 378 - 10748.7 words/s - loss: 0.4433
00:17:57 - process[7]: evaluating epoch 11 on dev ...
00:18:22 - dev set during evaluation: 14200/14194
00:18:22 - process[7] - dev - epoch 11 - mAP: 0.295 w/ 38 queries
00:18:22 - process[7]: training epoch 12 ...
00:18:50 - process[7] - epoch 12 - train iter 378 - 10611.9 words/s - loss: 0.4150
00:18:50 - process[7]: evaluating epoch 12 on dev ...
00:19:14 - dev set during evaluation: 14200/14194
00:19:14 - process[7] - dev - epoch 12 - mAP: 0.318 w/ 38 queries
00:19:14 - process[7]: evaluating epoch 12 on test ...
00:19:36 - test set during evaluation: 13010/13003
00:19:36 - process[7] - test - epoch 12 - mAP: 0.306 w/ 39 queries
00:19:36 - process[7]: training epoch 13 ...
00:20:05 - process[7] - epoch 13 - train iter 378 - 10366.8 words/s - loss: 0.3706
00:20:05 - process[7]: evaluating epoch 13 on dev ...
00:20:29 - dev set during evaluation: 14200/14194
00:20:29 - process[7] - dev - epoch 13 - mAP: 0.324 w/ 38 queries
00:20:29 - process[7]: evaluating epoch 13 on test ...
00:20:52 - test set during evaluation: 13010/13003
00:20:52 - process[7] - test - epoch 13 - mAP: 0.309 w/ 39 queries
00:20:52 - process[7]: training epoch 14 ...
00:21:21 - process[7] - epoch 14 - train iter 378 - 10554.5 words/s - loss: 0.3853
00:21:21 - process[7]: evaluating epoch 14 on dev ...
00:21:45 - dev set during evaluation: 14200/14194
00:21:45 - process[7] - dev - epoch 14 - mAP: 0.304 w/ 38 queries
00:21:45 - process[7]: training epoch 15 ...
00:22:13 - process[7] - epoch 15 - train iter 378 - 10644.9 words/s - loss: 0.3556
00:22:13 - process[7]: evaluating epoch 15 on dev ...
00:22:37 - dev set during evaluation: 14200/14194
00:22:37 - process[7] - dev - epoch 15 - mAP: 0.302 w/ 38 queries
00:22:37 - process[7]: training epoch 16 ...
00:23:04 - process[7] - epoch 16 - train iter 378 - 11051.3 words/s - loss: 0.3473
00:23:04 - process[7]: evaluating epoch 16 on dev ...
00:23:29 - dev set during evaluation: 14200/14194
00:23:29 - process[7] - dev - epoch 16 - mAP: 0.294 w/ 38 queries
00:23:29 - process[7]: training epoch 17 ...
00:23:57 - process[7] - epoch 17 - train iter 378 - 10757.3 words/s - loss: 0.3546
00:23:57 - process[7]: evaluating epoch 17 on dev ...
00:24:20 - dev set during evaluation: 14200/14194
00:24:20 - process[7] - dev - epoch 17 - mAP: 0.305 w/ 38 queries
00:24:20 - process[7]: training epoch 18 ...
00:24:48 - process[7] - epoch 18 - train iter 378 - 11123.1 words/s - loss: 0.3490
00:24:48 - process[7]: evaluating epoch 18 on dev ...
00:25:12 - dev set during evaluation: 14200/14194
00:25:12 - process[7] - dev - epoch 18 - mAP: 0.286 w/ 38 queries
00:25:12 - process[7]: training epoch 19 ...
00:25:40 - process[7] - epoch 19 - train iter 378 - 10795.4 words/s - loss: 0.3111
00:25:40 - process[7]: evaluating epoch 19 on dev ...
00:26:04 - dev set during evaluation: 14200/14194
00:26:04 - process[7] - dev - epoch 19 - mAP: 0.296 w/ 38 queries
00:26:04 - [fold 2] best test MAP: 0.309 @ epoch 13
00:26:04 - Evaluating every 1 epochs ...
00:26:04 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:26:05 - test has 39 queries ...
00:26:05 - Data reading done ...
00:26:07 - adding 9-th encoder to optimizer...
00:26:07 - adding 10-th encoder to optimizer...
00:26:07 - adding 11-th encoder to optimizer...
00:26:07 - process[7]: training epoch 0 ...
00:26:36 - process[7] - epoch 0 - train iter 397 - 11145.7 words/s - loss: 0.6954
00:26:36 - process[7]: training epoch 1 ...
00:27:04 - process[7] - epoch 1 - train iter 397 - 11291.3 words/s - loss: 0.6942
00:27:04 - process[7]: training epoch 2 ...
00:27:34 - process[7] - epoch 2 - train iter 397 - 10471.4 words/s - loss: 0.6930
00:27:34 - process[7]: training epoch 3 ...
00:28:03 - process[7] - epoch 3 - train iter 397 - 11253.7 words/s - loss: 0.6890
00:28:03 - process[7]: training epoch 4 ...
00:28:34 - process[7] - epoch 4 - train iter 397 - 10395.0 words/s - loss: 0.6589
00:28:34 - process[7]: training epoch 5 ...
00:29:04 - process[7] - epoch 5 - train iter 397 - 10763.3 words/s - loss: 0.6578
00:29:04 - process[7]: training epoch 6 ...
00:29:34 - process[7] - epoch 6 - train iter 397 - 10984.9 words/s - loss: 0.6053
00:29:34 - process[7]: training epoch 7 ...
00:30:05 - process[7] - epoch 7 - train iter 397 - 10250.0 words/s - loss: 0.5698
00:30:05 - process[7]: training epoch 8 ...
00:30:34 - process[7] - epoch 8 - train iter 397 - 10971.1 words/s - loss: 0.5474
00:30:34 - process[7]: training epoch 9 ...
00:31:04 - process[7] - epoch 9 - train iter 397 - 10855.7 words/s - loss: 0.5261
00:31:04 - process[7]: training epoch 10 ...
00:31:34 - process[7] - epoch 10 - train iter 397 - 10756.9 words/s - loss: 0.4615
00:31:34 - process[7]: evaluating epoch 10 on dev ...
00:31:56 - dev set during evaluation: 13010/13003
00:31:56 - process[7] - dev - epoch 10 - mAP: 0.276 w/ 39 queries
00:31:56 - process[7]: evaluating epoch 10 on test ...
00:32:22 - test set during evaluation: 14900/14894
00:32:22 - process[7] - test - epoch 10 - mAP: 0.222 w/ 39 queries
00:32:22 - process[7]: training epoch 11 ...
00:32:52 - process[7] - epoch 11 - train iter 397 - 10865.9 words/s - loss: 0.4824
00:32:52 - process[7]: evaluating epoch 11 on dev ...
00:33:15 - dev set during evaluation: 13010/13003
00:33:15 - process[7] - dev - epoch 11 - mAP: 0.280 w/ 39 queries
00:33:15 - process[7]: evaluating epoch 11 on test ...
00:33:41 - test set during evaluation: 14900/14894
00:33:41 - process[7] - test - epoch 11 - mAP: 0.231 w/ 39 queries
00:33:41 - process[7]: training epoch 12 ...
00:34:11 - process[7] - epoch 12 - train iter 397 - 10622.9 words/s - loss: 0.4109
00:34:11 - process[7]: evaluating epoch 12 on dev ...
00:34:33 - dev set during evaluation: 13010/13003
00:34:33 - process[7] - dev - epoch 12 - mAP: 0.281 w/ 39 queries
00:34:33 - process[7]: evaluating epoch 12 on test ...
00:34:59 - test set during evaluation: 14900/14894
00:34:59 - process[7] - test - epoch 12 - mAP: 0.247 w/ 39 queries
00:34:59 - process[7]: training epoch 13 ...
00:35:27 - process[7] - epoch 13 - train iter 397 - 11092.8 words/s - loss: 0.3816
00:35:27 - process[7]: evaluating epoch 13 on dev ...
00:35:50 - dev set during evaluation: 13010/13003
00:35:50 - process[7] - dev - epoch 13 - mAP: 0.273 w/ 39 queries
00:35:50 - process[7]: training epoch 14 ...
00:36:21 - process[7] - epoch 14 - train iter 397 - 10074.9 words/s - loss: 0.3918
00:36:21 - process[7]: evaluating epoch 14 on dev ...
00:36:44 - dev set during evaluation: 13010/13003
00:36:44 - process[7] - dev - epoch 14 - mAP: 0.279 w/ 39 queries
00:36:44 - process[7]: training epoch 15 ...
00:37:13 - process[7] - epoch 15 - train iter 397 - 10799.5 words/s - loss: 0.3697
00:37:13 - process[7]: evaluating epoch 15 on dev ...
00:37:36 - dev set during evaluation: 13010/13003
00:37:36 - process[7] - dev - epoch 15 - mAP: 0.279 w/ 39 queries
00:37:36 - process[7]: training epoch 16 ...
00:38:19 - process[7] - epoch 16 - train iter 397 - 7531.0 words/s - loss: 0.3814
00:38:19 - process[7]: evaluating epoch 16 on dev ...
00:38:56 - dev set during evaluation: 13010/13003
00:38:56 - process[7] - dev - epoch 16 - mAP: 0.279 w/ 39 queries
00:38:56 - process[7]: training epoch 17 ...
00:39:44 - process[7] - epoch 17 - train iter 397 - 6754.6 words/s - loss: 0.3136
00:39:44 - process[7]: evaluating epoch 17 on dev ...
00:40:23 - dev set during evaluation: 13010/13003
00:40:24 - process[7] - dev - epoch 17 - mAP: 0.272 w/ 39 queries
00:40:24 - process[7]: training epoch 18 ...
00:41:09 - process[7] - epoch 18 - train iter 397 - 7098.3 words/s - loss: 0.3240
00:41:09 - process[7]: evaluating epoch 18 on dev ...
00:41:45 - dev set during evaluation: 13010/13003
00:41:45 - process[7] - dev - epoch 18 - mAP: 0.268 w/ 39 queries
00:41:45 - process[7]: training epoch 19 ...
00:42:32 - process[7] - epoch 19 - train iter 397 - 6704.0 words/s - loss: 0.3062
00:42:32 - process[7]: evaluating epoch 19 on dev ...
00:43:11 - dev set during evaluation: 13010/13003
00:43:11 - process[7] - dev - epoch 19 - mAP: 0.273 w/ 39 queries
00:43:11 - [fold 3] best test MAP: 0.247 @ epoch 12
00:43:11 - Evaluating every 1 epochs ...
00:43:11 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:43:12 - test has 38 queries ...
00:43:12 - Data reading done ...
00:43:14 - adding 9-th encoder to optimizer...
00:43:14 - adding 10-th encoder to optimizer...
00:43:14 - adding 11-th encoder to optimizer...
00:43:17 - process[7]: training epoch 0 ...
00:43:59 - process[7] - epoch 0 - train iter 399 - 7583.6 words/s - loss: 0.6964
00:43:59 - process[7]: training epoch 1 ...
00:44:44 - process[7] - epoch 1 - train iter 399 - 7403.9 words/s - loss: 0.6995
00:44:44 - process[7]: training epoch 2 ...
00:45:25 - process[7] - epoch 2 - train iter 399 - 7892.3 words/s - loss: 0.6942
00:45:25 - process[7]: training epoch 3 ...
00:46:09 - process[7] - epoch 3 - train iter 399 - 7498.9 words/s - loss: 0.6930
00:46:09 - process[7]: training epoch 4 ...
00:46:55 - process[7] - epoch 4 - train iter 399 - 7112.2 words/s - loss: 0.6782
00:46:55 - process[7]: training epoch 5 ...
00:47:41 - process[7] - epoch 5 - train iter 399 - 7129.9 words/s - loss: 0.6651
00:47:41 - process[7]: training epoch 6 ...
00:48:25 - process[7] - epoch 6 - train iter 399 - 7456.2 words/s - loss: 0.6368
00:48:25 - process[7]: training epoch 7 ...
00:49:07 - process[7] - epoch 7 - train iter 399 - 7834.9 words/s - loss: 0.6138
00:49:07 - process[7]: training epoch 8 ...
00:49:50 - process[7] - epoch 8 - train iter 399 - 7491.6 words/s - loss: 0.5724
00:49:50 - process[7]: training epoch 9 ...
00:50:31 - process[7] - epoch 9 - train iter 399 - 7857.1 words/s - loss: 0.5497
00:50:31 - process[7]: training epoch 10 ...
00:51:16 - process[7] - epoch 10 - train iter 399 - 7290.5 words/s - loss: 0.5120
00:51:16 - process[7]: evaluating epoch 10 on dev ...
00:52:01 - dev set during evaluation: 14900/14894
00:52:01 - process[7] - dev - epoch 10 - mAP: 0.206 w/ 39 queries
00:52:01 - process[7]: evaluating epoch 10 on test ...
00:52:42 - test set during evaluation: 13670/13666
00:52:42 - process[7] - test - epoch 10 - mAP: 0.235 w/ 38 queries
00:52:42 - process[7]: training epoch 11 ...
00:53:24 - process[7] - epoch 11 - train iter 399 - 7820.2 words/s - loss: 0.5000
00:53:24 - process[7]: evaluating epoch 11 on dev ...
00:53:59 - dev set during evaluation: 14900/14894
00:53:59 - process[7] - dev - epoch 11 - mAP: 0.203 w/ 39 queries
00:53:59 - process[7]: training epoch 12 ...
00:54:41 - process[7] - epoch 12 - train iter 399 - 7744.3 words/s - loss: 0.4623
00:54:41 - process[7]: evaluating epoch 12 on dev ...
00:55:15 - dev set during evaluation: 14900/14894
00:55:15 - process[7] - dev - epoch 12 - mAP: 0.212 w/ 39 queries
00:55:15 - process[7]: evaluating epoch 12 on test ...
00:55:44 - test set during evaluation: 13670/13666
00:55:44 - process[7] - test - epoch 12 - mAP: 0.233 w/ 38 queries
00:55:44 - process[7]: training epoch 13 ...
00:56:19 - process[7] - epoch 13 - train iter 399 - 9374.5 words/s - loss: 0.4117
00:56:19 - process[7]: evaluating epoch 13 on dev ...
00:56:53 - dev set during evaluation: 14900/14894
00:56:53 - process[7] - dev - epoch 13 - mAP: 0.210 w/ 39 queries
00:56:53 - process[7]: training epoch 14 ...
00:57:31 - process[7] - epoch 14 - train iter 399 - 8560.9 words/s - loss: 0.4086
00:57:31 - process[7]: evaluating epoch 14 on dev ...
00:58:14 - dev set during evaluation: 14900/14894
00:58:14 - process[7] - dev - epoch 14 - mAP: 0.207 w/ 39 queries
00:58:14 - process[7]: training epoch 15 ...
00:58:50 - process[7] - epoch 15 - train iter 399 - 8948.2 words/s - loss: 0.3808
00:58:50 - process[7]: evaluating epoch 15 on dev ...
00:59:29 - dev set during evaluation: 14900/14894
00:59:29 - process[7] - dev - epoch 15 - mAP: 0.206 w/ 39 queries
00:59:29 - process[7]: training epoch 16 ...
01:00:07 - process[7] - epoch 16 - train iter 399 - 8600.1 words/s - loss: 0.3318
01:00:07 - process[7]: evaluating epoch 16 on dev ...
01:00:47 - dev set during evaluation: 14900/14894
01:00:47 - process[7] - dev - epoch 16 - mAP: 0.213 w/ 39 queries
01:00:47 - process[7]: evaluating epoch 16 on test ...
01:01:23 - test set during evaluation: 13670/13666
01:01:23 - process[7] - test - epoch 16 - mAP: 0.222 w/ 38 queries
01:01:23 - process[7]: training epoch 17 ...
01:01:59 - process[7] - epoch 17 - train iter 399 - 9157.1 words/s - loss: 0.3532
01:01:59 - process[7]: evaluating epoch 17 on dev ...
01:02:35 - dev set during evaluation: 14900/14894
01:02:35 - process[7] - dev - epoch 17 - mAP: 0.215 w/ 39 queries
01:02:35 - process[7]: evaluating epoch 17 on test ...
01:03:09 - test set during evaluation: 13670/13666
01:03:09 - process[7] - test - epoch 17 - mAP: 0.223 w/ 38 queries
01:03:09 - process[7]: training epoch 18 ...
01:03:43 - process[7] - epoch 18 - train iter 399 - 9521.4 words/s - loss: 0.3227
01:03:43 - process[7]: evaluating epoch 18 on dev ...
01:04:20 - dev set during evaluation: 14900/14894
01:04:20 - process[7] - dev - epoch 18 - mAP: 0.210 w/ 39 queries
01:04:20 - process[7]: training epoch 19 ...
01:04:56 - process[7] - epoch 19 - train iter 399 - 9171.1 words/s - loss: 0.2913
01:04:56 - process[7]: evaluating epoch 19 on dev ...
01:05:36 - dev set during evaluation: 14900/14894
01:05:36 - process[7] - dev - epoch 19 - mAP: 0.212 w/ 39 queries
01:05:36 - [fold 4] best test MAP: 0.223 @ epoch 17
01:05:36 - Evaluating every 1 epochs ...
01:05:36 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
01:05:38 - test has 38 queries ...
01:05:38 - Data reading done ...
01:05:40 - adding 9-th encoder to optimizer...
01:05:40 - adding 10-th encoder to optimizer...
01:05:40 - adding 11-th encoder to optimizer...
01:05:42 - process[7]: training epoch 0 ...
01:06:22 - process[7] - epoch 0 - train iter 433 - 8754.7 words/s - loss: 0.6972
01:06:22 - process[7]: training epoch 1 ...
01:07:05 - process[7] - epoch 1 - train iter 433 - 8068.0 words/s - loss: 0.6965
01:07:05 - process[7]: training epoch 2 ...
01:07:48 - process[7] - epoch 2 - train iter 433 - 8311.1 words/s - loss: 0.6945
01:07:48 - process[7]: training epoch 3 ...
01:08:29 - process[7] - epoch 3 - train iter 433 - 8466.7 words/s - loss: 0.6930
01:08:29 - process[7]: training epoch 4 ...
01:09:08 - process[7] - epoch 4 - train iter 433 - 9028.7 words/s - loss: 0.6925
01:09:08 - process[7]: training epoch 5 ...
01:09:46 - process[7] - epoch 5 - train iter 433 - 9234.7 words/s - loss: 0.6654
01:09:46 - process[7]: training epoch 6 ...
01:10:24 - process[7] - epoch 6 - train iter 433 - 8927.3 words/s - loss: 0.6661
01:10:24 - process[7]: training epoch 7 ...
01:11:01 - process[7] - epoch 7 - train iter 433 - 9617.6 words/s - loss: 0.6223
01:11:01 - process[7]: training epoch 8 ...
01:11:39 - process[7] - epoch 8 - train iter 433 - 9230.2 words/s - loss: 0.5831
01:11:39 - process[7]: training epoch 9 ...
01:12:18 - process[7] - epoch 9 - train iter 433 - 9273.4 words/s - loss: 0.5534
01:12:18 - process[7]: training epoch 10 ...
01:12:55 - process[7] - epoch 10 - train iter 433 - 9519.7 words/s - loss: 0.5187
01:12:55 - process[7]: evaluating epoch 10 on dev ...
01:13:30 - dev set during evaluation: 13670/13666
01:13:30 - process[7] - dev - epoch 10 - mAP: 0.281 w/ 38 queries
01:13:30 - process[7]: evaluating epoch 10 on test ...
01:14:02 - test set during evaluation: 13240/13232
01:14:02 - process[7] - test - epoch 10 - mAP: 0.238 w/ 38 queries
01:14:02 - process[7]: training epoch 11 ...
01:14:37 - process[7] - epoch 11 - train iter 433 - 9987.2 words/s - loss: 0.5259
01:14:37 - process[7]: evaluating epoch 11 on dev ...
01:15:15 - dev set during evaluation: 13670/13666
01:15:15 - process[7] - dev - epoch 11 - mAP: 0.289 w/ 38 queries
01:15:15 - process[7]: evaluating epoch 11 on test ...
01:15:49 - test set during evaluation: 13240/13232
01:15:49 - process[7] - test - epoch 11 - mAP: 0.231 w/ 38 queries
01:15:49 - process[7]: training epoch 12 ...
01:16:26 - process[7] - epoch 12 - train iter 433 - 9761.2 words/s - loss: 0.4659
01:16:26 - process[7]: evaluating epoch 12 on dev ...
01:17:06 - dev set during evaluation: 13670/13666
01:17:06 - process[7] - dev - epoch 12 - mAP: 0.299 w/ 38 queries
01:17:06 - process[7]: evaluating epoch 12 on test ...
01:17:36 - test set during evaluation: 13240/13232
01:17:36 - process[7] - test - epoch 12 - mAP: 0.232 w/ 38 queries
01:17:36 - process[7]: training epoch 13 ...
01:18:12 - process[7] - epoch 13 - train iter 433 - 9723.5 words/s - loss: 0.4718
01:18:12 - process[7]: evaluating epoch 13 on dev ...
01:18:51 - dev set during evaluation: 13670/13666
01:18:51 - process[7] - dev - epoch 13 - mAP: 0.285 w/ 38 queries
01:18:51 - process[7]: training epoch 14 ...
01:19:28 - process[7] - epoch 14 - train iter 433 - 9481.2 words/s - loss: 0.4160
01:19:28 - process[7]: evaluating epoch 14 on dev ...
01:20:04 - dev set during evaluation: 13670/13666
01:20:04 - process[7] - dev - epoch 14 - mAP: 0.292 w/ 38 queries
01:20:04 - process[7]: training epoch 15 ...
01:20:39 - process[7] - epoch 15 - train iter 433 - 9964.5 words/s - loss: 0.4208
01:20:39 - process[7]: evaluating epoch 15 on dev ...
01:21:05 - dev set during evaluation: 13670/13666
01:21:05 - process[7] - dev - epoch 15 - mAP: 0.281 w/ 38 queries
01:21:05 - process[7]: training epoch 16 ...
01:21:36 - process[7] - epoch 16 - train iter 433 - 11511.4 words/s - loss: 0.3805
01:21:36 - process[7]: evaluating epoch 16 on dev ...
01:22:02 - dev set during evaluation: 13670/13666
01:22:02 - process[7] - dev - epoch 16 - mAP: 0.281 w/ 38 queries
01:22:02 - process[7]: training epoch 17 ...
01:22:31 - process[7] - epoch 17 - train iter 433 - 12066.4 words/s - loss: 0.3694
01:22:31 - process[7]: evaluating epoch 17 on dev ...
01:22:56 - dev set during evaluation: 13670/13666
01:22:56 - process[7] - dev - epoch 17 - mAP: 0.303 w/ 38 queries
01:22:56 - process[7]: evaluating epoch 17 on test ...
01:23:17 - test set during evaluation: 13240/13232
01:23:17 - process[7] - test - epoch 17 - mAP: 0.220 w/ 38 queries
01:23:17 - process[7]: training epoch 18 ...
01:23:46 - process[7] - epoch 18 - train iter 433 - 11974.6 words/s - loss: 0.3830
01:23:46 - process[7]: evaluating epoch 18 on dev ...
01:24:11 - dev set during evaluation: 13670/13666
01:24:11 - process[7] - dev - epoch 18 - mAP: 0.279 w/ 38 queries
01:24:11 - process[7]: training epoch 19 ...
01:24:42 - process[7] - epoch 19 - train iter 433 - 11473.8 words/s - loss: 0.3319
01:24:42 - process[7]: evaluating epoch 19 on dev ...
01:25:06 - dev set during evaluation: 13670/13666
01:25:06 - process[7] - dev - epoch 19 - mAP: 0.295 w/ 38 queries
01:25:06 - [fold 5] best test MAP: 0.220 @ epoch 17
01:25:06 - [0.345056019733919, 0.3086897581266927, 0.246628148031135, 0.2231109777559869, 0.220345406068919]
01:25:06 - [38, 39, 39, 38, 38]
01:25:06 - final MAP: 0.269
