00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=True, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=8, model_path='xlm-roberta-base', model_type='xlmr', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='de')
00:00:26 - Evaluating every 1 epochs ...
00:00:26 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:00:27 - test has 38 queries ...
00:00:27 - Data reading done ...
00:00:34 - adding 9-th encoder to optimizer...
00:00:34 - adding 10-th encoder to optimizer...
00:00:34 - adding 11-th encoder to optimizer...
00:00:34 - process[8]: training epoch 0 ...
00:00:58 - process[8] - epoch 0 - train iter 410 - 13939.8 words/s - loss: 0.7057
00:00:58 - process[8]: training epoch 1 ...
00:01:21 - process[8] - epoch 1 - train iter 410 - 14454.3 words/s - loss: 0.7041
00:01:21 - process[8]: training epoch 2 ...
00:01:43 - process[8] - epoch 2 - train iter 410 - 14580.1 words/s - loss: 0.6937
00:01:43 - process[8]: training epoch 3 ...
00:02:06 - process[8] - epoch 3 - train iter 410 - 14325.0 words/s - loss: 0.6923
00:02:06 - process[8]: training epoch 4 ...
00:02:29 - process[8] - epoch 4 - train iter 410 - 14146.8 words/s - loss: 0.6782
00:02:29 - process[8]: training epoch 5 ...
00:02:52 - process[8] - epoch 5 - train iter 410 - 14921.3 words/s - loss: 0.6597
00:02:52 - process[8]: training epoch 6 ...
00:03:15 - process[8] - epoch 6 - train iter 410 - 14102.8 words/s - loss: 0.6381
00:03:15 - process[8]: training epoch 7 ...
00:03:39 - process[8] - epoch 7 - train iter 410 - 13797.1 words/s - loss: 0.5988
00:03:39 - process[8]: training epoch 8 ...
00:04:02 - process[8] - epoch 8 - train iter 410 - 14089.1 words/s - loss: 0.5568
00:04:02 - process[8]: training epoch 9 ...
00:04:26 - process[8] - epoch 9 - train iter 410 - 14050.3 words/s - loss: 0.5150
00:04:26 - process[8]: training epoch 10 ...
00:04:50 - process[8] - epoch 10 - train iter 410 - 13595.3 words/s - loss: 0.4518
00:04:50 - process[8]: evaluating epoch 10 on dev ...
00:05:07 - dev set during evaluation: 13240/13232
00:05:07 - process[8] - dev - epoch 10 - mAP: 0.214 w/ 38 queries
00:05:07 - process[8]: evaluating epoch 10 on test ...
00:05:26 - test set during evaluation: 14200/14194
00:05:26 - process[8] - test - epoch 10 - mAP: 0.280 w/ 38 queries
00:05:26 - process[8]: training epoch 11 ...
00:05:50 - process[8] - epoch 11 - train iter 410 - 14102.7 words/s - loss: 0.4625
00:05:50 - process[8]: evaluating epoch 11 on dev ...
00:06:07 - dev set during evaluation: 13240/13232
00:06:07 - process[8] - dev - epoch 11 - mAP: 0.205 w/ 38 queries
00:06:07 - process[8]: training epoch 12 ...
00:06:30 - process[8] - epoch 12 - train iter 410 - 14270.1 words/s - loss: 0.4560
00:06:30 - process[8]: evaluating epoch 12 on dev ...
00:06:47 - dev set during evaluation: 13240/13232
00:06:47 - process[8] - dev - epoch 12 - mAP: 0.199 w/ 38 queries
00:06:47 - process[8]: training epoch 13 ...
00:07:10 - process[8] - epoch 13 - train iter 410 - 14335.6 words/s - loss: 0.4256
00:07:10 - process[8]: evaluating epoch 13 on dev ...
00:07:28 - dev set during evaluation: 13240/13232
00:07:28 - process[8] - dev - epoch 13 - mAP: 0.193 w/ 38 queries
00:07:28 - process[8]: training epoch 14 ...
00:07:51 - process[8] - epoch 14 - train iter 410 - 14296.6 words/s - loss: 0.3799
00:07:51 - process[8]: evaluating epoch 14 on dev ...
00:08:08 - dev set during evaluation: 13240/13232
00:08:08 - process[8] - dev - epoch 14 - mAP: 0.187 w/ 38 queries
00:08:08 - process[8]: training epoch 15 ...
00:08:31 - process[8] - epoch 15 - train iter 410 - 14413.9 words/s - loss: 0.4113
00:08:31 - process[8]: evaluating epoch 15 on dev ...
00:08:48 - dev set during evaluation: 13240/13232
00:08:48 - process[8] - dev - epoch 15 - mAP: 0.187 w/ 38 queries
00:08:48 - process[8]: training epoch 16 ...
00:09:12 - process[8] - epoch 16 - train iter 410 - 14076.0 words/s - loss: 0.3269
00:09:12 - process[8]: evaluating epoch 16 on dev ...
00:09:29 - dev set during evaluation: 13240/13232
00:09:29 - process[8] - dev - epoch 16 - mAP: 0.183 w/ 38 queries
00:09:29 - process[8]: training epoch 17 ...
00:09:53 - process[8] - epoch 17 - train iter 410 - 13771.6 words/s - loss: 0.3689
00:09:53 - process[8]: evaluating epoch 17 on dev ...
00:10:10 - dev set during evaluation: 13240/13232
00:10:10 - process[8] - dev - epoch 17 - mAP: 0.176 w/ 38 queries
00:10:10 - process[8]: training epoch 18 ...
00:10:33 - process[8] - epoch 18 - train iter 410 - 13965.5 words/s - loss: 0.3133
00:10:33 - process[8]: evaluating epoch 18 on dev ...
00:10:51 - dev set during evaluation: 13240/13232
00:10:51 - process[8] - dev - epoch 18 - mAP: 0.184 w/ 38 queries
00:10:51 - process[8]: training epoch 19 ...
00:11:14 - process[8] - epoch 19 - train iter 410 - 14128.0 words/s - loss: 0.2701
00:11:14 - process[8]: evaluating epoch 19 on dev ...
00:11:31 - dev set during evaluation: 13240/13232
00:11:31 - process[8] - dev - epoch 19 - mAP: 0.172 w/ 38 queries
00:11:31 - [fold 1] best test MAP: 0.280 @ epoch 10
00:11:31 - Evaluating every 1 epochs ...
00:11:31 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:11:32 - test has 39 queries ...
00:11:32 - Data reading done ...
00:11:34 - adding 9-th encoder to optimizer...
00:11:34 - adding 10-th encoder to optimizer...
00:11:34 - adding 11-th encoder to optimizer...
00:11:34 - process[8]: training epoch 0 ...
00:12:02 - process[8] - epoch 0 - train iter 378 - 11092.1 words/s - loss: 0.7092
00:12:02 - process[8]: training epoch 1 ...
00:12:29 - process[8] - epoch 1 - train iter 378 - 11058.5 words/s - loss: 0.7069
00:12:29 - process[8]: training epoch 2 ...
00:12:57 - process[8] - epoch 2 - train iter 378 - 10572.2 words/s - loss: 0.6919
00:12:57 - process[8]: training epoch 3 ...
00:13:25 - process[8] - epoch 3 - train iter 378 - 10728.4 words/s - loss: 0.6829
00:13:25 - process[8]: training epoch 4 ...
00:13:53 - process[8] - epoch 4 - train iter 378 - 10608.0 words/s - loss: 0.6703
00:13:53 - process[8]: training epoch 5 ...
00:14:21 - process[8] - epoch 5 - train iter 378 - 10878.1 words/s - loss: 0.6323
00:14:21 - process[8]: training epoch 6 ...
00:14:50 - process[8] - epoch 6 - train iter 378 - 10463.8 words/s - loss: 0.6022
00:14:50 - process[8]: training epoch 7 ...
00:15:20 - process[8] - epoch 7 - train iter 378 - 10121.4 words/s - loss: 0.5715
00:15:20 - process[8]: training epoch 8 ...
00:15:47 - process[8] - epoch 8 - train iter 378 - 10971.7 words/s - loss: 0.5155
00:15:47 - process[8]: training epoch 9 ...
00:16:15 - process[8] - epoch 9 - train iter 378 - 10826.3 words/s - loss: 0.5206
00:16:15 - process[8]: training epoch 10 ...
00:16:43 - process[8] - epoch 10 - train iter 378 - 10679.0 words/s - loss: 0.4868
00:16:43 - process[8]: evaluating epoch 10 on dev ...
00:17:07 - dev set during evaluation: 14200/14194
00:17:08 - process[8] - dev - epoch 10 - mAP: 0.244 w/ 38 queries
00:17:08 - process[8]: evaluating epoch 10 on test ...
00:17:31 - test set during evaluation: 13010/13003
00:17:31 - process[8] - test - epoch 10 - mAP: 0.222 w/ 39 queries
00:17:31 - process[8]: training epoch 11 ...
00:17:58 - process[8] - epoch 11 - train iter 378 - 10949.2 words/s - loss: 0.4594
00:17:58 - process[8]: evaluating epoch 11 on dev ...
00:18:22 - dev set during evaluation: 14200/14194
00:18:22 - process[8] - dev - epoch 11 - mAP: 0.235 w/ 38 queries
00:18:22 - process[8]: training epoch 12 ...
00:18:50 - process[8] - epoch 12 - train iter 378 - 10767.6 words/s - loss: 0.4161
00:18:50 - process[8]: evaluating epoch 12 on dev ...
00:19:14 - dev set during evaluation: 14200/14194
00:19:14 - process[8] - dev - epoch 12 - mAP: 0.233 w/ 38 queries
00:19:14 - process[8]: training epoch 13 ...
00:19:43 - process[8] - epoch 13 - train iter 378 - 10122.6 words/s - loss: 0.4183
00:19:43 - process[8]: evaluating epoch 13 on dev ...
00:20:07 - dev set during evaluation: 14200/14194
00:20:07 - process[8] - dev - epoch 13 - mAP: 0.240 w/ 38 queries
00:20:07 - process[8]: training epoch 14 ...
00:20:37 - process[8] - epoch 14 - train iter 378 - 10286.1 words/s - loss: 0.3829
00:20:37 - process[8]: evaluating epoch 14 on dev ...
00:21:01 - dev set during evaluation: 14200/14194
00:21:01 - process[8] - dev - epoch 14 - mAP: 0.236 w/ 38 queries
00:21:01 - process[8]: training epoch 15 ...
00:21:30 - process[8] - epoch 15 - train iter 378 - 10626.6 words/s - loss: 0.4051
00:21:30 - process[8]: evaluating epoch 15 on dev ...
00:21:54 - dev set during evaluation: 14200/14194
00:21:54 - process[8] - dev - epoch 15 - mAP: 0.243 w/ 38 queries
00:21:54 - process[8]: training epoch 16 ...
00:22:21 - process[8] - epoch 16 - train iter 378 - 11026.4 words/s - loss: 0.3802
00:22:21 - process[8]: evaluating epoch 16 on dev ...
00:22:45 - dev set during evaluation: 14200/14194
00:22:45 - process[8] - dev - epoch 16 - mAP: 0.239 w/ 38 queries
00:22:45 - process[8]: training epoch 17 ...
00:23:13 - process[8] - epoch 17 - train iter 378 - 10960.7 words/s - loss: 0.3385
00:23:13 - process[8]: evaluating epoch 17 on dev ...
00:23:37 - dev set during evaluation: 14200/14194
00:23:37 - process[8] - dev - epoch 17 - mAP: 0.232 w/ 38 queries
00:23:37 - process[8]: training epoch 18 ...
00:24:05 - process[8] - epoch 18 - train iter 378 - 10945.3 words/s - loss: 0.3485
00:24:05 - process[8]: evaluating epoch 18 on dev ...
00:24:28 - dev set during evaluation: 14200/14194
00:24:28 - process[8] - dev - epoch 18 - mAP: 0.229 w/ 38 queries
00:24:28 - process[8]: training epoch 19 ...
00:24:57 - process[8] - epoch 19 - train iter 378 - 10848.4 words/s - loss: 0.3079
00:24:57 - process[8]: evaluating epoch 19 on dev ...
00:25:21 - dev set during evaluation: 14200/14194
00:25:21 - process[8] - dev - epoch 19 - mAP: 0.234 w/ 38 queries
00:25:21 - [fold 2] best test MAP: 0.222 @ epoch 10
00:25:21 - Evaluating every 1 epochs ...
00:25:21 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:25:22 - test has 39 queries ...
00:25:22 - Data reading done ...
00:25:23 - adding 9-th encoder to optimizer...
00:25:23 - adding 10-th encoder to optimizer...
00:25:23 - adding 11-th encoder to optimizer...
00:25:24 - process[8]: training epoch 0 ...
00:25:53 - process[8] - epoch 0 - train iter 397 - 10971.7 words/s - loss: 0.6995
00:25:53 - process[8]: training epoch 1 ...
00:26:22 - process[8] - epoch 1 - train iter 397 - 11139.4 words/s - loss: 0.6929
00:26:22 - process[8]: training epoch 2 ...
00:26:53 - process[8] - epoch 2 - train iter 397 - 10471.6 words/s - loss: 0.6860
00:26:53 - process[8]: training epoch 3 ...
00:27:22 - process[8] - epoch 3 - train iter 397 - 10984.6 words/s - loss: 0.6748
00:27:22 - process[8]: training epoch 4 ...
00:27:53 - process[8] - epoch 4 - train iter 397 - 10060.7 words/s - loss: 0.6495
00:27:53 - process[8]: training epoch 5 ...
00:28:24 - process[8] - epoch 5 - train iter 397 - 10468.9 words/s - loss: 0.6289
00:28:24 - process[8]: training epoch 6 ...
00:28:54 - process[8] - epoch 6 - train iter 397 - 10508.5 words/s - loss: 0.6025
00:28:54 - process[8]: training epoch 7 ...
00:29:26 - process[8] - epoch 7 - train iter 397 - 10129.3 words/s - loss: 0.5929
00:29:26 - process[8]: training epoch 8 ...
00:29:56 - process[8] - epoch 8 - train iter 397 - 10908.5 words/s - loss: 0.5851
00:29:56 - process[8]: training epoch 9 ...
00:30:26 - process[8] - epoch 9 - train iter 397 - 10400.9 words/s - loss: 0.4955
00:30:26 - process[8]: training epoch 10 ...
00:30:56 - process[8] - epoch 10 - train iter 397 - 10564.7 words/s - loss: 0.4787
00:30:56 - process[8]: evaluating epoch 10 on dev ...
00:31:19 - dev set during evaluation: 13010/13003
00:31:19 - process[8] - dev - epoch 10 - mAP: 0.209 w/ 39 queries
00:31:19 - process[8]: evaluating epoch 10 on test ...
00:31:45 - test set during evaluation: 14900/14894
00:31:45 - process[8] - test - epoch 10 - mAP: 0.157 w/ 39 queries
00:31:45 - process[8]: training epoch 11 ...
00:32:16 - process[8] - epoch 11 - train iter 397 - 10397.6 words/s - loss: 0.4872
00:32:16 - process[8]: evaluating epoch 11 on dev ...
00:32:39 - dev set during evaluation: 13010/13003
00:32:39 - process[8] - dev - epoch 11 - mAP: 0.210 w/ 39 queries
00:32:39 - process[8]: evaluating epoch 11 on test ...
00:33:05 - test set during evaluation: 14900/14894
00:33:05 - process[8] - test - epoch 11 - mAP: 0.160 w/ 39 queries
00:33:05 - process[8]: training epoch 12 ...
00:33:35 - process[8] - epoch 12 - train iter 397 - 10506.6 words/s - loss: 0.4597
00:33:35 - process[8]: evaluating epoch 12 on dev ...
00:33:58 - dev set during evaluation: 13010/13003
00:33:58 - process[8] - dev - epoch 12 - mAP: 0.216 w/ 39 queries
00:33:58 - process[8]: evaluating epoch 12 on test ...
00:34:24 - test set during evaluation: 14900/14894
00:34:24 - process[8] - test - epoch 12 - mAP: 0.165 w/ 39 queries
00:34:24 - process[8]: training epoch 13 ...
00:34:53 - process[8] - epoch 13 - train iter 397 - 10983.9 words/s - loss: 0.4390
00:34:53 - process[8]: evaluating epoch 13 on dev ...
00:35:16 - dev set during evaluation: 13010/13003
00:35:16 - process[8] - dev - epoch 13 - mAP: 0.211 w/ 39 queries
00:35:16 - process[8]: training epoch 14 ...
00:35:47 - process[8] - epoch 14 - train iter 397 - 10023.2 words/s - loss: 0.3788
00:35:47 - process[8]: evaluating epoch 14 on dev ...
00:36:10 - dev set during evaluation: 13010/13003
00:36:10 - process[8] - dev - epoch 14 - mAP: 0.219 w/ 39 queries
00:36:10 - process[8]: evaluating epoch 14 on test ...
00:36:36 - test set during evaluation: 14900/14894
00:36:36 - process[8] - test - epoch 14 - mAP: 0.165 w/ 39 queries
00:36:36 - process[8]: training epoch 15 ...
00:37:06 - process[8] - epoch 15 - train iter 397 - 10649.7 words/s - loss: 0.4184
00:37:06 - process[8]: evaluating epoch 15 on dev ...
00:37:28 - dev set during evaluation: 13010/13003
00:37:28 - process[8] - dev - epoch 15 - mAP: 0.219 w/ 39 queries
00:37:28 - process[8]: evaluating epoch 15 on test ...
00:37:54 - test set during evaluation: 14900/14894
00:37:54 - process[8] - test - epoch 15 - mAP: 0.162 w/ 39 queries
00:37:54 - process[8]: training epoch 16 ...
00:38:25 - process[8] - epoch 16 - train iter 397 - 10569.3 words/s - loss: 0.3629
00:38:25 - process[8]: evaluating epoch 16 on dev ...
00:38:47 - dev set during evaluation: 13010/13003
00:38:47 - process[8] - dev - epoch 16 - mAP: 0.216 w/ 39 queries
00:38:47 - process[8]: training epoch 17 ...
00:39:18 - process[8] - epoch 17 - train iter 397 - 10649.6 words/s - loss: 0.3864
00:39:18 - process[8]: evaluating epoch 17 on dev ...
00:39:41 - dev set during evaluation: 13010/13003
00:39:41 - process[8] - dev - epoch 17 - mAP: 0.216 w/ 39 queries
00:39:41 - process[8]: training epoch 18 ...
00:40:10 - process[8] - epoch 18 - train iter 397 - 10870.9 words/s - loss: 0.3712
00:40:10 - process[8]: evaluating epoch 18 on dev ...
00:40:33 - dev set during evaluation: 13010/13003
00:40:33 - process[8] - dev - epoch 18 - mAP: 0.222 w/ 39 queries
00:40:33 - process[8]: evaluating epoch 18 on test ...
00:40:58 - test set during evaluation: 14900/14894
00:40:58 - process[8] - test - epoch 18 - mAP: 0.167 w/ 39 queries
00:40:58 - process[8]: training epoch 19 ...
00:41:28 - process[8] - epoch 19 - train iter 397 - 10607.3 words/s - loss: 0.3396
00:41:28 - process[8]: evaluating epoch 19 on dev ...
00:41:51 - dev set during evaluation: 13010/13003
00:41:51 - process[8] - dev - epoch 19 - mAP: 0.220 w/ 39 queries
00:41:51 - [fold 3] best test MAP: 0.167 @ epoch 18
00:41:51 - Evaluating every 1 epochs ...
00:41:51 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:41:52 - test has 38 queries ...
00:41:52 - Data reading done ...
00:41:54 - adding 9-th encoder to optimizer...
00:41:54 - adding 10-th encoder to optimizer...
00:41:54 - adding 11-th encoder to optimizer...
00:41:55 - process[8]: training epoch 0 ...
00:42:21 - process[8] - epoch 0 - train iter 399 - 12028.4 words/s - loss: 0.7061
00:42:21 - process[8]: training epoch 1 ...
00:42:48 - process[8] - epoch 1 - train iter 399 - 12014.7 words/s - loss: 0.6950
00:42:48 - process[8]: training epoch 2 ...
00:43:15 - process[8] - epoch 2 - train iter 399 - 12319.1 words/s - loss: 0.6790
00:43:15 - process[8]: training epoch 3 ...
00:43:41 - process[8] - epoch 3 - train iter 399 - 12562.8 words/s - loss: 0.6722
00:43:41 - process[8]: training epoch 4 ...
00:44:08 - process[8] - epoch 4 - train iter 399 - 12254.6 words/s - loss: 0.6553
00:44:08 - process[8]: training epoch 5 ...
00:44:36 - process[8] - epoch 5 - train iter 399 - 11717.2 words/s - loss: 0.6417
00:44:36 - process[8]: training epoch 6 ...
00:45:03 - process[8] - epoch 6 - train iter 399 - 12364.5 words/s - loss: 0.6402
00:45:03 - process[8]: training epoch 7 ...
00:45:29 - process[8] - epoch 7 - train iter 399 - 12372.4 words/s - loss: 0.5905
00:45:29 - process[8]: training epoch 8 ...
00:45:55 - process[8] - epoch 8 - train iter 399 - 12755.7 words/s - loss: 0.5688
00:45:55 - process[8]: training epoch 9 ...
00:46:20 - process[8] - epoch 9 - train iter 399 - 12561.8 words/s - loss: 0.5310
00:46:20 - process[8]: training epoch 10 ...
00:46:47 - process[8] - epoch 10 - train iter 399 - 12189.7 words/s - loss: 0.5262
00:46:47 - process[8]: evaluating epoch 10 on dev ...
00:47:11 - dev set during evaluation: 14900/14894
00:47:11 - process[8] - dev - epoch 10 - mAP: 0.183 w/ 39 queries
00:47:11 - process[8]: evaluating epoch 10 on test ...
00:47:33 - test set during evaluation: 13670/13666
00:47:33 - process[8] - test - epoch 10 - mAP: 0.199 w/ 38 queries
00:47:33 - process[8]: training epoch 11 ...
00:48:00 - process[8] - epoch 11 - train iter 399 - 12111.7 words/s - loss: 0.4883
00:48:00 - process[8]: evaluating epoch 11 on dev ...
00:48:24 - dev set during evaluation: 14900/14894
00:48:24 - process[8] - dev - epoch 11 - mAP: 0.186 w/ 39 queries
00:48:24 - process[8]: evaluating epoch 11 on test ...
00:48:45 - test set during evaluation: 13670/13666
00:48:45 - process[8] - test - epoch 11 - mAP: 0.209 w/ 38 queries
00:48:45 - process[8]: training epoch 12 ...
00:49:13 - process[8] - epoch 12 - train iter 399 - 12183.5 words/s - loss: 0.4340
00:49:13 - process[8]: evaluating epoch 12 on dev ...
00:49:36 - dev set during evaluation: 14900/14894
00:49:36 - process[8] - dev - epoch 12 - mAP: 0.195 w/ 39 queries
00:49:36 - process[8]: evaluating epoch 12 on test ...
00:49:58 - test set during evaluation: 13670/13666
00:49:58 - process[8] - test - epoch 12 - mAP: 0.208 w/ 38 queries
00:49:58 - process[8]: training epoch 13 ...
00:50:23 - process[8] - epoch 13 - train iter 399 - 13110.5 words/s - loss: 0.4328
00:50:23 - process[8]: evaluating epoch 13 on dev ...
00:50:47 - dev set during evaluation: 14900/14894
00:50:47 - process[8] - dev - epoch 13 - mAP: 0.194 w/ 39 queries
00:50:47 - process[8]: training epoch 14 ...
00:51:13 - process[8] - epoch 14 - train iter 399 - 12720.7 words/s - loss: 0.4442
00:51:13 - process[8]: evaluating epoch 14 on dev ...
00:51:37 - dev set during evaluation: 14900/14894
00:51:37 - process[8] - dev - epoch 14 - mAP: 0.199 w/ 39 queries
00:51:37 - process[8]: evaluating epoch 14 on test ...
00:51:58 - test set during evaluation: 13670/13666
00:51:58 - process[8] - test - epoch 14 - mAP: 0.207 w/ 38 queries
00:51:58 - process[8]: training epoch 15 ...
00:52:25 - process[8] - epoch 15 - train iter 399 - 12138.6 words/s - loss: 0.3865
00:52:25 - process[8]: evaluating epoch 15 on dev ...
00:52:48 - dev set during evaluation: 14900/14894
00:52:48 - process[8] - dev - epoch 15 - mAP: 0.195 w/ 39 queries
00:52:49 - process[8]: training epoch 16 ...
00:53:16 - process[8] - epoch 16 - train iter 399 - 11730.8 words/s - loss: 0.3957
00:53:16 - process[8]: evaluating epoch 16 on dev ...
00:53:39 - dev set during evaluation: 14900/14894
00:53:39 - process[8] - dev - epoch 16 - mAP: 0.191 w/ 39 queries
00:53:39 - process[8]: training epoch 17 ...
00:54:05 - process[8] - epoch 17 - train iter 399 - 12761.3 words/s - loss: 0.3471
00:54:05 - process[8]: evaluating epoch 17 on dev ...
00:54:29 - dev set during evaluation: 14900/14894
00:54:29 - process[8] - dev - epoch 17 - mAP: 0.192 w/ 39 queries
00:54:29 - process[8]: training epoch 18 ...
00:54:55 - process[8] - epoch 18 - train iter 399 - 12523.6 words/s - loss: 0.3478
00:54:55 - process[8]: evaluating epoch 18 on dev ...
00:55:19 - dev set during evaluation: 14900/14894
00:55:19 - process[8] - dev - epoch 18 - mAP: 0.190 w/ 39 queries
00:55:19 - process[8]: training epoch 19 ...
00:55:45 - process[8] - epoch 19 - train iter 399 - 12542.6 words/s - loss: 0.3142
00:55:45 - process[8]: evaluating epoch 19 on dev ...
00:56:08 - dev set during evaluation: 14900/14894
00:56:08 - process[8] - dev - epoch 19 - mAP: 0.185 w/ 39 queries
00:56:08 - [fold 4] best test MAP: 0.207 @ epoch 14
00:56:08 - Evaluating every 1 epochs ...
00:56:08 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:56:10 - test has 38 queries ...
00:56:10 - Data reading done ...
00:56:11 - adding 9-th encoder to optimizer...
00:56:11 - adding 10-th encoder to optimizer...
00:56:11 - adding 11-th encoder to optimizer...
00:56:12 - process[8]: training epoch 0 ...
00:56:41 - process[8] - epoch 0 - train iter 433 - 12119.9 words/s - loss: 0.7055
00:56:41 - process[8]: training epoch 1 ...
00:57:10 - process[8] - epoch 1 - train iter 433 - 12296.8 words/s - loss: 0.6903
00:57:10 - process[8]: training epoch 2 ...
00:57:39 - process[8] - epoch 2 - train iter 433 - 12028.7 words/s - loss: 0.6900
00:57:39 - process[8]: training epoch 3 ...
00:58:08 - process[8] - epoch 3 - train iter 433 - 11901.3 words/s - loss: 0.6820
00:58:08 - process[8]: training epoch 4 ...
00:58:36 - process[8] - epoch 4 - train iter 433 - 12755.8 words/s - loss: 0.6464
00:58:36 - process[8]: training epoch 5 ...
00:59:03 - process[8] - epoch 5 - train iter 433 - 13259.7 words/s - loss: 0.6376
00:59:03 - process[8]: training epoch 6 ...
00:59:31 - process[8] - epoch 6 - train iter 433 - 12662.6 words/s - loss: 0.6086
00:59:31 - process[8]: training epoch 7 ...
00:59:59 - process[8] - epoch 7 - train iter 433 - 12308.3 words/s - loss: 0.5661
00:59:59 - process[8]: training epoch 8 ...
01:00:29 - process[8] - epoch 8 - train iter 433 - 12297.5 words/s - loss: 0.5327
01:00:29 - process[8]: training epoch 9 ...
01:00:58 - process[8] - epoch 9 - train iter 433 - 12300.7 words/s - loss: 0.5160
01:00:58 - process[8]: training epoch 10 ...
01:01:26 - process[8] - epoch 10 - train iter 433 - 12225.3 words/s - loss: 0.4449
01:01:26 - process[8]: evaluating epoch 10 on dev ...
01:01:48 - dev set during evaluation: 13670/13666
01:01:48 - process[8] - dev - epoch 10 - mAP: 0.247 w/ 38 queries
01:01:48 - process[8]: evaluating epoch 10 on test ...
01:02:09 - test set during evaluation: 13240/13232
01:02:09 - process[8] - test - epoch 10 - mAP: 0.193 w/ 38 queries
01:02:09 - process[8]: training epoch 11 ...
01:02:38 - process[8] - epoch 11 - train iter 433 - 12327.1 words/s - loss: 0.4799
01:02:38 - process[8]: evaluating epoch 11 on dev ...
01:03:00 - dev set during evaluation: 13670/13666
01:03:00 - process[8] - dev - epoch 11 - mAP: 0.246 w/ 38 queries
01:03:00 - process[8]: training epoch 12 ...
01:03:28 - process[8] - epoch 12 - train iter 433 - 12463.8 words/s - loss: 0.4301
01:03:28 - process[8]: evaluating epoch 12 on dev ...
01:03:50 - dev set during evaluation: 13670/13666
01:03:50 - process[8] - dev - epoch 12 - mAP: 0.251 w/ 38 queries
01:03:50 - process[8]: evaluating epoch 12 on test ...
01:04:10 - test set during evaluation: 13240/13232
01:04:10 - process[8] - test - epoch 12 - mAP: 0.205 w/ 38 queries
01:04:10 - process[8]: training epoch 13 ...
01:04:38 - process[8] - epoch 13 - train iter 433 - 13003.4 words/s - loss: 0.4032
01:04:38 - process[8]: evaluating epoch 13 on dev ...
01:05:00 - dev set during evaluation: 13670/13666
01:05:00 - process[8] - dev - epoch 13 - mAP: 0.244 w/ 38 queries
01:05:00 - process[8]: training epoch 14 ...
01:05:28 - process[8] - epoch 14 - train iter 433 - 12419.7 words/s - loss: 0.3892
01:05:28 - process[8]: evaluating epoch 14 on dev ...
01:05:50 - dev set during evaluation: 13670/13666
01:05:50 - process[8] - dev - epoch 14 - mAP: 0.244 w/ 38 queries
01:05:50 - process[8]: training epoch 15 ...
01:06:19 - process[8] - epoch 15 - train iter 433 - 12145.9 words/s - loss: 0.3902
01:06:19 - process[8]: evaluating epoch 15 on dev ...
01:06:41 - dev set during evaluation: 13670/13666
01:06:41 - process[8] - dev - epoch 15 - mAP: 0.228 w/ 38 queries
01:06:41 - process[8]: training epoch 16 ...
01:07:09 - process[8] - epoch 16 - train iter 433 - 12266.8 words/s - loss: 0.4175
01:07:09 - process[8]: evaluating epoch 16 on dev ...
01:07:31 - dev set during evaluation: 13670/13666
01:07:31 - process[8] - dev - epoch 16 - mAP: 0.238 w/ 38 queries
01:07:31 - process[8]: training epoch 17 ...
01:07:59 - process[8] - epoch 17 - train iter 433 - 12745.0 words/s - loss: 0.3460
01:07:59 - process[8]: evaluating epoch 17 on dev ...
01:08:20 - dev set during evaluation: 13670/13666
01:08:20 - process[8] - dev - epoch 17 - mAP: 0.234 w/ 38 queries
01:08:20 - process[8]: training epoch 18 ...
01:08:48 - process[8] - epoch 18 - train iter 433 - 12978.9 words/s - loss: 0.3782
01:08:48 - process[8]: evaluating epoch 18 on dev ...
01:09:09 - dev set during evaluation: 13670/13666
01:09:09 - process[8] - dev - epoch 18 - mAP: 0.232 w/ 38 queries
01:09:09 - process[8]: training epoch 19 ...
01:09:38 - process[8] - epoch 19 - train iter 433 - 12164.9 words/s - loss: 0.3412
01:09:38 - process[8]: evaluating epoch 19 on dev ...
01:10:00 - dev set during evaluation: 13670/13666
01:10:00 - process[8] - dev - epoch 19 - mAP: 0.234 w/ 38 queries
01:10:00 - [fold 5] best test MAP: 0.205 @ epoch 12
01:10:00 - [0.2799720917210436, 0.22187157769592716, 0.16721255912475577, 0.20713556106250297, 0.20514352312942888]
01:10:00 - [38, 39, 39, 38, 38]
01:10:00 - final MAP: 0.216
00:00:04 - Namespace(apex_level='O2', batch_size=8, cased=True, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=8, model_path='xlm-roberta-base', model_type='xlmr', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='de')
00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=True, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=8, model_path='xlm-roberta-base', model_type='xlmr', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='de')
00:00:29 - Evaluating every 1 epochs ...
00:00:29 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:00:30 - test has 38 queries ...
00:00:30 - Data reading done ...
00:00:37 - adding 9-th encoder to optimizer...
00:00:37 - adding 10-th encoder to optimizer...
00:00:37 - adding 11-th encoder to optimizer...
00:00:38 - process[8]: training epoch 0 ...
00:01:02 - process[8] - epoch 0 - train iter 410 - 13962.7 words/s - loss: 0.6964
00:01:02 - process[8]: training epoch 1 ...
00:01:24 - process[8] - epoch 1 - train iter 410 - 14517.0 words/s - loss: 0.6982
00:01:24 - process[8]: training epoch 2 ...
00:01:46 - process[8] - epoch 2 - train iter 410 - 14714.0 words/s - loss: 0.6930
00:01:46 - process[8]: training epoch 3 ...
00:02:09 - process[8] - epoch 3 - train iter 410 - 14461.9 words/s - loss: 0.6997
00:02:09 - process[8]: training epoch 4 ...
00:02:32 - process[8] - epoch 4 - train iter 410 - 14272.7 words/s - loss: 0.6765
00:02:32 - process[8]: training epoch 5 ...
00:02:54 - process[8] - epoch 5 - train iter 410 - 15100.8 words/s - loss: 0.6398
00:02:54 - process[8]: training epoch 6 ...
00:03:17 - process[8] - epoch 6 - train iter 410 - 14227.2 words/s - loss: 0.5850
00:03:17 - process[8]: training epoch 7 ...
00:03:41 - process[8] - epoch 7 - train iter 410 - 13931.7 words/s - loss: 0.5549
00:03:41 - process[8]: training epoch 8 ...
00:04:04 - process[8] - epoch 8 - train iter 410 - 14193.3 words/s - loss: 0.5340
00:04:04 - process[8]: training epoch 9 ...
00:04:27 - process[8] - epoch 9 - train iter 410 - 14179.4 words/s - loss: 0.4953
00:04:27 - process[8]: training epoch 10 ...
00:04:51 - process[8] - epoch 10 - train iter 410 - 13722.8 words/s - loss: 0.4213
00:04:51 - process[8]: evaluating epoch 10 on dev ...
00:05:09 - dev set during evaluation: 13240/13232
00:05:09 - process[8] - dev - epoch 10 - mAP: 0.261 w/ 38 queries
00:05:09 - process[8]: evaluating epoch 10 on test ...
00:05:28 - test set during evaluation: 14200/14194
00:05:28 - process[8] - test - epoch 10 - mAP: 0.345 w/ 38 queries
00:05:28 - process[8]: training epoch 11 ...
00:05:51 - process[8] - epoch 11 - train iter 410 - 14144.8 words/s - loss: 0.4520
00:05:51 - process[8]: evaluating epoch 11 on dev ...
00:06:09 - dev set during evaluation: 13240/13232
00:06:09 - process[8] - dev - epoch 11 - mAP: 0.251 w/ 38 queries
00:06:09 - process[8]: training epoch 12 ...
00:06:31 - process[8] - epoch 12 - train iter 410 - 14392.0 words/s - loss: 0.4298
00:06:31 - process[8]: evaluating epoch 12 on dev ...
00:06:49 - dev set during evaluation: 13240/13232
00:06:49 - process[8] - dev - epoch 12 - mAP: 0.236 w/ 38 queries
00:06:49 - process[8]: training epoch 13 ...
00:07:12 - process[8] - epoch 13 - train iter 410 - 14457.6 words/s - loss: 0.4029
00:07:12 - process[8]: evaluating epoch 13 on dev ...
00:07:29 - dev set during evaluation: 13240/13232
00:07:29 - process[8] - dev - epoch 13 - mAP: 0.242 w/ 38 queries
00:07:29 - process[8]: training epoch 14 ...
00:07:52 - process[8] - epoch 14 - train iter 410 - 14450.7 words/s - loss: 0.3849
00:07:52 - process[8]: evaluating epoch 14 on dev ...
00:08:10 - dev set during evaluation: 13240/13232
00:08:10 - process[8] - dev - epoch 14 - mAP: 0.228 w/ 38 queries
00:08:10 - process[8]: training epoch 15 ...
00:08:32 - process[8] - epoch 15 - train iter 410 - 14549.1 words/s - loss: 0.3682
00:08:32 - process[8]: evaluating epoch 15 on dev ...
00:08:50 - dev set during evaluation: 13240/13232
00:08:50 - process[8] - dev - epoch 15 - mAP: 0.237 w/ 38 queries
00:08:50 - process[8]: training epoch 16 ...
00:09:13 - process[8] - epoch 16 - train iter 410 - 14196.1 words/s - loss: 0.3299
00:09:13 - process[8]: evaluating epoch 16 on dev ...
00:09:30 - dev set during evaluation: 13240/13232
00:09:30 - process[8] - dev - epoch 16 - mAP: 0.236 w/ 38 queries
00:09:30 - process[8]: training epoch 17 ...
00:09:54 - process[8] - epoch 17 - train iter 410 - 13861.1 words/s - loss: 0.3196
00:09:54 - process[8]: evaluating epoch 17 on dev ...
00:10:12 - dev set during evaluation: 13240/13232
00:10:12 - process[8] - dev - epoch 17 - mAP: 0.244 w/ 38 queries
00:10:12 - process[8]: training epoch 18 ...
00:10:34 - process[8] - epoch 18 - train iter 410 - 14094.4 words/s - loss: 0.2961
00:10:34 - process[8]: evaluating epoch 18 on dev ...
00:10:52 - dev set during evaluation: 13240/13232
00:10:52 - process[8] - dev - epoch 18 - mAP: 0.234 w/ 38 queries
00:10:52 - process[8]: training epoch 19 ...
00:11:15 - process[8] - epoch 19 - train iter 410 - 14284.4 words/s - loss: 0.2557
00:11:15 - process[8]: evaluating epoch 19 on dev ...
00:11:33 - dev set during evaluation: 13240/13232
00:11:33 - process[8] - dev - epoch 19 - mAP: 0.230 w/ 38 queries
00:11:33 - [fold 1] best test MAP: 0.345 @ epoch 10
00:11:33 - Evaluating every 1 epochs ...
00:11:33 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:11:34 - test has 39 queries ...
00:11:34 - Data reading done ...
00:11:35 - adding 9-th encoder to optimizer...
00:11:35 - adding 10-th encoder to optimizer...
00:11:35 - adding 11-th encoder to optimizer...
00:11:36 - process[8]: training epoch 0 ...
00:12:03 - process[8] - epoch 0 - train iter 378 - 11176.9 words/s - loss: 0.6948
00:12:03 - process[8]: training epoch 1 ...
00:12:30 - process[8] - epoch 1 - train iter 378 - 11166.7 words/s - loss: 0.6976
00:12:30 - process[8]: training epoch 2 ...
00:12:58 - process[8] - epoch 2 - train iter 378 - 10637.2 words/s - loss: 0.6964
00:12:58 - process[8]: training epoch 3 ...
00:13:26 - process[8] - epoch 3 - train iter 378 - 10782.7 words/s - loss: 0.6954
00:13:26 - process[8]: training epoch 4 ...
00:13:54 - process[8] - epoch 4 - train iter 378 - 10683.3 words/s - loss: 0.6753
00:13:54 - process[8]: training epoch 5 ...
00:14:22 - process[8] - epoch 5 - train iter 378 - 10878.0 words/s - loss: 0.6330
00:14:22 - process[8]: training epoch 6 ...
00:14:50 - process[8] - epoch 6 - train iter 378 - 10460.6 words/s - loss: 0.5751
00:14:50 - process[8]: training epoch 7 ...
00:15:20 - process[8] - epoch 7 - train iter 378 - 10175.8 words/s - loss: 0.5462
00:15:20 - process[8]: training epoch 8 ...
00:15:47 - process[8] - epoch 8 - train iter 378 - 11068.4 words/s - loss: 0.4810
00:15:47 - process[8]: training epoch 9 ...
00:16:15 - process[8] - epoch 9 - train iter 378 - 10932.4 words/s - loss: 0.4679
00:16:15 - process[8]: training epoch 10 ...
00:16:43 - process[8] - epoch 10 - train iter 378 - 10781.6 words/s - loss: 0.4742
00:16:43 - process[8]: evaluating epoch 10 on dev ...
00:17:07 - dev set during evaluation: 14200/14194
00:17:07 - process[8] - dev - epoch 10 - mAP: 0.314 w/ 38 queries
00:17:07 - process[8]: evaluating epoch 10 on test ...
00:17:30 - test set during evaluation: 13010/13003
00:17:30 - process[8] - test - epoch 10 - mAP: 0.319 w/ 39 queries
00:17:30 - process[8]: training epoch 11 ...
00:17:57 - process[8] - epoch 11 - train iter 378 - 11067.9 words/s - loss: 0.4514
00:17:57 - process[8]: evaluating epoch 11 on dev ...
00:18:22 - dev set during evaluation: 14200/14194
00:18:22 - process[8] - dev - epoch 11 - mAP: 0.295 w/ 38 queries
00:18:22 - process[8]: training epoch 12 ...
00:18:50 - process[8] - epoch 12 - train iter 378 - 10826.7 words/s - loss: 0.3978
00:18:50 - process[8]: evaluating epoch 12 on dev ...
00:19:14 - dev set during evaluation: 14200/14194
00:19:14 - process[8] - dev - epoch 12 - mAP: 0.318 w/ 38 queries
00:19:14 - process[8]: evaluating epoch 12 on test ...
00:19:36 - test set during evaluation: 13010/13003
00:19:36 - process[8] - test - epoch 12 - mAP: 0.306 w/ 39 queries
00:19:36 - process[8]: training epoch 13 ...
00:20:05 - process[8] - epoch 13 - train iter 378 - 10201.0 words/s - loss: 0.4015
00:20:05 - process[8]: evaluating epoch 13 on dev ...
00:20:29 - dev set during evaluation: 14200/14194
00:20:29 - process[8] - dev - epoch 13 - mAP: 0.324 w/ 38 queries
00:20:29 - process[8]: evaluating epoch 13 on test ...
00:20:52 - test set during evaluation: 13010/13003
00:20:52 - process[8] - test - epoch 13 - mAP: 0.309 w/ 39 queries
00:20:52 - process[8]: training epoch 14 ...
00:21:21 - process[8] - epoch 14 - train iter 378 - 10387.4 words/s - loss: 0.3827
00:21:21 - process[8]: evaluating epoch 14 on dev ...
00:21:45 - dev set during evaluation: 14200/14194
00:21:45 - process[8] - dev - epoch 14 - mAP: 0.304 w/ 38 queries
00:21:45 - process[8]: training epoch 15 ...
00:22:13 - process[8] - epoch 15 - train iter 378 - 10774.7 words/s - loss: 0.4126
00:22:13 - process[8]: evaluating epoch 15 on dev ...
00:22:37 - dev set during evaluation: 14200/14194
00:22:37 - process[8] - dev - epoch 15 - mAP: 0.302 w/ 38 queries
00:22:37 - process[8]: training epoch 16 ...
00:23:04 - process[8] - epoch 16 - train iter 378 - 11116.6 words/s - loss: 0.3542
00:23:04 - process[8]: evaluating epoch 16 on dev ...
00:23:29 - dev set during evaluation: 14200/14194
00:23:29 - process[8] - dev - epoch 16 - mAP: 0.294 w/ 38 queries
00:23:29 - process[8]: training epoch 17 ...
00:23:57 - process[8] - epoch 17 - train iter 378 - 11082.8 words/s - loss: 0.3142
00:23:57 - process[8]: evaluating epoch 17 on dev ...
00:24:20 - dev set during evaluation: 14200/14194
00:24:20 - process[8] - dev - epoch 17 - mAP: 0.305 w/ 38 queries
00:24:20 - process[8]: training epoch 18 ...
00:24:48 - process[8] - epoch 18 - train iter 378 - 11071.2 words/s - loss: 0.3399
00:24:48 - process[8]: evaluating epoch 18 on dev ...
00:25:12 - dev set during evaluation: 14200/14194
00:25:12 - process[8] - dev - epoch 18 - mAP: 0.286 w/ 38 queries
00:25:12 - process[8]: training epoch 19 ...
00:25:40 - process[8] - epoch 19 - train iter 378 - 10948.6 words/s - loss: 0.2929
00:25:40 - process[8]: evaluating epoch 19 on dev ...
00:26:04 - dev set during evaluation: 14200/14194
00:26:04 - process[8] - dev - epoch 19 - mAP: 0.296 w/ 38 queries
00:26:04 - [fold 2] best test MAP: 0.309 @ epoch 13
00:26:04 - Evaluating every 1 epochs ...
00:26:04 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:26:05 - test has 39 queries ...
00:26:05 - Data reading done ...
00:26:07 - adding 9-th encoder to optimizer...
00:26:07 - adding 10-th encoder to optimizer...
00:26:07 - adding 11-th encoder to optimizer...
00:26:07 - process[8]: training epoch 0 ...
00:26:36 - process[8] - epoch 0 - train iter 397 - 11145.8 words/s - loss: 0.6951
00:26:36 - process[8]: training epoch 1 ...
00:27:04 - process[8] - epoch 1 - train iter 397 - 11353.3 words/s - loss: 0.6951
00:27:04 - process[8]: training epoch 2 ...
00:27:34 - process[8] - epoch 2 - train iter 397 - 10613.6 words/s - loss: 0.6936
00:27:34 - process[8]: training epoch 3 ...
00:28:03 - process[8] - epoch 3 - train iter 397 - 11202.8 words/s - loss: 0.6942
00:28:03 - process[8]: training epoch 4 ...
00:28:34 - process[8] - epoch 4 - train iter 397 - 10246.1 words/s - loss: 0.6662
00:28:34 - process[8]: training epoch 5 ...
00:29:04 - process[8] - epoch 5 - train iter 397 - 10678.1 words/s - loss: 0.6544
00:29:04 - process[8]: training epoch 6 ...
00:29:34 - process[8] - epoch 6 - train iter 397 - 10715.3 words/s - loss: 0.6154
00:29:34 - process[8]: training epoch 7 ...
00:30:05 - process[8] - epoch 7 - train iter 397 - 10323.2 words/s - loss: 0.5822
00:30:05 - process[8]: training epoch 8 ...
00:30:34 - process[8] - epoch 8 - train iter 397 - 11045.9 words/s - loss: 0.5562
00:30:34 - process[8]: training epoch 9 ...
00:31:04 - process[8] - epoch 9 - train iter 397 - 10516.4 words/s - loss: 0.4694
00:31:04 - process[8]: training epoch 10 ...
00:31:34 - process[8] - epoch 10 - train iter 397 - 10688.9 words/s - loss: 0.4684
00:31:34 - process[8]: evaluating epoch 10 on dev ...
00:31:56 - dev set during evaluation: 13010/13003
00:31:56 - process[8] - dev - epoch 10 - mAP: 0.276 w/ 39 queries
00:31:56 - process[8]: evaluating epoch 10 on test ...
00:32:22 - test set during evaluation: 14900/14894
00:32:22 - process[8] - test - epoch 10 - mAP: 0.222 w/ 39 queries
00:32:22 - process[8]: training epoch 11 ...
00:32:52 - process[8] - epoch 11 - train iter 397 - 10583.8 words/s - loss: 0.4670
00:32:52 - process[8]: evaluating epoch 11 on dev ...
00:33:15 - dev set during evaluation: 13010/13003
00:33:15 - process[8] - dev - epoch 11 - mAP: 0.280 w/ 39 queries
00:33:15 - process[8]: evaluating epoch 11 on test ...
00:33:41 - test set during evaluation: 14900/14894
00:33:41 - process[8] - test - epoch 11 - mAP: 0.231 w/ 39 queries
00:33:41 - process[8]: training epoch 12 ...
00:34:11 - process[8] - epoch 12 - train iter 397 - 10639.2 words/s - loss: 0.4414
00:34:11 - process[8]: evaluating epoch 12 on dev ...
00:34:33 - dev set during evaluation: 13010/13003
00:34:33 - process[8] - dev - epoch 12 - mAP: 0.281 w/ 39 queries
00:34:33 - process[8]: evaluating epoch 12 on test ...
00:34:59 - test set during evaluation: 14900/14894
00:34:59 - process[8] - test - epoch 12 - mAP: 0.247 w/ 39 queries
00:34:59 - process[8]: training epoch 13 ...
00:35:27 - process[8] - epoch 13 - train iter 397 - 11152.9 words/s - loss: 0.4196
00:35:27 - process[8]: evaluating epoch 13 on dev ...
00:35:50 - dev set during evaluation: 13010/13003
00:35:50 - process[8] - dev - epoch 13 - mAP: 0.273 w/ 39 queries
00:35:50 - process[8]: training epoch 14 ...
00:36:21 - process[8] - epoch 14 - train iter 397 - 10187.7 words/s - loss: 0.3599
00:36:21 - process[8]: evaluating epoch 14 on dev ...
00:36:44 - dev set during evaluation: 13010/13003
00:36:44 - process[8] - dev - epoch 14 - mAP: 0.279 w/ 39 queries
00:36:44 - process[8]: training epoch 15 ...
00:37:13 - process[8] - epoch 15 - train iter 397 - 10820.2 words/s - loss: 0.3757
00:37:13 - process[8]: evaluating epoch 15 on dev ...
00:37:36 - dev set during evaluation: 13010/13003
00:37:36 - process[8] - dev - epoch 15 - mAP: 0.279 w/ 39 queries
00:37:36 - process[8]: training epoch 16 ...
00:38:19 - process[8] - epoch 16 - train iter 397 - 7610.7 words/s - loss: 0.3408
00:38:19 - process[8]: evaluating epoch 16 on dev ...
00:38:56 - dev set during evaluation: 13010/13003
00:38:56 - process[8] - dev - epoch 16 - mAP: 0.279 w/ 39 queries
00:38:56 - process[8]: training epoch 17 ...
00:39:44 - process[8] - epoch 17 - train iter 397 - 6773.5 words/s - loss: 0.3749
00:39:44 - process[8]: evaluating epoch 17 on dev ...
00:40:24 - dev set during evaluation: 13010/13003
00:40:24 - process[8] - dev - epoch 17 - mAP: 0.272 w/ 39 queries
00:40:24 - process[8]: training epoch 18 ...
00:41:09 - process[8] - epoch 18 - train iter 397 - 7198.7 words/s - loss: 0.3480
00:41:09 - process[8]: evaluating epoch 18 on dev ...
00:41:45 - dev set during evaluation: 13010/13003
00:41:45 - process[8] - dev - epoch 18 - mAP: 0.268 w/ 39 queries
00:41:45 - process[8]: training epoch 19 ...
00:42:32 - process[8] - epoch 19 - train iter 397 - 6746.8 words/s - loss: 0.3197
00:42:32 - process[8]: evaluating epoch 19 on dev ...
00:43:11 - dev set during evaluation: 13010/13003
00:43:11 - process[8] - dev - epoch 19 - mAP: 0.273 w/ 39 queries
00:43:11 - [fold 3] best test MAP: 0.247 @ epoch 12
00:43:11 - Evaluating every 1 epochs ...
00:43:11 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
00:43:13 - test has 38 queries ...
00:43:13 - Data reading done ...
00:43:15 - adding 9-th encoder to optimizer...
00:43:15 - adding 10-th encoder to optimizer...
00:43:15 - adding 11-th encoder to optimizer...
00:43:17 - process[8]: training epoch 0 ...
00:43:59 - process[8] - epoch 0 - train iter 399 - 7534.2 words/s - loss: 0.6963
00:43:59 - process[8]: training epoch 1 ...
00:44:44 - process[8] - epoch 1 - train iter 399 - 7244.6 words/s - loss: 0.6993
00:44:44 - process[8]: training epoch 2 ...
00:45:25 - process[8] - epoch 2 - train iter 399 - 7921.5 words/s - loss: 0.6948
00:45:25 - process[8]: training epoch 3 ...
00:46:09 - process[8] - epoch 3 - train iter 399 - 7567.3 words/s - loss: 0.6953
00:46:09 - process[8]: training epoch 4 ...
00:46:55 - process[8] - epoch 4 - train iter 399 - 7086.5 words/s - loss: 0.6819
00:46:55 - process[8]: training epoch 5 ...
00:47:42 - process[8] - epoch 5 - train iter 399 - 7090.5 words/s - loss: 0.6644
00:47:42 - process[8]: training epoch 6 ...
00:48:25 - process[8] - epoch 6 - train iter 399 - 7555.0 words/s - loss: 0.6647
00:48:25 - process[8]: training epoch 7 ...
00:49:07 - process[8] - epoch 7 - train iter 399 - 7745.5 words/s - loss: 0.6150
00:49:07 - process[8]: training epoch 8 ...
00:49:50 - process[8] - epoch 8 - train iter 399 - 7608.0 words/s - loss: 0.5842
00:49:50 - process[8]: training epoch 9 ...
00:50:31 - process[8] - epoch 9 - train iter 399 - 7800.4 words/s - loss: 0.5408
00:50:31 - process[8]: training epoch 10 ...
00:51:16 - process[8] - epoch 10 - train iter 399 - 7355.8 words/s - loss: 0.5121
00:51:16 - process[8]: evaluating epoch 10 on dev ...
00:52:01 - dev set during evaluation: 14900/14894
00:52:01 - process[8] - dev - epoch 10 - mAP: 0.206 w/ 39 queries
00:52:01 - process[8]: evaluating epoch 10 on test ...
00:52:42 - test set during evaluation: 13670/13666
00:52:42 - process[8] - test - epoch 10 - mAP: 0.235 w/ 38 queries
00:52:42 - process[8]: training epoch 11 ...
00:53:24 - process[8] - epoch 11 - train iter 399 - 7655.3 words/s - loss: 0.4888
00:53:24 - process[8]: evaluating epoch 11 on dev ...
00:53:59 - dev set during evaluation: 14900/14894
00:53:59 - process[8] - dev - epoch 11 - mAP: 0.203 w/ 39 queries
00:53:59 - process[8]: training epoch 12 ...
00:54:41 - process[8] - epoch 12 - train iter 399 - 7880.9 words/s - loss: 0.4095
00:54:41 - process[8]: evaluating epoch 12 on dev ...
00:55:15 - dev set during evaluation: 14900/14894
00:55:15 - process[8] - dev - epoch 12 - mAP: 0.212 w/ 39 queries
00:55:15 - process[8]: evaluating epoch 12 on test ...
00:55:44 - test set during evaluation: 13670/13666
00:55:45 - process[8] - test - epoch 12 - mAP: 0.233 w/ 38 queries
00:55:45 - process[8]: training epoch 13 ...
00:56:19 - process[8] - epoch 13 - train iter 399 - 9611.9 words/s - loss: 0.4465
00:56:19 - process[8]: evaluating epoch 13 on dev ...
00:56:53 - dev set during evaluation: 14900/14894
00:56:53 - process[8] - dev - epoch 13 - mAP: 0.210 w/ 39 queries
00:56:53 - process[8]: training epoch 14 ...
00:57:31 - process[8] - epoch 14 - train iter 399 - 8707.3 words/s - loss: 0.4161
00:57:31 - process[8]: evaluating epoch 14 on dev ...
00:58:14 - dev set during evaluation: 14900/14894
00:58:14 - process[8] - dev - epoch 14 - mAP: 0.207 w/ 39 queries
00:58:14 - process[8]: training epoch 15 ...
00:58:50 - process[8] - epoch 15 - train iter 399 - 8888.4 words/s - loss: 0.3733
00:58:50 - process[8]: evaluating epoch 15 on dev ...
00:59:29 - dev set during evaluation: 14900/14894
00:59:29 - process[8] - dev - epoch 15 - mAP: 0.206 w/ 39 queries
00:59:29 - process[8]: training epoch 16 ...
01:00:07 - process[8] - epoch 16 - train iter 399 - 8461.1 words/s - loss: 0.3754
01:00:07 - process[8]: evaluating epoch 16 on dev ...
01:00:47 - dev set during evaluation: 14900/14894
01:00:47 - process[8] - dev - epoch 16 - mAP: 0.213 w/ 39 queries
01:00:47 - process[8]: evaluating epoch 16 on test ...
01:01:23 - test set during evaluation: 13670/13666
01:01:23 - process[8] - test - epoch 16 - mAP: 0.222 w/ 38 queries
01:01:23 - process[8]: training epoch 17 ...
01:01:59 - process[8] - epoch 17 - train iter 399 - 9339.2 words/s - loss: 0.3415
01:01:59 - process[8]: evaluating epoch 17 on dev ...
01:02:35 - dev set during evaluation: 14900/14894
01:02:35 - process[8] - dev - epoch 17 - mAP: 0.215 w/ 39 queries
01:02:35 - process[8]: evaluating epoch 17 on test ...
01:03:09 - test set during evaluation: 13670/13666
01:03:09 - process[8] - test - epoch 17 - mAP: 0.223 w/ 38 queries
01:03:09 - process[8]: training epoch 18 ...
01:03:43 - process[8] - epoch 18 - train iter 399 - 9596.2 words/s - loss: 0.3274
01:03:43 - process[8]: evaluating epoch 18 on dev ...
01:04:20 - dev set during evaluation: 14900/14894
01:04:20 - process[8] - dev - epoch 18 - mAP: 0.210 w/ 39 queries
01:04:20 - process[8]: training epoch 19 ...
01:04:56 - process[8] - epoch 19 - train iter 399 - 9211.0 words/s - loss: 0.2921
01:04:56 - process[8]: evaluating epoch 19 on dev ...
01:05:36 - dev set during evaluation: 14900/14894
01:05:36 - process[8] - dev - epoch 19 - mAP: 0.212 w/ 39 queries
01:05:36 - [fold 4] best test MAP: 0.223 @ epoch 17
01:05:36 - Evaluating every 1 epochs ...
01:05:36 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/cased
01:05:38 - test has 38 queries ...
01:05:38 - Data reading done ...
01:05:40 - adding 9-th encoder to optimizer...
01:05:40 - adding 10-th encoder to optimizer...
01:05:40 - adding 11-th encoder to optimizer...
01:05:42 - process[8]: training epoch 0 ...
01:06:22 - process[8] - epoch 0 - train iter 433 - 8607.9 words/s - loss: 0.6970
01:06:22 - process[8]: training epoch 1 ...
01:07:05 - process[8] - epoch 1 - train iter 433 - 8287.6 words/s - loss: 0.6967
01:07:05 - process[8]: training epoch 2 ...
01:07:48 - process[8] - epoch 2 - train iter 433 - 8218.0 words/s - loss: 0.6953
01:07:48 - process[8]: training epoch 3 ...
01:08:29 - process[8] - epoch 3 - train iter 433 - 8435.0 words/s - loss: 0.6935
01:08:29 - process[8]: training epoch 4 ...
01:09:08 - process[8] - epoch 4 - train iter 433 - 9164.3 words/s - loss: 0.6890
01:09:08 - process[8]: training epoch 5 ...
01:09:46 - process[8] - epoch 5 - train iter 433 - 9470.1 words/s - loss: 0.6811
01:09:46 - process[8]: training epoch 6 ...
01:10:24 - process[8] - epoch 6 - train iter 433 - 9118.5 words/s - loss: 0.6560
01:10:24 - process[8]: training epoch 7 ...
01:11:01 - process[8] - epoch 7 - train iter 433 - 9529.0 words/s - loss: 0.6260
01:11:01 - process[8]: training epoch 8 ...
01:11:39 - process[8] - epoch 8 - train iter 433 - 9408.9 words/s - loss: 0.5812
01:11:39 - process[8]: training epoch 9 ...
01:12:18 - process[8] - epoch 9 - train iter 433 - 9336.9 words/s - loss: 0.5421
01:12:18 - process[8]: training epoch 10 ...
01:12:55 - process[8] - epoch 10 - train iter 433 - 9379.9 words/s - loss: 0.4858
01:12:55 - process[8]: evaluating epoch 10 on dev ...
01:13:30 - dev set during evaluation: 13670/13666
01:13:30 - process[8] - dev - epoch 10 - mAP: 0.281 w/ 38 queries
01:13:30 - process[8]: evaluating epoch 10 on test ...
01:14:02 - test set during evaluation: 13240/13232
01:14:02 - process[8] - test - epoch 10 - mAP: 0.238 w/ 38 queries
01:14:02 - process[8]: training epoch 11 ...
01:14:37 - process[8] - epoch 11 - train iter 433 - 10027.7 words/s - loss: 0.5113
01:14:37 - process[8]: evaluating epoch 11 on dev ...
01:15:15 - dev set during evaluation: 13670/13666
01:15:15 - process[8] - dev - epoch 11 - mAP: 0.289 w/ 38 queries
01:15:15 - process[8]: evaluating epoch 11 on test ...
01:15:49 - test set during evaluation: 13240/13232
01:15:49 - process[8] - test - epoch 11 - mAP: 0.231 w/ 38 queries
01:15:49 - process[8]: training epoch 12 ...
01:16:26 - process[8] - epoch 12 - train iter 433 - 9739.7 words/s - loss: 0.4541
01:16:26 - process[8]: evaluating epoch 12 on dev ...
01:17:06 - dev set during evaluation: 13670/13666
01:17:06 - process[8] - dev - epoch 12 - mAP: 0.299 w/ 38 queries
01:17:06 - process[8]: evaluating epoch 12 on test ...
01:17:36 - test set during evaluation: 13240/13232
01:17:36 - process[8] - test - epoch 12 - mAP: 0.232 w/ 38 queries
01:17:36 - process[8]: training epoch 13 ...
01:18:12 - process[8] - epoch 13 - train iter 433 - 9910.0 words/s - loss: 0.4309
01:18:12 - process[8]: evaluating epoch 13 on dev ...
01:18:51 - dev set during evaluation: 13670/13666
01:18:51 - process[8] - dev - epoch 13 - mAP: 0.285 w/ 38 queries
01:18:51 - process[8]: training epoch 14 ...
01:19:28 - process[8] - epoch 14 - train iter 433 - 9459.5 words/s - loss: 0.4085
01:19:28 - process[8]: evaluating epoch 14 on dev ...
01:20:04 - dev set during evaluation: 13670/13666
01:20:04 - process[8] - dev - epoch 14 - mAP: 0.292 w/ 38 queries
01:20:04 - process[8]: training epoch 15 ...
01:20:39 - process[8] - epoch 15 - train iter 433 - 10165.8 words/s - loss: 0.3900
01:20:39 - process[8]: evaluating epoch 15 on dev ...
01:21:05 - dev set during evaluation: 13670/13666
01:21:05 - process[8] - dev - epoch 15 - mAP: 0.281 w/ 38 queries
01:21:05 - process[8]: training epoch 16 ...
01:21:36 - process[8] - epoch 16 - train iter 433 - 11252.9 words/s - loss: 0.4331
01:21:36 - process[8]: evaluating epoch 16 on dev ...
01:22:02 - dev set during evaluation: 13670/13666
01:22:02 - process[8] - dev - epoch 16 - mAP: 0.281 w/ 38 queries
01:22:02 - process[8]: training epoch 17 ...
01:22:31 - process[8] - epoch 17 - train iter 433 - 11961.6 words/s - loss: 0.3381
01:22:31 - process[8]: evaluating epoch 17 on dev ...
01:22:56 - dev set during evaluation: 13670/13666
01:22:56 - process[8] - dev - epoch 17 - mAP: 0.303 w/ 38 queries
01:22:56 - process[8]: evaluating epoch 17 on test ...
01:23:17 - test set during evaluation: 13240/13232
01:23:17 - process[8] - test - epoch 17 - mAP: 0.220 w/ 38 queries
01:23:17 - process[8]: training epoch 18 ...
01:23:46 - process[8] - epoch 18 - train iter 433 - 12199.6 words/s - loss: 0.3811
01:23:46 - process[8]: evaluating epoch 18 on dev ...
01:24:11 - dev set during evaluation: 13670/13666
01:24:11 - process[8] - dev - epoch 18 - mAP: 0.279 w/ 38 queries
01:24:11 - process[8]: training epoch 19 ...
01:24:42 - process[8] - epoch 19 - train iter 433 - 11417.3 words/s - loss: 0.3348
01:24:42 - process[8]: evaluating epoch 19 on dev ...
01:25:06 - dev set during evaluation: 13670/13666
01:25:06 - process[8] - dev - epoch 19 - mAP: 0.295 w/ 38 queries
01:25:06 - [fold 5] best test MAP: 0.220 @ epoch 17
01:25:06 - [0.345056019733919, 0.3086897581266927, 0.246628148031135, 0.2231109777559869, 0.220345406068919]
01:25:06 - [38, 39, 39, 38, 38]
01:25:06 - final MAP: 0.269
