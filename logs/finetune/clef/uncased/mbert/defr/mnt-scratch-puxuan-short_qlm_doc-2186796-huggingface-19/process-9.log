00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=9, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='de', target_lang='fr')
00:00:14 - Evaluating every 1 epochs ...
00:00:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 37 queries ...
00:00:15 - Data reading done ...
00:00:21 - adding 9-th encoder to optimizer...
00:00:21 - adding 10-th encoder to optimizer...
00:00:21 - adding 11-th encoder to optimizer...
00:00:21 - process[9]: training epoch 0 ...
00:00:31 - process[9] - epoch 0 - train iter 241 - 19669.4 words/s - loss: 0.6884
00:00:31 - process[9]: training epoch 1 ...
00:00:40 - process[9] - epoch 1 - train iter 241 - 22282.1 words/s - loss: 0.6722
00:00:40 - process[9]: training epoch 2 ...
00:00:50 - process[9] - epoch 2 - train iter 241 - 21023.6 words/s - loss: 0.6407
00:00:50 - process[9]: training epoch 3 ...
00:01:00 - process[9] - epoch 3 - train iter 241 - 20601.8 words/s - loss: 0.6364
00:01:00 - process[9]: training epoch 4 ...
00:01:09 - process[9] - epoch 4 - train iter 241 - 20427.1 words/s - loss: 0.6060
00:01:09 - process[9]: training epoch 5 ...
00:01:18 - process[9] - epoch 5 - train iter 241 - 22860.4 words/s - loss: 0.5514
00:01:18 - process[9]: training epoch 6 ...
00:01:27 - process[9] - epoch 6 - train iter 241 - 20943.9 words/s - loss: 0.5303
00:01:27 - process[9]: training epoch 7 ...
00:01:37 - process[9] - epoch 7 - train iter 241 - 21933.0 words/s - loss: 0.5553
00:01:37 - process[9]: training epoch 8 ...
00:01:47 - process[9] - epoch 8 - train iter 241 - 19811.7 words/s - loss: 0.5311
00:01:47 - process[9]: training epoch 9 ...
00:01:55 - process[9] - epoch 9 - train iter 241 - 22338.6 words/s - loss: 0.5241
00:01:55 - process[9]: training epoch 10 ...
00:02:04 - process[9] - epoch 10 - train iter 241 - 22245.0 words/s - loss: 0.5581
00:02:04 - process[9]: evaluating epoch 10 on dev ...
00:02:22 - process[9] - dev - epoch 10 - mAP: 0.337 w/ 37 queries
00:02:22 - process[9]: evaluating epoch 10 on test ...
00:02:42 - test set during evaluation: 11380/11372
00:02:42 - process[9] - test - epoch 10 - mAP: 0.330 w/ 37 queries
00:02:42 - process[9]: training epoch 11 ...
00:02:51 - process[9] - epoch 11 - train iter 241 - 22212.9 words/s - loss: 0.5193
00:02:51 - process[9]: evaluating epoch 11 on dev ...
00:03:10 - process[9] - dev - epoch 11 - mAP: 0.325 w/ 37 queries
00:03:10 - process[9]: training epoch 12 ...
00:03:20 - process[9] - epoch 12 - train iter 241 - 20828.6 words/s - loss: 0.5115
00:03:20 - process[9]: evaluating epoch 12 on dev ...
00:03:38 - process[9] - dev - epoch 12 - mAP: 0.346 w/ 37 queries
00:03:38 - process[9]: evaluating epoch 12 on test ...
00:03:56 - test set during evaluation: 11380/11372
00:03:56 - process[9] - test - epoch 12 - mAP: 0.342 w/ 37 queries
00:03:56 - process[9]: training epoch 13 ...
00:04:05 - process[9] - epoch 13 - train iter 241 - 21625.8 words/s - loss: 0.4744
00:04:05 - process[9]: evaluating epoch 13 on dev ...
00:04:24 - process[9] - dev - epoch 13 - mAP: 0.325 w/ 37 queries
00:04:24 - process[9]: training epoch 14 ...
00:04:33 - process[9] - epoch 14 - train iter 241 - 21453.2 words/s - loss: 0.5283
00:04:33 - process[9]: evaluating epoch 14 on dev ...
00:04:51 - process[9] - dev - epoch 14 - mAP: 0.350 w/ 37 queries
00:04:51 - process[9]: evaluating epoch 14 on test ...
00:05:10 - test set during evaluation: 11380/11372
00:05:10 - process[9] - test - epoch 14 - mAP: 0.324 w/ 37 queries
00:05:10 - process[9]: training epoch 15 ...
00:05:19 - process[9] - epoch 15 - train iter 241 - 22592.6 words/s - loss: 0.4696
00:05:19 - process[9]: evaluating epoch 15 on dev ...
00:05:39 - process[9] - dev - epoch 15 - mAP: 0.353 w/ 37 queries
00:05:39 - process[9]: evaluating epoch 15 on test ...
00:05:58 - test set during evaluation: 11380/11372
00:05:58 - process[9] - test - epoch 15 - mAP: 0.363 w/ 37 queries
00:05:58 - process[9]: training epoch 16 ...
00:06:08 - process[9] - epoch 16 - train iter 241 - 21243.0 words/s - loss: 0.4785
00:06:08 - process[9]: evaluating epoch 16 on dev ...
00:06:27 - process[9] - dev - epoch 16 - mAP: 0.357 w/ 37 queries
00:06:27 - process[9]: evaluating epoch 16 on test ...
00:06:45 - test set during evaluation: 11380/11372
00:06:45 - process[9] - test - epoch 16 - mAP: 0.409 w/ 37 queries
00:06:45 - process[9]: training epoch 17 ...
00:06:54 - process[9] - epoch 17 - train iter 241 - 21340.7 words/s - loss: 0.4949
00:06:54 - process[9]: evaluating epoch 17 on dev ...
00:07:13 - process[9] - dev - epoch 17 - mAP: 0.345 w/ 37 queries
00:07:13 - process[9]: training epoch 18 ...
00:07:22 - process[9] - epoch 18 - train iter 241 - 21761.8 words/s - loss: 0.4636
00:07:22 - process[9]: evaluating epoch 18 on dev ...
00:07:40 - process[9] - dev - epoch 18 - mAP: 0.357 w/ 37 queries
00:07:40 - process[9]: training epoch 19 ...
00:07:49 - process[9] - epoch 19 - train iter 241 - 21500.9 words/s - loss: 0.4509
00:07:49 - process[9]: evaluating epoch 19 on dev ...
00:08:07 - process[9] - dev - epoch 19 - mAP: 0.334 w/ 37 queries
00:08:07 - [fold 1] best test MAP: 0.409 @ epoch 16
00:08:07 - Evaluating every 1 epochs ...
00:08:07 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:08:08 - test has 37 queries ...
00:08:08 - Data reading done ...
00:08:09 - adding 9-th encoder to optimizer...
00:08:09 - adding 10-th encoder to optimizer...
00:08:09 - adding 11-th encoder to optimizer...
00:08:10 - process[9]: training epoch 0 ...
00:08:20 - process[9] - epoch 0 - train iter 276 - 20980.8 words/s - loss: 0.6837
00:08:20 - process[9]: training epoch 1 ...
00:08:31 - process[9] - epoch 1 - train iter 276 - 20190.8 words/s - loss: 0.6748
00:08:31 - process[9]: training epoch 2 ...
00:08:42 - process[9] - epoch 2 - train iter 276 - 20542.6 words/s - loss: 0.6262
00:08:42 - process[9]: training epoch 3 ...
00:08:54 - process[9] - epoch 3 - train iter 276 - 19282.9 words/s - loss: 0.6170
00:08:54 - process[9]: training epoch 4 ...
00:09:06 - process[9] - epoch 4 - train iter 276 - 20666.0 words/s - loss: 0.5804
00:09:06 - process[9]: training epoch 5 ...
00:09:16 - process[9] - epoch 5 - train iter 276 - 20788.7 words/s - loss: 0.5705
00:09:16 - process[9]: training epoch 6 ...
00:09:27 - process[9] - epoch 6 - train iter 276 - 20750.3 words/s - loss: 0.5012
00:09:27 - process[9]: training epoch 7 ...
00:09:38 - process[9] - epoch 7 - train iter 276 - 20521.2 words/s - loss: 0.5637
00:09:38 - process[9]: training epoch 8 ...
00:09:49 - process[9] - epoch 8 - train iter 276 - 21445.0 words/s - loss: 0.5117
00:09:49 - process[9]: training epoch 9 ...
00:09:59 - process[9] - epoch 9 - train iter 276 - 20820.3 words/s - loss: 0.5063
00:09:59 - process[9]: training epoch 10 ...
00:10:10 - process[9] - epoch 10 - train iter 276 - 20991.6 words/s - loss: 0.4832
00:10:10 - process[9]: evaluating epoch 10 on dev ...
00:10:30 - dev set during evaluation: 11380/11372
00:10:30 - process[9] - dev - epoch 10 - mAP: 0.275 w/ 37 queries
00:10:30 - process[9]: evaluating epoch 10 on test ...
00:10:47 - process[9] - test - epoch 10 - mAP: 0.274 w/ 37 queries
00:10:47 - process[9]: training epoch 11 ...
00:10:58 - process[9] - epoch 11 - train iter 276 - 20979.6 words/s - loss: 0.4632
00:10:58 - process[9]: evaluating epoch 11 on dev ...
00:11:17 - dev set during evaluation: 11380/11372
00:11:17 - process[9] - dev - epoch 11 - mAP: 0.269 w/ 37 queries
00:11:17 - process[9]: training epoch 12 ...
00:11:28 - process[9] - epoch 12 - train iter 276 - 20971.0 words/s - loss: 0.5330
00:11:28 - process[9]: evaluating epoch 12 on dev ...
00:11:46 - dev set during evaluation: 11380/11372
00:11:46 - process[9] - dev - epoch 12 - mAP: 0.299 w/ 37 queries
00:11:46 - process[9]: evaluating epoch 12 on test ...
00:12:04 - process[9] - test - epoch 12 - mAP: 0.294 w/ 37 queries
00:12:04 - process[9]: training epoch 13 ...
00:12:14 - process[9] - epoch 13 - train iter 276 - 22515.1 words/s - loss: 0.4829
00:12:14 - process[9]: evaluating epoch 13 on dev ...
00:12:34 - dev set during evaluation: 11380/11372
00:12:34 - process[9] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:12:34 - process[9]: training epoch 14 ...
00:12:45 - process[9] - epoch 14 - train iter 276 - 19969.3 words/s - loss: 0.5077
00:12:45 - process[9]: evaluating epoch 14 on dev ...
00:13:03 - dev set during evaluation: 11380/11372
00:13:03 - process[9] - dev - epoch 14 - mAP: 0.287 w/ 37 queries
00:13:03 - process[9]: training epoch 15 ...
00:13:13 - process[9] - epoch 15 - train iter 276 - 22069.3 words/s - loss: 0.4260
00:13:13 - process[9]: evaluating epoch 15 on dev ...
00:13:32 - dev set during evaluation: 11380/11372
00:13:32 - process[9] - dev - epoch 15 - mAP: 0.284 w/ 37 queries
00:13:32 - process[9]: training epoch 16 ...
00:13:42 - process[9] - epoch 16 - train iter 276 - 21445.4 words/s - loss: 0.4883
00:13:42 - process[9]: evaluating epoch 16 on dev ...
00:14:01 - dev set during evaluation: 11380/11372
00:14:01 - process[9] - dev - epoch 16 - mAP: 0.261 w/ 37 queries
00:14:01 - process[9]: training epoch 17 ...
00:14:12 - process[9] - epoch 17 - train iter 276 - 21064.6 words/s - loss: 0.4323
00:14:12 - process[9]: evaluating epoch 17 on dev ...
00:14:31 - dev set during evaluation: 11380/11372
00:14:31 - process[9] - dev - epoch 17 - mAP: 0.291 w/ 37 queries
00:14:31 - process[9]: training epoch 18 ...
00:14:41 - process[9] - epoch 18 - train iter 276 - 21476.2 words/s - loss: 0.4594
00:14:41 - process[9]: evaluating epoch 18 on dev ...
00:15:00 - dev set during evaluation: 11380/11372
00:15:00 - process[9] - dev - epoch 18 - mAP: 0.301 w/ 37 queries
00:15:00 - process[9]: evaluating epoch 18 on test ...
00:15:17 - process[9] - test - epoch 18 - mAP: 0.297 w/ 37 queries
00:15:17 - process[9]: training epoch 19 ...
00:15:28 - process[9] - epoch 19 - train iter 276 - 21478.0 words/s - loss: 0.3710
00:15:28 - process[9]: evaluating epoch 19 on dev ...
00:15:48 - dev set during evaluation: 11380/11372
00:15:48 - process[9] - dev - epoch 19 - mAP: 0.283 w/ 37 queries
00:15:48 - [fold 2] best test MAP: 0.297 @ epoch 18
00:15:48 - Evaluating every 1 epochs ...
00:15:48 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:15:48 - test has 37 queries ...
00:15:48 - Data reading done ...
00:15:49 - adding 9-th encoder to optimizer...
00:15:49 - adding 10-th encoder to optimizer...
00:15:49 - adding 11-th encoder to optimizer...
00:15:50 - process[9]: training epoch 0 ...
00:15:59 - process[9] - epoch 0 - train iter 240 - 21539.3 words/s - loss: 0.6915
00:15:59 - process[9]: training epoch 1 ...
00:16:08 - process[9] - epoch 1 - train iter 240 - 21747.4 words/s - loss: 0.6731
00:16:08 - process[9]: training epoch 2 ...
00:16:17 - process[9] - epoch 2 - train iter 240 - 21150.4 words/s - loss: 0.6303
00:16:17 - process[9]: training epoch 3 ...
00:16:25 - process[9] - epoch 3 - train iter 240 - 22549.1 words/s - loss: 0.5831
00:16:25 - process[9]: training epoch 4 ...
00:16:35 - process[9] - epoch 4 - train iter 240 - 20384.4 words/s - loss: 0.5852
00:16:35 - process[9]: training epoch 5 ...
00:16:43 - process[9] - epoch 5 - train iter 240 - 22374.1 words/s - loss: 0.5873
00:16:43 - process[9]: training epoch 6 ...
00:16:52 - process[9] - epoch 6 - train iter 240 - 22781.1 words/s - loss: 0.5447
00:16:52 - process[9]: training epoch 7 ...
00:17:01 - process[9] - epoch 7 - train iter 240 - 21251.9 words/s - loss: 0.5795
00:17:01 - process[9]: training epoch 8 ...
00:17:10 - process[9] - epoch 8 - train iter 240 - 21392.4 words/s - loss: 0.5449
00:17:10 - process[9]: training epoch 9 ...
00:17:19 - process[9] - epoch 9 - train iter 240 - 21414.5 words/s - loss: 0.5359
00:17:19 - process[9]: training epoch 10 ...
00:17:28 - process[9] - epoch 10 - train iter 240 - 21908.2 words/s - loss: 0.5651
00:17:28 - process[9]: evaluating epoch 10 on dev ...
00:17:47 - process[9] - dev - epoch 10 - mAP: 0.307 w/ 37 queries
00:17:47 - process[9]: evaluating epoch 10 on test ...
00:18:07 - test set during evaluation: 11210/11201
00:18:07 - process[9] - test - epoch 10 - mAP: 0.354 w/ 37 queries
00:18:07 - process[9]: training epoch 11 ...
00:18:17 - process[9] - epoch 11 - train iter 240 - 21001.2 words/s - loss: 0.5031
00:18:17 - process[9]: evaluating epoch 11 on dev ...
00:18:34 - process[9] - dev - epoch 11 - mAP: 0.302 w/ 37 queries
00:18:34 - process[9]: training epoch 12 ...
00:18:43 - process[9] - epoch 12 - train iter 240 - 20943.6 words/s - loss: 0.5019
00:18:43 - process[9]: evaluating epoch 12 on dev ...
00:19:00 - process[9] - dev - epoch 12 - mAP: 0.281 w/ 37 queries
00:19:00 - process[9]: training epoch 13 ...
00:19:09 - process[9] - epoch 13 - train iter 240 - 22223.1 words/s - loss: 0.5266
00:19:09 - process[9]: evaluating epoch 13 on dev ...
00:19:26 - process[9] - dev - epoch 13 - mAP: 0.304 w/ 37 queries
00:19:26 - process[9]: training epoch 14 ...
00:19:35 - process[9] - epoch 14 - train iter 240 - 21540.5 words/s - loss: 0.4825
00:19:35 - process[9]: evaluating epoch 14 on dev ...
00:19:53 - process[9] - dev - epoch 14 - mAP: 0.327 w/ 37 queries
00:19:53 - process[9]: evaluating epoch 14 on test ...
00:20:12 - test set during evaluation: 11210/11201
00:20:12 - process[9] - test - epoch 14 - mAP: 0.337 w/ 37 queries
00:20:12 - process[9]: training epoch 15 ...
00:20:21 - process[9] - epoch 15 - train iter 240 - 21465.8 words/s - loss: 0.4965
00:20:21 - process[9]: evaluating epoch 15 on dev ...
00:20:40 - process[9] - dev - epoch 15 - mAP: 0.326 w/ 37 queries
00:20:40 - process[9]: training epoch 16 ...
00:20:49 - process[9] - epoch 16 - train iter 240 - 21129.2 words/s - loss: 0.4654
00:20:49 - process[9]: evaluating epoch 16 on dev ...
00:21:08 - process[9] - dev - epoch 16 - mAP: 0.334 w/ 37 queries
00:21:08 - process[9]: evaluating epoch 16 on test ...
00:21:30 - test set during evaluation: 11210/11201
00:21:30 - process[9] - test - epoch 16 - mAP: 0.363 w/ 37 queries
00:21:30 - process[9]: training epoch 17 ...
00:21:39 - process[9] - epoch 17 - train iter 240 - 21152.5 words/s - loss: 0.4543
00:21:39 - process[9]: evaluating epoch 17 on dev ...
00:21:59 - process[9] - dev - epoch 17 - mAP: 0.340 w/ 37 queries
00:21:59 - process[9]: evaluating epoch 17 on test ...
00:22:21 - test set during evaluation: 11210/11201
00:22:21 - process[9] - test - epoch 17 - mAP: 0.347 w/ 37 queries
00:22:21 - process[9]: training epoch 18 ...
00:22:30 - process[9] - epoch 18 - train iter 240 - 21007.2 words/s - loss: 0.4572
00:22:30 - process[9]: evaluating epoch 18 on dev ...
00:22:48 - process[9] - dev - epoch 18 - mAP: 0.337 w/ 37 queries
00:22:48 - process[9]: training epoch 19 ...
00:22:57 - process[9] - epoch 19 - train iter 240 - 21690.5 words/s - loss: 0.5090
00:22:57 - process[9]: evaluating epoch 19 on dev ...
00:23:14 - process[9] - dev - epoch 19 - mAP: 0.353 w/ 37 queries
00:23:14 - process[9]: evaluating epoch 19 on test ...
00:23:33 - test set during evaluation: 11210/11201
00:23:33 - process[9] - test - epoch 19 - mAP: 0.375 w/ 37 queries
00:23:34 - [fold 3] best test MAP: 0.375 @ epoch 19
00:23:34 - Evaluating every 1 epochs ...
00:23:34 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:23:34 - test has 37 queries ...
00:23:34 - Data reading done ...
00:23:35 - adding 9-th encoder to optimizer...
00:23:35 - adding 10-th encoder to optimizer...
00:23:35 - adding 11-th encoder to optimizer...
00:23:36 - process[9]: training epoch 0 ...
00:23:44 - process[9] - epoch 0 - train iter 231 - 21963.6 words/s - loss: 0.6910
00:23:44 - process[9]: training epoch 1 ...
00:23:53 - process[9] - epoch 1 - train iter 231 - 20837.6 words/s - loss: 0.6845
00:23:53 - process[9]: training epoch 2 ...
00:24:02 - process[9] - epoch 2 - train iter 231 - 21114.8 words/s - loss: 0.6723
00:24:02 - process[9]: training epoch 3 ...
00:24:10 - process[9] - epoch 3 - train iter 231 - 21521.6 words/s - loss: 0.6771
00:24:10 - process[9]: training epoch 4 ...
00:24:19 - process[9] - epoch 4 - train iter 231 - 21720.6 words/s - loss: 0.6486
00:24:19 - process[9]: training epoch 5 ...
00:24:28 - process[9] - epoch 5 - train iter 231 - 21428.6 words/s - loss: 0.6183
00:24:28 - process[9]: training epoch 6 ...
00:24:36 - process[9] - epoch 6 - train iter 231 - 22248.6 words/s - loss: 0.5761
00:24:36 - process[9]: training epoch 7 ...
00:24:45 - process[9] - epoch 7 - train iter 231 - 20603.9 words/s - loss: 0.5805
00:24:45 - process[9]: training epoch 8 ...
00:24:54 - process[9] - epoch 8 - train iter 231 - 21951.4 words/s - loss: 0.5746
00:24:54 - process[9]: training epoch 9 ...
00:25:02 - process[9] - epoch 9 - train iter 231 - 21577.9 words/s - loss: 0.5454
00:25:02 - process[9]: training epoch 10 ...
00:25:11 - process[9] - epoch 10 - train iter 231 - 20960.1 words/s - loss: 0.5155
00:25:11 - process[9]: evaluating epoch 10 on dev ...
00:25:32 - dev set during evaluation: 11210/11201
00:25:32 - process[9] - dev - epoch 10 - mAP: 0.326 w/ 37 queries
00:25:32 - process[9]: evaluating epoch 10 on test ...
00:25:49 - test set during evaluation: 10640/10633
00:25:49 - process[9] - test - epoch 10 - mAP: 0.265 w/ 37 queries
00:25:49 - process[9]: training epoch 11 ...
00:25:58 - process[9] - epoch 11 - train iter 231 - 22305.4 words/s - loss: 0.5502
00:25:58 - process[9]: evaluating epoch 11 on dev ...
00:26:17 - dev set during evaluation: 11210/11201
00:26:17 - process[9] - dev - epoch 11 - mAP: 0.361 w/ 37 queries
00:26:17 - process[9]: evaluating epoch 11 on test ...
00:26:35 - test set during evaluation: 10640/10633
00:26:35 - process[9] - test - epoch 11 - mAP: 0.280 w/ 37 queries
00:26:35 - process[9]: training epoch 12 ...
00:26:44 - process[9] - epoch 12 - train iter 231 - 20894.0 words/s - loss: 0.5038
00:26:44 - process[9]: evaluating epoch 12 on dev ...
00:27:04 - dev set during evaluation: 11210/11201
00:27:04 - process[9] - dev - epoch 12 - mAP: 0.404 w/ 37 queries
00:27:04 - process[9]: evaluating epoch 12 on test ...
00:27:21 - test set during evaluation: 10640/10633
00:27:21 - process[9] - test - epoch 12 - mAP: 0.297 w/ 37 queries
00:27:21 - process[9]: training epoch 13 ...
00:27:30 - process[9] - epoch 13 - train iter 231 - 20957.4 words/s - loss: 0.5364
00:27:30 - process[9]: evaluating epoch 13 on dev ...
00:27:50 - dev set during evaluation: 11210/11201
00:27:50 - process[9] - dev - epoch 13 - mAP: 0.357 w/ 37 queries
00:27:50 - process[9]: training epoch 14 ...
00:27:59 - process[9] - epoch 14 - train iter 231 - 21020.2 words/s - loss: 0.5127
00:27:59 - process[9]: evaluating epoch 14 on dev ...
00:28:18 - dev set during evaluation: 11210/11201
00:28:18 - process[9] - dev - epoch 14 - mAP: 0.392 w/ 37 queries
00:28:18 - process[9]: training epoch 15 ...
00:28:27 - process[9] - epoch 15 - train iter 231 - 21235.1 words/s - loss: 0.4823
00:28:27 - process[9]: evaluating epoch 15 on dev ...
00:28:46 - dev set during evaluation: 11210/11201
00:28:46 - process[9] - dev - epoch 15 - mAP: 0.366 w/ 37 queries
00:28:46 - process[9]: training epoch 16 ...
00:28:55 - process[9] - epoch 16 - train iter 231 - 21939.0 words/s - loss: 0.5245
00:28:55 - process[9]: evaluating epoch 16 on dev ...
00:29:15 - dev set during evaluation: 11210/11201
00:29:15 - process[9] - dev - epoch 16 - mAP: 0.355 w/ 37 queries
00:29:15 - process[9]: training epoch 17 ...
00:29:23 - process[9] - epoch 17 - train iter 231 - 22170.9 words/s - loss: 0.4868
00:29:23 - process[9]: evaluating epoch 17 on dev ...
00:29:42 - dev set during evaluation: 11210/11201
00:29:42 - process[9] - dev - epoch 17 - mAP: 0.381 w/ 37 queries
00:29:42 - process[9]: training epoch 18 ...
00:29:51 - process[9] - epoch 18 - train iter 231 - 20509.3 words/s - loss: 0.5199
00:29:51 - process[9]: evaluating epoch 18 on dev ...
00:30:11 - dev set during evaluation: 11210/11201
00:30:11 - process[9] - dev - epoch 18 - mAP: 0.408 w/ 37 queries
00:30:11 - process[9]: evaluating epoch 18 on test ...
00:30:28 - test set during evaluation: 10640/10633
00:30:28 - process[9] - test - epoch 18 - mAP: 0.308 w/ 37 queries
00:30:28 - process[9]: training epoch 19 ...
00:30:37 - process[9] - epoch 19 - train iter 231 - 22034.6 words/s - loss: 0.4902
00:30:37 - process[9]: evaluating epoch 19 on dev ...
00:30:57 - dev set during evaluation: 11210/11201
00:30:57 - process[9] - dev - epoch 19 - mAP: 0.393 w/ 37 queries
00:30:57 - [fold 4] best test MAP: 0.308 @ epoch 18
00:30:57 - Evaluating every 1 epochs ...
00:30:57 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:30:57 - test has 37 queries ...
00:30:57 - Data reading done ...
00:30:58 - adding 9-th encoder to optimizer...
00:30:58 - adding 10-th encoder to optimizer...
00:30:58 - adding 11-th encoder to optimizer...
00:30:59 - process[9]: training epoch 0 ...
00:31:08 - process[9] - epoch 0 - train iter 235 - 21294.0 words/s - loss: 0.6898
00:31:08 - process[9]: training epoch 1 ...
00:31:17 - process[9] - epoch 1 - train iter 235 - 22136.9 words/s - loss: 0.6792
00:31:17 - process[9]: training epoch 2 ...
00:31:27 - process[9] - epoch 2 - train iter 235 - 20249.3 words/s - loss: 0.6625
00:31:27 - process[9]: training epoch 3 ...
00:31:35 - process[9] - epoch 3 - train iter 235 - 22241.0 words/s - loss: 0.6406
00:31:35 - process[9]: training epoch 4 ...
00:31:44 - process[9] - epoch 4 - train iter 235 - 22113.9 words/s - loss: 0.6135
00:31:44 - process[9]: training epoch 5 ...
00:31:52 - process[9] - epoch 5 - train iter 235 - 22497.4 words/s - loss: 0.6098
00:31:52 - process[9]: training epoch 6 ...
00:32:02 - process[9] - epoch 6 - train iter 235 - 21124.6 words/s - loss: 0.6109
00:32:02 - process[9]: training epoch 7 ...
00:32:11 - process[9] - epoch 7 - train iter 235 - 21051.0 words/s - loss: 0.5286
00:32:11 - process[9]: training epoch 8 ...
00:32:20 - process[9] - epoch 8 - train iter 235 - 21784.5 words/s - loss: 0.5800
00:32:20 - process[9]: training epoch 9 ...
00:32:29 - process[9] - epoch 9 - train iter 235 - 21292.0 words/s - loss: 0.5590
00:32:29 - process[9]: training epoch 10 ...
00:32:39 - process[9] - epoch 10 - train iter 235 - 19163.1 words/s - loss: 0.5250
00:32:39 - process[9]: evaluating epoch 10 on dev ...
00:32:57 - dev set during evaluation: 10640/10633
00:32:57 - process[9] - dev - epoch 10 - mAP: 0.277 w/ 37 queries
00:32:57 - process[9]: evaluating epoch 10 on test ...
00:33:17 - process[9] - test - epoch 10 - mAP: 0.322 w/ 37 queries
00:33:17 - process[9]: training epoch 11 ...
00:33:26 - process[9] - epoch 11 - train iter 235 - 21455.8 words/s - loss: 0.5190
00:33:26 - process[9]: evaluating epoch 11 on dev ...
00:33:45 - dev set during evaluation: 10640/10633
00:33:45 - process[9] - dev - epoch 11 - mAP: 0.259 w/ 37 queries
00:33:45 - process[9]: training epoch 12 ...
00:33:54 - process[9] - epoch 12 - train iter 235 - 21045.3 words/s - loss: 0.5024
00:33:54 - process[9]: evaluating epoch 12 on dev ...
00:34:12 - dev set during evaluation: 10640/10633
00:34:12 - process[9] - dev - epoch 12 - mAP: 0.264 w/ 37 queries
00:34:12 - process[9]: training epoch 13 ...
00:34:21 - process[9] - epoch 13 - train iter 235 - 21476.9 words/s - loss: 0.4607
00:34:21 - process[9]: evaluating epoch 13 on dev ...
00:34:39 - dev set during evaluation: 10640/10633
00:34:39 - process[9] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:34:39 - process[9]: training epoch 14 ...
00:34:48 - process[9] - epoch 14 - train iter 235 - 20529.3 words/s - loss: 0.5071
00:34:48 - process[9]: evaluating epoch 14 on dev ...
00:35:06 - dev set during evaluation: 10640/10633
00:35:06 - process[9] - dev - epoch 14 - mAP: 0.268 w/ 37 queries
00:35:06 - process[9]: training epoch 15 ...
00:35:15 - process[9] - epoch 15 - train iter 235 - 21090.8 words/s - loss: 0.4495
00:35:15 - process[9]: evaluating epoch 15 on dev ...
00:35:32 - dev set during evaluation: 10640/10633
00:35:32 - process[9] - dev - epoch 15 - mAP: 0.274 w/ 37 queries
00:35:32 - process[9]: training epoch 16 ...
00:35:41 - process[9] - epoch 16 - train iter 235 - 20504.0 words/s - loss: 0.5114
00:35:41 - process[9]: evaluating epoch 16 on dev ...
00:35:59 - dev set during evaluation: 10640/10633
00:35:59 - process[9] - dev - epoch 16 - mAP: 0.271 w/ 37 queries
00:35:59 - process[9]: training epoch 17 ...
00:36:08 - process[9] - epoch 17 - train iter 235 - 21022.6 words/s - loss: 0.5079
00:36:08 - process[9]: evaluating epoch 17 on dev ...
00:36:25 - dev set during evaluation: 10640/10633
00:36:25 - process[9] - dev - epoch 17 - mAP: 0.299 w/ 37 queries
00:36:25 - process[9]: evaluating epoch 17 on test ...
00:36:44 - process[9] - test - epoch 17 - mAP: 0.351 w/ 37 queries
00:36:44 - process[9]: training epoch 18 ...
00:36:53 - process[9] - epoch 18 - train iter 235 - 21324.3 words/s - loss: 0.4744
00:36:53 - process[9]: evaluating epoch 18 on dev ...
00:37:10 - dev set during evaluation: 10640/10633
00:37:10 - process[9] - dev - epoch 18 - mAP: 0.264 w/ 37 queries
00:37:10 - process[9]: training epoch 19 ...
00:37:19 - process[9] - epoch 19 - train iter 235 - 21193.7 words/s - loss: 0.4969
00:37:19 - process[9]: evaluating epoch 19 on dev ...
00:37:37 - dev set during evaluation: 10640/10633
00:37:37 - process[9] - dev - epoch 19 - mAP: 0.267 w/ 37 queries
00:37:37 - [fold 5] best test MAP: 0.351 @ epoch 17
00:37:37 - [0.40949067721447446, 0.2972975432949899, 0.37459359006412923, 0.3081584352728631, 0.3507709698681128]
00:37:37 - [37, 37, 37, 37, 37]
00:37:37 - final MAP: 0.348
00:00:07 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=9, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='de', target_lang='fr')
00:00:20 - Evaluating every 1 epochs ...
00:00:20 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:21 - test has 37 queries ...
00:00:21 - Data reading done ...
00:00:27 - adding 9-th encoder to optimizer...
00:00:27 - adding 10-th encoder to optimizer...
00:00:27 - adding 11-th encoder to optimizer...
00:00:28 - process[9]: training epoch 0 ...
00:00:38 - process[9] - epoch 0 - train iter 241 - 20147.0 words/s - loss: 0.6884
00:00:38 - process[9]: training epoch 1 ...
00:00:46 - process[9] - epoch 1 - train iter 241 - 22834.1 words/s - loss: 0.6722
00:00:46 - process[9]: training epoch 2 ...
00:00:55 - process[9] - epoch 2 - train iter 241 - 21489.8 words/s - loss: 0.6407
00:00:55 - process[9]: training epoch 3 ...
00:01:05 - process[9] - epoch 3 - train iter 241 - 20884.1 words/s - loss: 0.6364
00:01:05 - process[9]: training epoch 4 ...
00:01:15 - process[9] - epoch 4 - train iter 241 - 20763.7 words/s - loss: 0.6060
00:01:15 - process[9]: training epoch 5 ...
00:01:23 - process[9] - epoch 5 - train iter 241 - 23207.7 words/s - loss: 0.5514
00:01:23 - process[9]: training epoch 6 ...
00:01:33 - process[9] - epoch 6 - train iter 241 - 21261.0 words/s - loss: 0.5303
00:01:33 - process[9]: training epoch 7 ...
00:01:42 - process[9] - epoch 7 - train iter 241 - 22229.8 words/s - loss: 0.5553
00:01:42 - process[9]: training epoch 8 ...
00:01:51 - process[9] - epoch 8 - train iter 241 - 20113.6 words/s - loss: 0.5311
00:01:51 - process[9]: training epoch 9 ...
00:02:00 - process[9] - epoch 9 - train iter 241 - 22602.3 words/s - loss: 0.5241
00:02:00 - process[9]: training epoch 10 ...
00:02:09 - process[9] - epoch 10 - train iter 241 - 22529.0 words/s - loss: 0.5581
00:02:09 - process[9]: evaluating epoch 10 on dev ...
00:02:27 - process[9] - dev - epoch 10 - mAP: 0.337 w/ 37 queries
00:02:27 - process[9]: evaluating epoch 10 on test ...
00:02:46 - test set during evaluation: 11380/11372
00:02:46 - process[9] - test - epoch 10 - mAP: 0.330 w/ 37 queries
00:02:46 - process[9]: training epoch 11 ...
00:02:55 - process[9] - epoch 11 - train iter 241 - 22321.4 words/s - loss: 0.5193
00:02:55 - process[9]: evaluating epoch 11 on dev ...
00:03:14 - process[9] - dev - epoch 11 - mAP: 0.325 w/ 37 queries
00:03:14 - process[9]: training epoch 12 ...
00:03:23 - process[9] - epoch 12 - train iter 241 - 20732.5 words/s - loss: 0.5115
00:03:23 - process[9]: evaluating epoch 12 on dev ...
00:03:41 - process[9] - dev - epoch 12 - mAP: 0.346 w/ 37 queries
00:03:41 - process[9]: evaluating epoch 12 on test ...
00:04:00 - test set during evaluation: 11380/11372
00:04:00 - process[9] - test - epoch 12 - mAP: 0.342 w/ 37 queries
00:04:00 - process[9]: training epoch 13 ...
00:04:09 - process[9] - epoch 13 - train iter 241 - 21265.2 words/s - loss: 0.4744
00:04:09 - process[9]: evaluating epoch 13 on dev ...
00:04:27 - process[9] - dev - epoch 13 - mAP: 0.325 w/ 37 queries
00:04:27 - process[9]: training epoch 14 ...
00:04:36 - process[9] - epoch 14 - train iter 241 - 21233.8 words/s - loss: 0.5283
00:04:36 - process[9]: evaluating epoch 14 on dev ...
00:04:54 - process[9] - dev - epoch 14 - mAP: 0.350 w/ 37 queries
00:04:54 - process[9]: evaluating epoch 14 on test ...
00:05:13 - test set during evaluation: 11380/11372
00:05:13 - process[9] - test - epoch 14 - mAP: 0.324 w/ 37 queries
00:05:13 - process[9]: training epoch 15 ...
00:05:22 - process[9] - epoch 15 - train iter 241 - 22519.7 words/s - loss: 0.4696
00:05:22 - process[9]: evaluating epoch 15 on dev ...
00:05:40 - process[9] - dev - epoch 15 - mAP: 0.353 w/ 37 queries
00:05:40 - process[9]: evaluating epoch 15 on test ...
00:05:59 - test set during evaluation: 11380/11372
00:05:59 - process[9] - test - epoch 15 - mAP: 0.363 w/ 37 queries
00:05:59 - process[9]: training epoch 16 ...
00:06:08 - process[9] - epoch 16 - train iter 241 - 21221.3 words/s - loss: 0.4785
00:06:08 - process[9]: evaluating epoch 16 on dev ...
00:06:27 - process[9] - dev - epoch 16 - mAP: 0.357 w/ 37 queries
00:06:27 - process[9]: evaluating epoch 16 on test ...
00:06:45 - test set during evaluation: 11380/11372
00:06:45 - process[9] - test - epoch 16 - mAP: 0.409 w/ 37 queries
00:06:45 - process[9]: training epoch 17 ...
00:06:54 - process[9] - epoch 17 - train iter 241 - 21494.6 words/s - loss: 0.4949
00:06:54 - process[9]: evaluating epoch 17 on dev ...
00:07:12 - process[9] - dev - epoch 17 - mAP: 0.345 w/ 37 queries
00:07:12 - process[9]: training epoch 18 ...
00:07:21 - process[9] - epoch 18 - train iter 241 - 21750.1 words/s - loss: 0.4636
00:07:21 - process[9]: evaluating epoch 18 on dev ...
00:07:40 - process[9] - dev - epoch 18 - mAP: 0.357 w/ 37 queries
00:07:40 - process[9]: training epoch 19 ...
00:07:49 - process[9] - epoch 19 - train iter 241 - 21356.5 words/s - loss: 0.4509
00:07:49 - process[9]: evaluating epoch 19 on dev ...
00:08:07 - process[9] - dev - epoch 19 - mAP: 0.334 w/ 37 queries
00:08:07 - [fold 1] best test MAP: 0.409 @ epoch 16
00:08:07 - Evaluating every 1 epochs ...
00:08:07 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:08:07 - test has 37 queries ...
00:08:07 - Data reading done ...
00:08:09 - adding 9-th encoder to optimizer...
00:08:09 - adding 10-th encoder to optimizer...
00:08:09 - adding 11-th encoder to optimizer...
00:08:09 - process[9]: training epoch 0 ...
00:08:20 - process[9] - epoch 0 - train iter 276 - 20924.6 words/s - loss: 0.6837
00:08:20 - process[9]: training epoch 1 ...
00:08:31 - process[9] - epoch 1 - train iter 276 - 20070.1 words/s - loss: 0.6748
00:08:31 - process[9]: training epoch 2 ...
00:08:42 - process[9] - epoch 2 - train iter 276 - 20411.3 words/s - loss: 0.6262
00:08:42 - process[9]: training epoch 3 ...
00:08:54 - process[9] - epoch 3 - train iter 276 - 19240.8 words/s - loss: 0.6170
00:08:54 - process[9]: training epoch 4 ...
00:09:06 - process[9] - epoch 4 - train iter 276 - 20593.9 words/s - loss: 0.5804
00:09:06 - process[9]: training epoch 5 ...
00:09:17 - process[9] - epoch 5 - train iter 276 - 20671.0 words/s - loss: 0.5705
00:09:17 - process[9]: training epoch 6 ...
00:09:27 - process[9] - epoch 6 - train iter 276 - 20732.2 words/s - loss: 0.5012
00:09:27 - process[9]: training epoch 7 ...
00:09:38 - process[9] - epoch 7 - train iter 276 - 20564.5 words/s - loss: 0.5637
00:09:38 - process[9]: training epoch 8 ...
00:09:49 - process[9] - epoch 8 - train iter 276 - 21521.4 words/s - loss: 0.5117
00:09:49 - process[9]: training epoch 9 ...
00:09:59 - process[9] - epoch 9 - train iter 276 - 20944.4 words/s - loss: 0.5063
00:09:59 - process[9]: training epoch 10 ...
00:10:10 - process[9] - epoch 10 - train iter 276 - 21102.4 words/s - loss: 0.4832
00:10:10 - process[9]: evaluating epoch 10 on dev ...
00:10:29 - dev set during evaluation: 11380/11372
00:10:29 - process[9] - dev - epoch 10 - mAP: 0.275 w/ 37 queries
00:10:29 - process[9]: evaluating epoch 10 on test ...
00:10:46 - process[9] - test - epoch 10 - mAP: 0.274 w/ 37 queries
00:10:46 - process[9]: training epoch 11 ...
00:10:57 - process[9] - epoch 11 - train iter 276 - 21050.6 words/s - loss: 0.4632
00:10:57 - process[9]: evaluating epoch 11 on dev ...
00:11:16 - dev set during evaluation: 11380/11372
00:11:16 - process[9] - dev - epoch 11 - mAP: 0.269 w/ 37 queries
00:11:16 - process[9]: training epoch 12 ...
00:11:27 - process[9] - epoch 12 - train iter 276 - 20951.5 words/s - loss: 0.5330
00:11:27 - process[9]: evaluating epoch 12 on dev ...
00:11:45 - dev set during evaluation: 11380/11372
00:11:45 - process[9] - dev - epoch 12 - mAP: 0.299 w/ 37 queries
00:11:45 - process[9]: evaluating epoch 12 on test ...
00:12:02 - process[9] - test - epoch 12 - mAP: 0.294 w/ 37 queries
00:12:02 - process[9]: training epoch 13 ...
00:12:12 - process[9] - epoch 13 - train iter 276 - 22478.7 words/s - loss: 0.4829
00:12:12 - process[9]: evaluating epoch 13 on dev ...
00:12:32 - dev set during evaluation: 11380/11372
00:12:32 - process[9] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:12:32 - process[9]: training epoch 14 ...
00:12:43 - process[9] - epoch 14 - train iter 276 - 19942.4 words/s - loss: 0.5077
00:12:43 - process[9]: evaluating epoch 14 on dev ...
00:13:01 - dev set during evaluation: 11380/11372
00:13:01 - process[9] - dev - epoch 14 - mAP: 0.287 w/ 37 queries
00:13:01 - process[9]: training epoch 15 ...
00:13:11 - process[9] - epoch 15 - train iter 276 - 21993.0 words/s - loss: 0.4260
00:13:11 - process[9]: evaluating epoch 15 on dev ...
00:13:30 - dev set during evaluation: 11380/11372
00:13:30 - process[9] - dev - epoch 15 - mAP: 0.284 w/ 37 queries
00:13:30 - process[9]: training epoch 16 ...
00:13:41 - process[9] - epoch 16 - train iter 276 - 21474.4 words/s - loss: 0.4883
00:13:41 - process[9]: evaluating epoch 16 on dev ...
00:13:59 - dev set during evaluation: 11380/11372
00:13:59 - process[9] - dev - epoch 16 - mAP: 0.261 w/ 37 queries
00:13:59 - process[9]: training epoch 17 ...
00:14:10 - process[9] - epoch 17 - train iter 276 - 21064.2 words/s - loss: 0.4323
00:14:10 - process[9]: evaluating epoch 17 on dev ...
00:14:29 - dev set during evaluation: 11380/11372
00:14:29 - process[9] - dev - epoch 17 - mAP: 0.291 w/ 37 queries
00:14:29 - process[9]: training epoch 18 ...
00:14:39 - process[9] - epoch 18 - train iter 276 - 21548.2 words/s - loss: 0.4594
00:14:39 - process[9]: evaluating epoch 18 on dev ...
00:14:58 - dev set during evaluation: 11380/11372
00:14:58 - process[9] - dev - epoch 18 - mAP: 0.301 w/ 37 queries
00:14:58 - process[9]: evaluating epoch 18 on test ...
00:15:15 - process[9] - test - epoch 18 - mAP: 0.297 w/ 37 queries
00:15:15 - process[9]: training epoch 19 ...
00:15:26 - process[9] - epoch 19 - train iter 276 - 21450.6 words/s - loss: 0.3710
00:15:26 - process[9]: evaluating epoch 19 on dev ...
00:15:45 - dev set during evaluation: 11380/11372
00:15:45 - process[9] - dev - epoch 19 - mAP: 0.283 w/ 37 queries
00:15:45 - [fold 2] best test MAP: 0.297 @ epoch 18
00:15:45 - Evaluating every 1 epochs ...
00:15:45 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:15:46 - test has 37 queries ...
00:15:46 - Data reading done ...
00:15:47 - adding 9-th encoder to optimizer...
00:15:47 - adding 10-th encoder to optimizer...
00:15:47 - adding 11-th encoder to optimizer...
00:15:48 - process[9]: training epoch 0 ...
00:15:57 - process[9] - epoch 0 - train iter 240 - 21553.7 words/s - loss: 0.6915
00:15:57 - process[9]: training epoch 1 ...
00:16:05 - process[9] - epoch 1 - train iter 240 - 21731.8 words/s - loss: 0.6731
00:16:05 - process[9]: training epoch 2 ...
00:16:14 - process[9] - epoch 2 - train iter 240 - 21139.6 words/s - loss: 0.6303
00:16:14 - process[9]: training epoch 3 ...
00:16:23 - process[9] - epoch 3 - train iter 240 - 22518.1 words/s - loss: 0.5831
00:16:23 - process[9]: training epoch 4 ...
00:16:32 - process[9] - epoch 4 - train iter 240 - 20337.5 words/s - loss: 0.5852
00:16:32 - process[9]: training epoch 5 ...
00:16:41 - process[9] - epoch 5 - train iter 240 - 22344.3 words/s - loss: 0.5873
00:16:41 - process[9]: training epoch 6 ...
00:16:50 - process[9] - epoch 6 - train iter 240 - 22403.5 words/s - loss: 0.5447
00:16:50 - process[9]: training epoch 7 ...
00:16:59 - process[9] - epoch 7 - train iter 240 - 21012.7 words/s - loss: 0.5795
00:16:59 - process[9]: training epoch 8 ...
00:17:08 - process[9] - epoch 8 - train iter 240 - 21151.6 words/s - loss: 0.5449
00:17:08 - process[9]: training epoch 9 ...
00:17:17 - process[9] - epoch 9 - train iter 240 - 21254.3 words/s - loss: 0.5359
00:17:17 - process[9]: training epoch 10 ...
00:17:26 - process[9] - epoch 10 - train iter 240 - 21648.6 words/s - loss: 0.5651
00:17:26 - process[9]: evaluating epoch 10 on dev ...
00:17:46 - process[9] - dev - epoch 10 - mAP: 0.307 w/ 37 queries
00:17:46 - process[9]: evaluating epoch 10 on test ...
00:18:05 - test set during evaluation: 11210/11201
00:18:05 - process[9] - test - epoch 10 - mAP: 0.354 w/ 37 queries
00:18:05 - process[9]: training epoch 11 ...
00:18:15 - process[9] - epoch 11 - train iter 240 - 20845.4 words/s - loss: 0.5031
00:18:15 - process[9]: evaluating epoch 11 on dev ...
00:18:32 - process[9] - dev - epoch 11 - mAP: 0.302 w/ 37 queries
00:18:32 - process[9]: training epoch 12 ...
00:18:41 - process[9] - epoch 12 - train iter 240 - 20666.1 words/s - loss: 0.5019
00:18:41 - process[9]: evaluating epoch 12 on dev ...
00:18:58 - process[9] - dev - epoch 12 - mAP: 0.281 w/ 37 queries
00:18:58 - process[9]: training epoch 13 ...
00:19:07 - process[9] - epoch 13 - train iter 240 - 22050.1 words/s - loss: 0.5266
00:19:07 - process[9]: evaluating epoch 13 on dev ...
00:19:24 - process[9] - dev - epoch 13 - mAP: 0.304 w/ 37 queries
00:19:24 - process[9]: training epoch 14 ...
00:19:33 - process[9] - epoch 14 - train iter 240 - 21417.9 words/s - loss: 0.4825
00:19:33 - process[9]: evaluating epoch 14 on dev ...
00:19:51 - process[9] - dev - epoch 14 - mAP: 0.327 w/ 37 queries
00:19:51 - process[9]: evaluating epoch 14 on test ...
00:20:15 - test set during evaluation: 11210/11201
00:20:15 - process[9] - test - epoch 14 - mAP: 0.337 w/ 37 queries
00:20:15 - process[9]: training epoch 15 ...
00:20:24 - process[9] - epoch 15 - train iter 240 - 21572.8 words/s - loss: 0.4965
00:20:24 - process[9]: evaluating epoch 15 on dev ...
00:20:47 - process[9] - dev - epoch 15 - mAP: 0.326 w/ 37 queries
00:20:47 - process[9]: training epoch 16 ...
00:20:56 - process[9] - epoch 16 - train iter 240 - 21133.5 words/s - loss: 0.4654
00:20:56 - process[9]: evaluating epoch 16 on dev ...
00:21:13 - process[9] - dev - epoch 16 - mAP: 0.334 w/ 37 queries
00:21:13 - process[9]: evaluating epoch 16 on test ...
00:21:32 - test set during evaluation: 11210/11201
00:21:32 - process[9] - test - epoch 16 - mAP: 0.363 w/ 37 queries
00:21:32 - process[9]: training epoch 17 ...
00:21:41 - process[9] - epoch 17 - train iter 240 - 21206.3 words/s - loss: 0.4543
00:21:41 - process[9]: evaluating epoch 17 on dev ...
00:21:58 - process[9] - dev - epoch 17 - mAP: 0.340 w/ 37 queries
00:21:58 - process[9]: evaluating epoch 17 on test ...
00:22:17 - test set during evaluation: 11210/11201
00:22:17 - process[9] - test - epoch 17 - mAP: 0.347 w/ 37 queries
00:22:17 - process[9]: training epoch 18 ...
00:22:26 - process[9] - epoch 18 - train iter 240 - 21137.2 words/s - loss: 0.4572
00:22:26 - process[9]: evaluating epoch 18 on dev ...
00:22:44 - process[9] - dev - epoch 18 - mAP: 0.337 w/ 37 queries
00:22:44 - process[9]: training epoch 19 ...
00:22:52 - process[9] - epoch 19 - train iter 240 - 21687.8 words/s - loss: 0.5090
00:22:52 - process[9]: evaluating epoch 19 on dev ...
00:23:10 - process[9] - dev - epoch 19 - mAP: 0.353 w/ 37 queries
00:23:10 - process[9]: evaluating epoch 19 on test ...
00:23:29 - test set during evaluation: 11210/11201
00:23:29 - process[9] - test - epoch 19 - mAP: 0.375 w/ 37 queries
00:23:29 - [fold 3] best test MAP: 0.375 @ epoch 19
00:23:29 - Evaluating every 1 epochs ...
00:23:29 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:23:30 - test has 37 queries ...
00:23:30 - Data reading done ...
00:23:31 - adding 9-th encoder to optimizer...
00:23:31 - adding 10-th encoder to optimizer...
00:23:31 - adding 11-th encoder to optimizer...
00:23:32 - process[9]: training epoch 0 ...
00:23:40 - process[9] - epoch 0 - train iter 231 - 21972.5 words/s - loss: 0.6910
00:23:40 - process[9]: training epoch 1 ...
00:23:49 - process[9] - epoch 1 - train iter 231 - 20777.4 words/s - loss: 0.6845
00:23:49 - process[9]: training epoch 2 ...
00:23:57 - process[9] - epoch 2 - train iter 231 - 21095.7 words/s - loss: 0.6723
00:23:57 - process[9]: training epoch 3 ...
00:24:06 - process[9] - epoch 3 - train iter 231 - 21462.5 words/s - loss: 0.6771
00:24:06 - process[9]: training epoch 4 ...
00:24:15 - process[9] - epoch 4 - train iter 231 - 21717.3 words/s - loss: 0.6486
00:24:15 - process[9]: training epoch 5 ...
00:24:24 - process[9] - epoch 5 - train iter 231 - 21424.5 words/s - loss: 0.6183
00:24:24 - process[9]: training epoch 6 ...
00:24:32 - process[9] - epoch 6 - train iter 231 - 22244.5 words/s - loss: 0.5761
00:24:32 - process[9]: training epoch 7 ...
00:24:41 - process[9] - epoch 7 - train iter 231 - 20607.7 words/s - loss: 0.5805
00:24:41 - process[9]: training epoch 8 ...
00:24:49 - process[9] - epoch 8 - train iter 231 - 21913.1 words/s - loss: 0.5746
00:24:49 - process[9]: training epoch 9 ...
00:24:58 - process[9] - epoch 9 - train iter 231 - 21468.7 words/s - loss: 0.5454
00:24:58 - process[9]: training epoch 10 ...
00:25:07 - process[9] - epoch 10 - train iter 231 - 20837.1 words/s - loss: 0.5155
00:25:07 - process[9]: evaluating epoch 10 on dev ...
00:25:28 - dev set during evaluation: 11210/11201
00:25:28 - process[9] - dev - epoch 10 - mAP: 0.326 w/ 37 queries
00:25:28 - process[9]: evaluating epoch 10 on test ...
00:25:45 - test set during evaluation: 10640/10633
00:25:45 - process[9] - test - epoch 10 - mAP: 0.265 w/ 37 queries
00:25:45 - process[9]: training epoch 11 ...
00:25:53 - process[9] - epoch 11 - train iter 231 - 22289.3 words/s - loss: 0.5502
00:25:53 - process[9]: evaluating epoch 11 on dev ...
00:26:13 - dev set during evaluation: 11210/11201
00:26:13 - process[9] - dev - epoch 11 - mAP: 0.361 w/ 37 queries
00:26:13 - process[9]: evaluating epoch 11 on test ...
00:26:31 - test set during evaluation: 10640/10633
00:26:31 - process[9] - test - epoch 11 - mAP: 0.280 w/ 37 queries
00:26:31 - process[9]: training epoch 12 ...
00:26:40 - process[9] - epoch 12 - train iter 231 - 21113.4 words/s - loss: 0.5038
00:26:40 - process[9]: evaluating epoch 12 on dev ...
00:26:59 - dev set during evaluation: 11210/11201
00:26:59 - process[9] - dev - epoch 12 - mAP: 0.404 w/ 37 queries
00:26:59 - process[9]: evaluating epoch 12 on test ...
00:27:17 - test set during evaluation: 10640/10633
00:27:17 - process[9] - test - epoch 12 - mAP: 0.297 w/ 37 queries
00:27:17 - process[9]: training epoch 13 ...
00:27:26 - process[9] - epoch 13 - train iter 231 - 20977.8 words/s - loss: 0.5364
00:27:26 - process[9]: evaluating epoch 13 on dev ...
00:27:46 - dev set during evaluation: 11210/11201
00:27:46 - process[9] - dev - epoch 13 - mAP: 0.357 w/ 37 queries
00:27:46 - process[9]: training epoch 14 ...
00:27:55 - process[9] - epoch 14 - train iter 231 - 21026.3 words/s - loss: 0.5127
00:27:55 - process[9]: evaluating epoch 14 on dev ...
00:28:14 - dev set during evaluation: 11210/11201
00:28:14 - process[9] - dev - epoch 14 - mAP: 0.392 w/ 37 queries
00:28:14 - process[9]: training epoch 15 ...
00:28:23 - process[9] - epoch 15 - train iter 231 - 21250.0 words/s - loss: 0.4823
00:28:23 - process[9]: evaluating epoch 15 on dev ...
00:28:57 - dev set during evaluation: 11210/11201
00:28:57 - process[9] - dev - epoch 15 - mAP: 0.366 w/ 37 queries
00:28:57 - process[9]: training epoch 16 ...
00:29:06 - process[9] - epoch 16 - train iter 231 - 21773.0 words/s - loss: 0.5245
00:29:06 - process[9]: evaluating epoch 16 on dev ...
00:29:25 - dev set during evaluation: 11210/11201
00:29:25 - process[9] - dev - epoch 16 - mAP: 0.355 w/ 37 queries
00:29:25 - process[9]: training epoch 17 ...
00:29:33 - process[9] - epoch 17 - train iter 231 - 22060.7 words/s - loss: 0.4868
00:29:33 - process[9]: evaluating epoch 17 on dev ...
00:29:53 - dev set during evaluation: 11210/11201
00:29:53 - process[9] - dev - epoch 17 - mAP: 0.381 w/ 37 queries
00:29:53 - process[9]: training epoch 18 ...
00:30:02 - process[9] - epoch 18 - train iter 231 - 20396.3 words/s - loss: 0.5199
00:30:02 - process[9]: evaluating epoch 18 on dev ...
00:30:23 - dev set during evaluation: 11210/11201
00:30:23 - process[9] - dev - epoch 18 - mAP: 0.408 w/ 37 queries
00:30:23 - process[9]: evaluating epoch 18 on test ...
00:30:41 - test set during evaluation: 10640/10633
00:30:41 - process[9] - test - epoch 18 - mAP: 0.308 w/ 37 queries
00:30:41 - process[9]: training epoch 19 ...
00:30:50 - process[9] - epoch 19 - train iter 231 - 21706.9 words/s - loss: 0.4902
00:30:50 - process[9]: evaluating epoch 19 on dev ...
00:31:22 - dev set during evaluation: 11210/11201
00:31:22 - process[9] - dev - epoch 19 - mAP: 0.393 w/ 37 queries
00:31:22 - [fold 4] best test MAP: 0.308 @ epoch 18
00:31:22 - Evaluating every 1 epochs ...
00:31:22 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:31:22 - test has 37 queries ...
00:31:22 - Data reading done ...
00:31:24 - adding 9-th encoder to optimizer...
00:31:24 - adding 10-th encoder to optimizer...
00:31:24 - adding 11-th encoder to optimizer...
00:31:24 - process[9]: training epoch 0 ...
00:31:34 - process[9] - epoch 0 - train iter 235 - 21172.0 words/s - loss: 0.6898
00:31:34 - process[9]: training epoch 1 ...
00:31:42 - process[9] - epoch 1 - train iter 235 - 21963.4 words/s - loss: 0.6792
00:31:42 - process[9]: training epoch 2 ...
00:31:52 - process[9] - epoch 2 - train iter 235 - 20180.1 words/s - loss: 0.6625
00:31:52 - process[9]: training epoch 3 ...
00:32:01 - process[9] - epoch 3 - train iter 235 - 22117.8 words/s - loss: 0.6406
00:32:01 - process[9]: training epoch 4 ...
00:32:10 - process[9] - epoch 4 - train iter 235 - 21932.9 words/s - loss: 0.6135
00:32:10 - process[9]: training epoch 5 ...
00:32:18 - process[9] - epoch 5 - train iter 235 - 22363.6 words/s - loss: 0.6098
00:32:18 - process[9]: training epoch 6 ...
00:32:27 - process[9] - epoch 6 - train iter 235 - 20985.5 words/s - loss: 0.6109
00:32:27 - process[9]: training epoch 7 ...
00:32:37 - process[9] - epoch 7 - train iter 235 - 20924.5 words/s - loss: 0.5286
00:32:37 - process[9]: training epoch 8 ...
00:32:46 - process[9] - epoch 8 - train iter 235 - 21624.4 words/s - loss: 0.5800
00:32:46 - process[9]: training epoch 9 ...
00:32:55 - process[9] - epoch 9 - train iter 235 - 21193.4 words/s - loss: 0.5590
00:32:55 - process[9]: training epoch 10 ...
00:33:05 - process[9] - epoch 10 - train iter 235 - 19089.1 words/s - loss: 0.5250
00:33:05 - process[9]: evaluating epoch 10 on dev ...
00:33:22 - dev set during evaluation: 10640/10633
00:33:22 - process[9] - dev - epoch 10 - mAP: 0.277 w/ 37 queries
00:33:22 - process[9]: evaluating epoch 10 on test ...
00:33:40 - process[9] - test - epoch 10 - mAP: 0.322 w/ 37 queries
00:33:40 - process[9]: training epoch 11 ...
00:33:50 - process[9] - epoch 11 - train iter 235 - 20869.8 words/s - loss: 0.5190
00:33:50 - process[9]: evaluating epoch 11 on dev ...
00:34:08 - dev set during evaluation: 10640/10633
00:34:08 - process[9] - dev - epoch 11 - mAP: 0.259 w/ 37 queries
00:34:08 - process[9]: training epoch 12 ...
00:34:17 - process[9] - epoch 12 - train iter 235 - 21032.8 words/s - loss: 0.5024
00:34:17 - process[9]: evaluating epoch 12 on dev ...
00:34:34 - dev set during evaluation: 10640/10633
00:34:34 - process[9] - dev - epoch 12 - mAP: 0.264 w/ 37 queries
00:34:34 - process[9]: training epoch 13 ...
00:34:43 - process[9] - epoch 13 - train iter 235 - 21335.6 words/s - loss: 0.4607
00:34:43 - process[9]: evaluating epoch 13 on dev ...
00:35:01 - dev set during evaluation: 10640/10633
00:35:01 - process[9] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:35:01 - process[9]: training epoch 14 ...
00:35:11 - process[9] - epoch 14 - train iter 235 - 20513.8 words/s - loss: 0.5071
00:35:11 - process[9]: evaluating epoch 14 on dev ...
00:35:28 - dev set during evaluation: 10640/10633
00:35:28 - process[9] - dev - epoch 14 - mAP: 0.268 w/ 37 queries
00:35:28 - process[9]: training epoch 15 ...
00:35:37 - process[9] - epoch 15 - train iter 235 - 21036.2 words/s - loss: 0.4495
00:35:37 - process[9]: evaluating epoch 15 on dev ...
00:35:54 - dev set during evaluation: 10640/10633
00:35:54 - process[9] - dev - epoch 15 - mAP: 0.274 w/ 37 queries
00:35:54 - process[9]: training epoch 16 ...
00:36:03 - process[9] - epoch 16 - train iter 235 - 20703.0 words/s - loss: 0.5114
00:36:03 - process[9]: evaluating epoch 16 on dev ...
00:36:21 - dev set during evaluation: 10640/10633
00:36:21 - process[9] - dev - epoch 16 - mAP: 0.271 w/ 37 queries
00:36:21 - process[9]: training epoch 17 ...
00:36:30 - process[9] - epoch 17 - train iter 235 - 21038.6 words/s - loss: 0.5079
00:36:30 - process[9]: evaluating epoch 17 on dev ...
00:36:47 - dev set during evaluation: 10640/10633
00:36:47 - process[9] - dev - epoch 17 - mAP: 0.299 w/ 37 queries
00:36:47 - process[9]: evaluating epoch 17 on test ...
00:37:06 - process[9] - test - epoch 17 - mAP: 0.351 w/ 37 queries
00:37:06 - process[9]: training epoch 18 ...
00:37:15 - process[9] - epoch 18 - train iter 235 - 21297.2 words/s - loss: 0.4744
00:37:15 - process[9]: evaluating epoch 18 on dev ...
00:37:32 - dev set during evaluation: 10640/10633
00:37:32 - process[9] - dev - epoch 18 - mAP: 0.264 w/ 37 queries
00:37:32 - process[9]: training epoch 19 ...
00:37:41 - process[9] - epoch 19 - train iter 235 - 20861.0 words/s - loss: 0.4969
00:37:41 - process[9]: evaluating epoch 19 on dev ...
00:37:59 - dev set during evaluation: 10640/10633
00:37:59 - process[9] - dev - epoch 19 - mAP: 0.267 w/ 37 queries
00:37:59 - [fold 5] best test MAP: 0.351 @ epoch 17
00:37:59 - [0.40949067721447446, 0.2972975432949899, 0.37459359006412923, 0.3081584352728631, 0.3507709698681128]
00:37:59 - [37, 37, 37, 37, 37]
00:37:59 - final MAP: 0.348
