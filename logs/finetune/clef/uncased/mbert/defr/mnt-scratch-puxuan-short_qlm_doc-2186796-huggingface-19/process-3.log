00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=3, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='de', target_lang='fr')
00:00:14 - Evaluating every 1 epochs ...
00:00:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 37 queries ...
00:00:15 - Data reading done ...
00:00:21 - adding 9-th encoder to optimizer...
00:00:21 - adding 10-th encoder to optimizer...
00:00:21 - adding 11-th encoder to optimizer...
00:00:21 - process[3]: training epoch 0 ...
00:00:31 - process[3] - epoch 0 - train iter 241 - 20199.0 words/s - loss: 0.6892
00:00:31 - process[3]: training epoch 1 ...
00:00:40 - process[3] - epoch 1 - train iter 241 - 21791.9 words/s - loss: 0.6743
00:00:40 - process[3]: training epoch 2 ...
00:00:49 - process[3] - epoch 2 - train iter 241 - 20996.4 words/s - loss: 0.6279
00:00:49 - process[3]: training epoch 3 ...
00:00:58 - process[3] - epoch 3 - train iter 241 - 22090.1 words/s - loss: 0.6406
00:00:58 - process[3]: training epoch 4 ...
00:01:07 - process[3] - epoch 4 - train iter 241 - 21658.8 words/s - loss: 0.6026
00:01:07 - process[3]: training epoch 5 ...
00:01:16 - process[3] - epoch 5 - train iter 241 - 21909.5 words/s - loss: 0.6073
00:01:16 - process[3]: training epoch 6 ...
00:01:25 - process[3] - epoch 6 - train iter 241 - 22687.1 words/s - loss: 0.5704
00:01:25 - process[3]: training epoch 7 ...
00:01:34 - process[3] - epoch 7 - train iter 241 - 22438.8 words/s - loss: 0.5668
00:01:34 - process[3]: training epoch 8 ...
00:01:42 - process[3] - epoch 8 - train iter 241 - 21933.1 words/s - loss: 0.4948
00:01:42 - process[3]: training epoch 9 ...
00:01:51 - process[3] - epoch 9 - train iter 241 - 21858.5 words/s - loss: 0.4927
00:01:51 - process[3]: training epoch 10 ...
00:02:01 - process[3] - epoch 10 - train iter 241 - 21606.3 words/s - loss: 0.5006
00:02:01 - process[3]: evaluating epoch 10 on dev ...
00:02:22 - process[3] - dev - epoch 10 - mAP: 0.337 w/ 37 queries
00:02:22 - process[3]: evaluating epoch 10 on test ...
00:02:42 - test set during evaluation: 11380/11372
00:02:42 - process[3] - test - epoch 10 - mAP: 0.330 w/ 37 queries
00:02:42 - process[3]: training epoch 11 ...
00:02:51 - process[3] - epoch 11 - train iter 241 - 21780.9 words/s - loss: 0.4993
00:02:51 - process[3]: evaluating epoch 11 on dev ...
00:03:10 - process[3] - dev - epoch 11 - mAP: 0.325 w/ 37 queries
00:03:10 - process[3]: training epoch 12 ...
00:03:19 - process[3] - epoch 12 - train iter 241 - 22727.3 words/s - loss: 0.4764
00:03:19 - process[3]: evaluating epoch 12 on dev ...
00:03:38 - process[3] - dev - epoch 12 - mAP: 0.346 w/ 37 queries
00:03:38 - process[3]: evaluating epoch 12 on test ...
00:03:56 - test set during evaluation: 11380/11372
00:03:56 - process[3] - test - epoch 12 - mAP: 0.342 w/ 37 queries
00:03:56 - process[3]: training epoch 13 ...
00:04:06 - process[3] - epoch 13 - train iter 241 - 21155.8 words/s - loss: 0.4551
00:04:06 - process[3]: evaluating epoch 13 on dev ...
00:04:24 - process[3] - dev - epoch 13 - mAP: 0.325 w/ 37 queries
00:04:24 - process[3]: training epoch 14 ...
00:04:33 - process[3] - epoch 14 - train iter 241 - 21616.8 words/s - loss: 0.5545
00:04:33 - process[3]: evaluating epoch 14 on dev ...
00:04:51 - process[3] - dev - epoch 14 - mAP: 0.350 w/ 37 queries
00:04:51 - process[3]: evaluating epoch 14 on test ...
00:05:10 - test set during evaluation: 11380/11372
00:05:10 - process[3] - test - epoch 14 - mAP: 0.324 w/ 37 queries
00:05:10 - process[3]: training epoch 15 ...
00:05:19 - process[3] - epoch 15 - train iter 241 - 21657.3 words/s - loss: 0.5224
00:05:19 - process[3]: evaluating epoch 15 on dev ...
00:05:39 - process[3] - dev - epoch 15 - mAP: 0.353 w/ 37 queries
00:05:39 - process[3]: evaluating epoch 15 on test ...
00:05:58 - test set during evaluation: 11380/11372
00:05:58 - process[3] - test - epoch 15 - mAP: 0.363 w/ 37 queries
00:05:58 - process[3]: training epoch 16 ...
00:06:08 - process[3] - epoch 16 - train iter 241 - 19485.3 words/s - loss: 0.4734
00:06:08 - process[3]: evaluating epoch 16 on dev ...
00:06:27 - process[3] - dev - epoch 16 - mAP: 0.357 w/ 37 queries
00:06:27 - process[3]: evaluating epoch 16 on test ...
00:06:45 - test set during evaluation: 11380/11372
00:06:45 - process[3] - test - epoch 16 - mAP: 0.409 w/ 37 queries
00:06:45 - process[3]: training epoch 17 ...
00:06:55 - process[3] - epoch 17 - train iter 241 - 21855.7 words/s - loss: 0.4565
00:06:55 - process[3]: evaluating epoch 17 on dev ...
00:07:13 - process[3] - dev - epoch 17 - mAP: 0.345 w/ 37 queries
00:07:13 - process[3]: training epoch 18 ...
00:07:21 - process[3] - epoch 18 - train iter 241 - 21987.7 words/s - loss: 0.4795
00:07:21 - process[3]: evaluating epoch 18 on dev ...
00:07:40 - process[3] - dev - epoch 18 - mAP: 0.357 w/ 37 queries
00:07:40 - process[3]: training epoch 19 ...
00:07:49 - process[3] - epoch 19 - train iter 241 - 22741.9 words/s - loss: 0.4615
00:07:49 - process[3]: evaluating epoch 19 on dev ...
00:08:07 - process[3] - dev - epoch 19 - mAP: 0.334 w/ 37 queries
00:08:07 - [fold 1] best test MAP: 0.409 @ epoch 16
00:08:07 - Evaluating every 1 epochs ...
00:08:07 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:08:08 - test has 37 queries ...
00:08:08 - Data reading done ...
00:08:09 - adding 9-th encoder to optimizer...
00:08:09 - adding 10-th encoder to optimizer...
00:08:09 - adding 11-th encoder to optimizer...
00:08:10 - process[3]: training epoch 0 ...
00:08:20 - process[3] - epoch 0 - train iter 276 - 21793.8 words/s - loss: 0.6907
00:08:20 - process[3]: training epoch 1 ...
00:08:32 - process[3] - epoch 1 - train iter 276 - 19433.7 words/s - loss: 0.6797
00:08:32 - process[3]: training epoch 2 ...
00:08:42 - process[3] - epoch 2 - train iter 276 - 20822.8 words/s - loss: 0.6717
00:08:42 - process[3]: training epoch 3 ...
00:08:53 - process[3] - epoch 3 - train iter 276 - 21111.0 words/s - loss: 0.6576
00:08:53 - process[3]: training epoch 4 ...
00:09:04 - process[3] - epoch 4 - train iter 276 - 21076.7 words/s - loss: 0.6337
00:09:04 - process[3]: training epoch 5 ...
00:09:15 - process[3] - epoch 5 - train iter 276 - 20543.0 words/s - loss: 0.6075
00:09:15 - process[3]: training epoch 6 ...
00:09:26 - process[3] - epoch 6 - train iter 276 - 20830.1 words/s - loss: 0.5979
00:09:26 - process[3]: training epoch 7 ...
00:09:36 - process[3] - epoch 7 - train iter 276 - 22189.3 words/s - loss: 0.5362
00:09:36 - process[3]: training epoch 8 ...
00:09:47 - process[3] - epoch 8 - train iter 276 - 21970.4 words/s - loss: 0.5334
00:09:47 - process[3]: training epoch 9 ...
00:09:58 - process[3] - epoch 9 - train iter 276 - 21218.0 words/s - loss: 0.5317
00:09:58 - process[3]: training epoch 10 ...
00:10:09 - process[3] - epoch 10 - train iter 276 - 21028.7 words/s - loss: 0.5105
00:10:09 - process[3]: evaluating epoch 10 on dev ...
00:10:30 - dev set during evaluation: 11380/11372
00:10:30 - process[3] - dev - epoch 10 - mAP: 0.275 w/ 37 queries
00:10:30 - process[3]: evaluating epoch 10 on test ...
00:10:47 - process[3] - test - epoch 10 - mAP: 0.274 w/ 37 queries
00:10:47 - process[3]: training epoch 11 ...
00:10:58 - process[3] - epoch 11 - train iter 276 - 20439.0 words/s - loss: 0.5110
00:10:58 - process[3]: evaluating epoch 11 on dev ...
00:11:17 - dev set during evaluation: 11380/11372
00:11:17 - process[3] - dev - epoch 11 - mAP: 0.269 w/ 37 queries
00:11:17 - process[3]: training epoch 12 ...
00:11:28 - process[3] - epoch 12 - train iter 276 - 20288.2 words/s - loss: 0.4957
00:11:28 - process[3]: evaluating epoch 12 on dev ...
00:11:46 - dev set during evaluation: 11380/11372
00:11:46 - process[3] - dev - epoch 12 - mAP: 0.299 w/ 37 queries
00:11:46 - process[3]: evaluating epoch 12 on test ...
00:12:04 - process[3] - test - epoch 12 - mAP: 0.294 w/ 37 queries
00:12:04 - process[3]: training epoch 13 ...
00:12:15 - process[3] - epoch 13 - train iter 276 - 20452.7 words/s - loss: 0.5327
00:12:15 - process[3]: evaluating epoch 13 on dev ...
00:12:34 - dev set during evaluation: 11380/11372
00:12:34 - process[3] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:12:34 - process[3]: training epoch 14 ...
00:12:45 - process[3] - epoch 14 - train iter 276 - 20368.4 words/s - loss: 0.4601
00:12:45 - process[3]: evaluating epoch 14 on dev ...
00:13:03 - dev set during evaluation: 11380/11372
00:13:03 - process[3] - dev - epoch 14 - mAP: 0.287 w/ 37 queries
00:13:03 - process[3]: training epoch 15 ...
00:13:14 - process[3] - epoch 15 - train iter 276 - 19782.9 words/s - loss: 0.4745
00:13:14 - process[3]: evaluating epoch 15 on dev ...
00:13:32 - dev set during evaluation: 11380/11372
00:13:32 - process[3] - dev - epoch 15 - mAP: 0.284 w/ 37 queries
00:13:32 - process[3]: training epoch 16 ...
00:13:42 - process[3] - epoch 16 - train iter 276 - 22119.9 words/s - loss: 0.4715
00:13:42 - process[3]: evaluating epoch 16 on dev ...
00:14:01 - dev set during evaluation: 11380/11372
00:14:01 - process[3] - dev - epoch 16 - mAP: 0.261 w/ 37 queries
00:14:01 - process[3]: training epoch 17 ...
00:14:11 - process[3] - epoch 17 - train iter 276 - 21603.3 words/s - loss: 0.5308
00:14:11 - process[3]: evaluating epoch 17 on dev ...
00:14:31 - dev set during evaluation: 11380/11372
00:14:31 - process[3] - dev - epoch 17 - mAP: 0.291 w/ 37 queries
00:14:31 - process[3]: training epoch 18 ...
00:14:42 - process[3] - epoch 18 - train iter 276 - 20345.7 words/s - loss: 0.4908
00:14:42 - process[3]: evaluating epoch 18 on dev ...
00:15:00 - dev set during evaluation: 11380/11372
00:15:00 - process[3] - dev - epoch 18 - mAP: 0.301 w/ 37 queries
00:15:00 - process[3]: evaluating epoch 18 on test ...
00:15:17 - process[3] - test - epoch 18 - mAP: 0.297 w/ 37 queries
00:15:17 - process[3]: training epoch 19 ...
00:15:29 - process[3] - epoch 19 - train iter 276 - 20185.4 words/s - loss: 0.5201
00:15:29 - process[3]: evaluating epoch 19 on dev ...
00:15:48 - dev set during evaluation: 11380/11372
00:15:48 - process[3] - dev - epoch 19 - mAP: 0.283 w/ 37 queries
00:15:48 - [fold 2] best test MAP: 0.297 @ epoch 18
00:15:48 - Evaluating every 1 epochs ...
00:15:48 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:15:48 - test has 37 queries ...
00:15:48 - Data reading done ...
00:15:49 - adding 9-th encoder to optimizer...
00:15:49 - adding 10-th encoder to optimizer...
00:15:49 - adding 11-th encoder to optimizer...
00:15:50 - process[3]: training epoch 0 ...
00:15:59 - process[3] - epoch 0 - train iter 240 - 20858.5 words/s - loss: 0.6921
00:15:59 - process[3]: training epoch 1 ...
00:16:08 - process[3] - epoch 1 - train iter 240 - 21088.8 words/s - loss: 0.6844
00:16:08 - process[3]: training epoch 2 ...
00:16:17 - process[3] - epoch 2 - train iter 240 - 20896.1 words/s - loss: 0.6821
00:16:17 - process[3]: training epoch 3 ...
00:16:26 - process[3] - epoch 3 - train iter 240 - 21579.9 words/s - loss: 0.6747
00:16:26 - process[3]: training epoch 4 ...
00:16:36 - process[3] - epoch 4 - train iter 240 - 20776.0 words/s - loss: 0.6438
00:16:36 - process[3]: training epoch 5 ...
00:16:45 - process[3] - epoch 5 - train iter 240 - 21578.1 words/s - loss: 0.5832
00:16:45 - process[3]: training epoch 6 ...
00:16:54 - process[3] - epoch 6 - train iter 240 - 20757.5 words/s - loss: 0.5906
00:16:54 - process[3]: training epoch 7 ...
00:17:03 - process[3] - epoch 7 - train iter 240 - 20880.0 words/s - loss: 0.5615
00:17:03 - process[3]: training epoch 8 ...
00:17:12 - process[3] - epoch 8 - train iter 240 - 21068.3 words/s - loss: 0.5850
00:17:12 - process[3]: training epoch 9 ...
00:17:21 - process[3] - epoch 9 - train iter 240 - 22249.2 words/s - loss: 0.5771
00:17:21 - process[3]: training epoch 10 ...
00:17:30 - process[3] - epoch 10 - train iter 240 - 21170.0 words/s - loss: 0.5428
00:17:30 - process[3]: evaluating epoch 10 on dev ...
00:17:47 - process[3] - dev - epoch 10 - mAP: 0.307 w/ 37 queries
00:17:47 - process[3]: evaluating epoch 10 on test ...
00:18:07 - test set during evaluation: 11210/11201
00:18:07 - process[3] - test - epoch 10 - mAP: 0.354 w/ 37 queries
00:18:07 - process[3]: training epoch 11 ...
00:18:17 - process[3] - epoch 11 - train iter 240 - 20181.5 words/s - loss: 0.5391
00:18:17 - process[3]: evaluating epoch 11 on dev ...
00:18:34 - process[3] - dev - epoch 11 - mAP: 0.302 w/ 37 queries
00:18:34 - process[3]: training epoch 12 ...
00:18:43 - process[3] - epoch 12 - train iter 240 - 21563.1 words/s - loss: 0.5080
00:18:43 - process[3]: evaluating epoch 12 on dev ...
00:19:00 - process[3] - dev - epoch 12 - mAP: 0.281 w/ 37 queries
00:19:00 - process[3]: training epoch 13 ...
00:19:10 - process[3] - epoch 13 - train iter 240 - 20278.3 words/s - loss: 0.4970
00:19:10 - process[3]: evaluating epoch 13 on dev ...
00:19:26 - process[3] - dev - epoch 13 - mAP: 0.304 w/ 37 queries
00:19:26 - process[3]: training epoch 14 ...
00:19:36 - process[3] - epoch 14 - train iter 240 - 20468.4 words/s - loss: 0.5125
00:19:36 - process[3]: evaluating epoch 14 on dev ...
00:19:53 - process[3] - dev - epoch 14 - mAP: 0.327 w/ 37 queries
00:19:53 - process[3]: evaluating epoch 14 on test ...
00:20:12 - test set during evaluation: 11210/11201
00:20:12 - process[3] - test - epoch 14 - mAP: 0.337 w/ 37 queries
00:20:12 - process[3]: training epoch 15 ...
00:20:22 - process[3] - epoch 15 - train iter 240 - 20610.4 words/s - loss: 0.4494
00:20:22 - process[3]: evaluating epoch 15 on dev ...
00:20:40 - process[3] - dev - epoch 15 - mAP: 0.326 w/ 37 queries
00:20:40 - process[3]: training epoch 16 ...
00:20:49 - process[3] - epoch 16 - train iter 240 - 22040.1 words/s - loss: 0.4979
00:20:49 - process[3]: evaluating epoch 16 on dev ...
00:21:08 - process[3] - dev - epoch 16 - mAP: 0.334 w/ 37 queries
00:21:08 - process[3]: evaluating epoch 16 on test ...
00:21:30 - test set during evaluation: 11210/11201
00:21:30 - process[3] - test - epoch 16 - mAP: 0.363 w/ 37 queries
00:21:30 - process[3]: training epoch 17 ...
00:21:39 - process[3] - epoch 17 - train iter 240 - 21864.3 words/s - loss: 0.4948
00:21:39 - process[3]: evaluating epoch 17 on dev ...
00:21:59 - process[3] - dev - epoch 17 - mAP: 0.340 w/ 37 queries
00:21:59 - process[3]: evaluating epoch 17 on test ...
00:22:21 - test set during evaluation: 11210/11201
00:22:21 - process[3] - test - epoch 17 - mAP: 0.347 w/ 37 queries
00:22:21 - process[3]: training epoch 18 ...
00:22:31 - process[3] - epoch 18 - train iter 240 - 20482.5 words/s - loss: 0.4690
00:22:31 - process[3]: evaluating epoch 18 on dev ...
00:22:48 - process[3] - dev - epoch 18 - mAP: 0.337 w/ 37 queries
00:22:48 - process[3]: training epoch 19 ...
00:22:57 - process[3] - epoch 19 - train iter 240 - 20663.6 words/s - loss: 0.4336
00:22:57 - process[3]: evaluating epoch 19 on dev ...
00:23:14 - process[3] - dev - epoch 19 - mAP: 0.353 w/ 37 queries
00:23:14 - process[3]: evaluating epoch 19 on test ...
00:23:34 - test set during evaluation: 11210/11201
00:23:34 - process[3] - test - epoch 19 - mAP: 0.375 w/ 37 queries
00:23:34 - [fold 3] best test MAP: 0.375 @ epoch 19
00:23:34 - Evaluating every 1 epochs ...
00:23:34 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:23:34 - test has 37 queries ...
00:23:34 - Data reading done ...
00:23:35 - adding 9-th encoder to optimizer...
00:23:35 - adding 10-th encoder to optimizer...
00:23:35 - adding 11-th encoder to optimizer...
00:23:36 - process[3]: training epoch 0 ...
00:23:44 - process[3] - epoch 0 - train iter 231 - 22077.9 words/s - loss: 0.6916
00:23:44 - process[3]: training epoch 1 ...
00:23:52 - process[3] - epoch 1 - train iter 231 - 22190.0 words/s - loss: 0.6844
00:23:52 - process[3]: training epoch 2 ...
00:24:01 - process[3] - epoch 2 - train iter 231 - 21295.6 words/s - loss: 0.6419
00:24:01 - process[3]: training epoch 3 ...
00:24:10 - process[3] - epoch 3 - train iter 231 - 21661.1 words/s - loss: 0.6211
00:24:10 - process[3]: training epoch 4 ...
00:24:18 - process[3] - epoch 4 - train iter 231 - 21568.1 words/s - loss: 0.5958
00:24:18 - process[3]: training epoch 5 ...
00:24:26 - process[3] - epoch 5 - train iter 231 - 22284.1 words/s - loss: 0.5915
00:24:26 - process[3]: training epoch 6 ...
00:24:35 - process[3] - epoch 6 - train iter 231 - 21066.4 words/s - loss: 0.5511
00:24:35 - process[3]: training epoch 7 ...
00:24:44 - process[3] - epoch 7 - train iter 231 - 20262.9 words/s - loss: 0.5446
00:24:44 - process[3]: training epoch 8 ...
00:24:54 - process[3] - epoch 8 - train iter 231 - 20042.5 words/s - loss: 0.5423
00:24:54 - process[3]: training epoch 9 ...
00:25:02 - process[3] - epoch 9 - train iter 231 - 22154.0 words/s - loss: 0.5432
00:25:02 - process[3]: training epoch 10 ...
00:25:11 - process[3] - epoch 10 - train iter 231 - 21128.3 words/s - loss: 0.5681
00:25:11 - process[3]: evaluating epoch 10 on dev ...
00:25:32 - dev set during evaluation: 11210/11201
00:25:32 - process[3] - dev - epoch 10 - mAP: 0.326 w/ 37 queries
00:25:32 - process[3]: evaluating epoch 10 on test ...
00:25:49 - test set during evaluation: 10640/10633
00:25:49 - process[3] - test - epoch 10 - mAP: 0.265 w/ 37 queries
00:25:49 - process[3]: training epoch 11 ...
00:25:58 - process[3] - epoch 11 - train iter 231 - 21326.7 words/s - loss: 0.4730
00:25:58 - process[3]: evaluating epoch 11 on dev ...
00:26:17 - dev set during evaluation: 11210/11201
00:26:17 - process[3] - dev - epoch 11 - mAP: 0.361 w/ 37 queries
00:26:17 - process[3]: evaluating epoch 11 on test ...
00:26:35 - test set during evaluation: 10640/10633
00:26:35 - process[3] - test - epoch 11 - mAP: 0.280 w/ 37 queries
00:26:35 - process[3]: training epoch 12 ...
00:26:44 - process[3] - epoch 12 - train iter 231 - 21642.4 words/s - loss: 0.4810
00:26:44 - process[3]: evaluating epoch 12 on dev ...
00:27:04 - dev set during evaluation: 11210/11201
00:27:04 - process[3] - dev - epoch 12 - mAP: 0.404 w/ 37 queries
00:27:04 - process[3]: evaluating epoch 12 on test ...
00:27:21 - test set during evaluation: 10640/10633
00:27:21 - process[3] - test - epoch 12 - mAP: 0.297 w/ 37 queries
00:27:21 - process[3]: training epoch 13 ...
00:27:30 - process[3] - epoch 13 - train iter 231 - 22323.6 words/s - loss: 0.4953
00:27:30 - process[3]: evaluating epoch 13 on dev ...
00:27:50 - dev set during evaluation: 11210/11201
00:27:50 - process[3] - dev - epoch 13 - mAP: 0.357 w/ 37 queries
00:27:50 - process[3]: training epoch 14 ...
00:27:58 - process[3] - epoch 14 - train iter 231 - 21163.5 words/s - loss: 0.5229
00:27:58 - process[3]: evaluating epoch 14 on dev ...
00:28:18 - dev set during evaluation: 11210/11201
00:28:18 - process[3] - dev - epoch 14 - mAP: 0.392 w/ 37 queries
00:28:18 - process[3]: training epoch 15 ...
00:28:27 - process[3] - epoch 15 - train iter 231 - 20971.2 words/s - loss: 0.4894
00:28:27 - process[3]: evaluating epoch 15 on dev ...
00:28:46 - dev set during evaluation: 11210/11201
00:28:46 - process[3] - dev - epoch 15 - mAP: 0.366 w/ 37 queries
00:28:46 - process[3]: training epoch 16 ...
00:28:55 - process[3] - epoch 16 - train iter 231 - 20988.5 words/s - loss: 0.4744
00:28:55 - process[3]: evaluating epoch 16 on dev ...
00:29:15 - dev set during evaluation: 11210/11201
00:29:15 - process[3] - dev - epoch 16 - mAP: 0.355 w/ 37 queries
00:29:15 - process[3]: training epoch 17 ...
00:29:23 - process[3] - epoch 17 - train iter 231 - 21287.1 words/s - loss: 0.4696
00:29:23 - process[3]: evaluating epoch 17 on dev ...
00:29:42 - dev set during evaluation: 11210/11201
00:29:42 - process[3] - dev - epoch 17 - mAP: 0.381 w/ 37 queries
00:29:42 - process[3]: training epoch 18 ...
00:29:51 - process[3] - epoch 18 - train iter 231 - 21293.7 words/s - loss: 0.4670
00:29:51 - process[3]: evaluating epoch 18 on dev ...
00:30:11 - dev set during evaluation: 11210/11201
00:30:11 - process[3] - dev - epoch 18 - mAP: 0.408 w/ 37 queries
00:30:11 - process[3]: evaluating epoch 18 on test ...
00:30:28 - test set during evaluation: 10640/10633
00:30:28 - process[3] - test - epoch 18 - mAP: 0.308 w/ 37 queries
00:30:28 - process[3]: training epoch 19 ...
00:30:37 - process[3] - epoch 19 - train iter 231 - 22697.0 words/s - loss: 0.4340
00:30:37 - process[3]: evaluating epoch 19 on dev ...
00:30:57 - dev set during evaluation: 11210/11201
00:30:57 - process[3] - dev - epoch 19 - mAP: 0.393 w/ 37 queries
00:30:57 - [fold 4] best test MAP: 0.308 @ epoch 18
00:30:57 - Evaluating every 1 epochs ...
00:30:57 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:30:57 - test has 37 queries ...
00:30:57 - Data reading done ...
00:30:58 - adding 9-th encoder to optimizer...
00:30:58 - adding 10-th encoder to optimizer...
00:30:58 - adding 11-th encoder to optimizer...
00:30:59 - process[3]: training epoch 0 ...
00:31:08 - process[3] - epoch 0 - train iter 235 - 20576.7 words/s - loss: 0.6874
00:31:08 - process[3]: training epoch 1 ...
00:31:17 - process[3] - epoch 1 - train iter 235 - 20787.8 words/s - loss: 0.6847
00:31:17 - process[3]: training epoch 2 ...
00:31:27 - process[3] - epoch 2 - train iter 235 - 21247.6 words/s - loss: 0.6622
00:31:27 - process[3]: training epoch 3 ...
00:31:36 - process[3] - epoch 3 - train iter 235 - 19677.5 words/s - loss: 0.6659
00:31:36 - process[3]: training epoch 4 ...
00:31:45 - process[3] - epoch 4 - train iter 235 - 21743.0 words/s - loss: 0.6394
00:31:45 - process[3]: training epoch 5 ...
00:31:54 - process[3] - epoch 5 - train iter 235 - 22264.0 words/s - loss: 0.6326
00:31:54 - process[3]: training epoch 6 ...
00:32:03 - process[3] - epoch 6 - train iter 235 - 20334.9 words/s - loss: 0.5921
00:32:03 - process[3]: training epoch 7 ...
00:32:13 - process[3] - epoch 7 - train iter 235 - 19932.2 words/s - loss: 0.5922
00:32:13 - process[3]: training epoch 8 ...
00:32:22 - process[3] - epoch 8 - train iter 235 - 22488.8 words/s - loss: 0.5577
00:32:22 - process[3]: training epoch 9 ...
00:32:31 - process[3] - epoch 9 - train iter 235 - 20088.1 words/s - loss: 0.5468
00:32:31 - process[3]: training epoch 10 ...
00:32:40 - process[3] - epoch 10 - train iter 235 - 20692.1 words/s - loss: 0.5372
00:32:40 - process[3]: evaluating epoch 10 on dev ...
00:32:57 - dev set during evaluation: 10640/10633
00:32:57 - process[3] - dev - epoch 10 - mAP: 0.277 w/ 37 queries
00:32:57 - process[3]: evaluating epoch 10 on test ...
00:33:17 - process[3] - test - epoch 10 - mAP: 0.322 w/ 37 queries
00:33:17 - process[3]: training epoch 11 ...
00:33:26 - process[3] - epoch 11 - train iter 235 - 20846.3 words/s - loss: 0.5469
00:33:26 - process[3]: evaluating epoch 11 on dev ...
00:33:45 - dev set during evaluation: 10640/10633
00:33:45 - process[3] - dev - epoch 11 - mAP: 0.259 w/ 37 queries
00:33:45 - process[3]: training epoch 12 ...
00:33:54 - process[3] - epoch 12 - train iter 235 - 20977.9 words/s - loss: 0.5086
00:33:54 - process[3]: evaluating epoch 12 on dev ...
00:34:12 - dev set during evaluation: 10640/10633
00:34:12 - process[3] - dev - epoch 12 - mAP: 0.264 w/ 37 queries
00:34:12 - process[3]: training epoch 13 ...
00:34:21 - process[3] - epoch 13 - train iter 235 - 21460.1 words/s - loss: 0.5208
00:34:21 - process[3]: evaluating epoch 13 on dev ...
00:34:39 - dev set during evaluation: 10640/10633
00:34:39 - process[3] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:34:39 - process[3]: training epoch 14 ...
00:34:48 - process[3] - epoch 14 - train iter 235 - 21747.0 words/s - loss: 0.5373
00:34:48 - process[3]: evaluating epoch 14 on dev ...
00:35:06 - dev set during evaluation: 10640/10633
00:35:06 - process[3] - dev - epoch 14 - mAP: 0.268 w/ 37 queries
00:35:06 - process[3]: training epoch 15 ...
00:35:14 - process[3] - epoch 15 - train iter 235 - 22005.5 words/s - loss: 0.5050
00:35:14 - process[3]: evaluating epoch 15 on dev ...
00:35:32 - dev set during evaluation: 10640/10633
00:35:32 - process[3] - dev - epoch 15 - mAP: 0.274 w/ 37 queries
00:35:32 - process[3]: training epoch 16 ...
00:35:41 - process[3] - epoch 16 - train iter 235 - 20988.5 words/s - loss: 0.5051
00:35:41 - process[3]: evaluating epoch 16 on dev ...
00:35:59 - dev set during evaluation: 10640/10633
00:35:59 - process[3] - dev - epoch 16 - mAP: 0.271 w/ 37 queries
00:35:59 - process[3]: training epoch 17 ...
00:36:08 - process[3] - epoch 17 - train iter 235 - 21642.6 words/s - loss: 0.4779
00:36:08 - process[3]: evaluating epoch 17 on dev ...
00:36:25 - dev set during evaluation: 10640/10633
00:36:25 - process[3] - dev - epoch 17 - mAP: 0.299 w/ 37 queries
00:36:25 - process[3]: evaluating epoch 17 on test ...
00:36:44 - process[3] - test - epoch 17 - mAP: 0.351 w/ 37 queries
00:36:44 - process[3]: training epoch 18 ...
00:36:53 - process[3] - epoch 18 - train iter 235 - 20735.7 words/s - loss: 0.4396
00:36:53 - process[3]: evaluating epoch 18 on dev ...
00:37:10 - dev set during evaluation: 10640/10633
00:37:10 - process[3] - dev - epoch 18 - mAP: 0.264 w/ 37 queries
00:37:10 - process[3]: training epoch 19 ...
00:37:19 - process[3] - epoch 19 - train iter 235 - 21913.9 words/s - loss: 0.4310
00:37:19 - process[3]: evaluating epoch 19 on dev ...
00:37:37 - dev set during evaluation: 10640/10633
00:37:37 - process[3] - dev - epoch 19 - mAP: 0.267 w/ 37 queries
00:37:37 - [fold 5] best test MAP: 0.351 @ epoch 17
00:37:37 - [0.40949067721447446, 0.2972975432949899, 0.37459359006412923, 0.3081584352728631, 0.3507709698681128]
00:37:37 - [37, 37, 37, 37, 37]
00:37:37 - final MAP: 0.348
00:00:07 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=3, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='de', target_lang='fr')
00:00:20 - Evaluating every 1 epochs ...
00:00:20 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:21 - test has 37 queries ...
00:00:21 - Data reading done ...
00:00:27 - adding 9-th encoder to optimizer...
00:00:27 - adding 10-th encoder to optimizer...
00:00:27 - adding 11-th encoder to optimizer...
00:00:28 - process[3]: training epoch 0 ...
00:00:37 - process[3] - epoch 0 - train iter 241 - 20365.0 words/s - loss: 0.6892
00:00:37 - process[3]: training epoch 1 ...
00:00:46 - process[3] - epoch 1 - train iter 241 - 21925.6 words/s - loss: 0.6743
00:00:46 - process[3]: training epoch 2 ...
00:00:55 - process[3] - epoch 2 - train iter 241 - 21217.0 words/s - loss: 0.6279
00:00:55 - process[3]: training epoch 3 ...
00:01:04 - process[3] - epoch 3 - train iter 241 - 22219.4 words/s - loss: 0.6406
00:01:04 - process[3]: training epoch 4 ...
00:01:13 - process[3] - epoch 4 - train iter 241 - 21853.5 words/s - loss: 0.6026
00:01:13 - process[3]: training epoch 5 ...
00:01:22 - process[3] - epoch 5 - train iter 241 - 22085.5 words/s - loss: 0.6073
00:01:22 - process[3]: training epoch 6 ...
00:01:31 - process[3] - epoch 6 - train iter 241 - 22886.0 words/s - loss: 0.5704
00:01:31 - process[3]: training epoch 7 ...
00:01:39 - process[3] - epoch 7 - train iter 241 - 22728.1 words/s - loss: 0.5668
00:01:39 - process[3]: training epoch 8 ...
00:01:48 - process[3] - epoch 8 - train iter 241 - 22189.9 words/s - loss: 0.4948
00:01:48 - process[3]: training epoch 9 ...
00:01:57 - process[3] - epoch 9 - train iter 241 - 22049.8 words/s - loss: 0.4927
00:01:57 - process[3]: training epoch 10 ...
00:02:06 - process[3] - epoch 10 - train iter 241 - 21842.2 words/s - loss: 0.5006
00:02:06 - process[3]: evaluating epoch 10 on dev ...
00:02:27 - process[3] - dev - epoch 10 - mAP: 0.337 w/ 37 queries
00:02:27 - process[3]: evaluating epoch 10 on test ...
00:02:46 - test set during evaluation: 11380/11372
00:02:46 - process[3] - test - epoch 10 - mAP: 0.330 w/ 37 queries
00:02:46 - process[3]: training epoch 11 ...
00:02:55 - process[3] - epoch 11 - train iter 241 - 22069.7 words/s - loss: 0.4993
00:02:55 - process[3]: evaluating epoch 11 on dev ...
00:03:14 - process[3] - dev - epoch 11 - mAP: 0.325 w/ 37 queries
00:03:14 - process[3]: training epoch 12 ...
00:03:22 - process[3] - epoch 12 - train iter 241 - 23041.9 words/s - loss: 0.4764
00:03:22 - process[3]: evaluating epoch 12 on dev ...
00:03:41 - process[3] - dev - epoch 12 - mAP: 0.346 w/ 37 queries
00:03:41 - process[3]: evaluating epoch 12 on test ...
00:04:00 - test set during evaluation: 11380/11372
00:04:00 - process[3] - test - epoch 12 - mAP: 0.342 w/ 37 queries
00:04:00 - process[3]: training epoch 13 ...
00:04:09 - process[3] - epoch 13 - train iter 241 - 21748.0 words/s - loss: 0.4551
00:04:09 - process[3]: evaluating epoch 13 on dev ...
00:04:27 - process[3] - dev - epoch 13 - mAP: 0.325 w/ 37 queries
00:04:27 - process[3]: training epoch 14 ...
00:04:36 - process[3] - epoch 14 - train iter 241 - 22042.4 words/s - loss: 0.5545
00:04:36 - process[3]: evaluating epoch 14 on dev ...
00:04:54 - process[3] - dev - epoch 14 - mAP: 0.350 w/ 37 queries
00:04:54 - process[3]: evaluating epoch 14 on test ...
00:05:13 - test set during evaluation: 11380/11372
00:05:13 - process[3] - test - epoch 14 - mAP: 0.324 w/ 37 queries
00:05:13 - process[3]: training epoch 15 ...
00:05:22 - process[3] - epoch 15 - train iter 241 - 21988.6 words/s - loss: 0.5224
00:05:22 - process[3]: evaluating epoch 15 on dev ...
00:05:40 - process[3] - dev - epoch 15 - mAP: 0.353 w/ 37 queries
00:05:40 - process[3]: evaluating epoch 15 on test ...
00:05:59 - test set during evaluation: 11380/11372
00:05:59 - process[3] - test - epoch 15 - mAP: 0.363 w/ 37 queries
00:05:59 - process[3]: training epoch 16 ...
00:06:08 - process[3] - epoch 16 - train iter 241 - 21042.6 words/s - loss: 0.4734
00:06:08 - process[3]: evaluating epoch 16 on dev ...
00:06:27 - process[3] - dev - epoch 16 - mAP: 0.357 w/ 37 queries
00:06:27 - process[3]: evaluating epoch 16 on test ...
00:06:45 - test set during evaluation: 11380/11372
00:06:45 - process[3] - test - epoch 16 - mAP: 0.409 w/ 37 queries
00:06:45 - process[3]: training epoch 17 ...
00:06:54 - process[3] - epoch 17 - train iter 241 - 22172.4 words/s - loss: 0.4565
00:06:54 - process[3]: evaluating epoch 17 on dev ...
00:07:12 - process[3] - dev - epoch 17 - mAP: 0.345 w/ 37 queries
00:07:12 - process[3]: training epoch 18 ...
00:07:21 - process[3] - epoch 18 - train iter 241 - 22264.6 words/s - loss: 0.4795
00:07:21 - process[3]: evaluating epoch 18 on dev ...
00:07:40 - process[3] - dev - epoch 18 - mAP: 0.357 w/ 37 queries
00:07:40 - process[3]: training epoch 19 ...
00:07:48 - process[3] - epoch 19 - train iter 241 - 23017.2 words/s - loss: 0.4615
00:07:48 - process[3]: evaluating epoch 19 on dev ...
00:08:07 - process[3] - dev - epoch 19 - mAP: 0.334 w/ 37 queries
00:08:07 - [fold 1] best test MAP: 0.409 @ epoch 16
00:08:07 - Evaluating every 1 epochs ...
00:08:07 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:08:07 - test has 37 queries ...
00:08:07 - Data reading done ...
00:08:09 - adding 9-th encoder to optimizer...
00:08:09 - adding 10-th encoder to optimizer...
00:08:09 - adding 11-th encoder to optimizer...
00:08:09 - process[3]: training epoch 0 ...
00:08:19 - process[3] - epoch 0 - train iter 276 - 22042.7 words/s - loss: 0.6907
00:08:19 - process[3]: training epoch 1 ...
00:08:31 - process[3] - epoch 1 - train iter 276 - 19665.2 words/s - loss: 0.6797
00:08:31 - process[3]: training epoch 2 ...
00:08:42 - process[3] - epoch 2 - train iter 276 - 21042.1 words/s - loss: 0.6717
00:08:42 - process[3]: training epoch 3 ...
00:08:52 - process[3] - epoch 3 - train iter 276 - 21339.1 words/s - loss: 0.6576
00:08:52 - process[3]: training epoch 4 ...
00:09:03 - process[3] - epoch 4 - train iter 276 - 21301.9 words/s - loss: 0.6337
00:09:03 - process[3]: training epoch 5 ...
00:09:14 - process[3] - epoch 5 - train iter 276 - 20786.6 words/s - loss: 0.6075
00:09:14 - process[3]: training epoch 6 ...
00:09:25 - process[3] - epoch 6 - train iter 276 - 21076.6 words/s - loss: 0.5979
00:09:25 - process[3]: training epoch 7 ...
00:09:35 - process[3] - epoch 7 - train iter 276 - 22472.6 words/s - loss: 0.5362
00:09:35 - process[3]: training epoch 8 ...
00:09:45 - process[3] - epoch 8 - train iter 276 - 22320.3 words/s - loss: 0.5334
00:09:45 - process[3]: training epoch 9 ...
00:09:56 - process[3] - epoch 9 - train iter 276 - 21551.6 words/s - loss: 0.5317
00:09:56 - process[3]: training epoch 10 ...
00:10:07 - process[3] - epoch 10 - train iter 276 - 21319.5 words/s - loss: 0.5105
00:10:07 - process[3]: evaluating epoch 10 on dev ...
00:10:29 - dev set during evaluation: 11380/11372
00:10:29 - process[3] - dev - epoch 10 - mAP: 0.275 w/ 37 queries
00:10:29 - process[3]: evaluating epoch 10 on test ...
00:10:46 - process[3] - test - epoch 10 - mAP: 0.274 w/ 37 queries
00:10:46 - process[3]: training epoch 11 ...
00:10:57 - process[3] - epoch 11 - train iter 276 - 20706.9 words/s - loss: 0.5110
00:10:57 - process[3]: evaluating epoch 11 on dev ...
00:11:16 - dev set during evaluation: 11380/11372
00:11:16 - process[3] - dev - epoch 11 - mAP: 0.269 w/ 37 queries
00:11:16 - process[3]: training epoch 12 ...
00:11:27 - process[3] - epoch 12 - train iter 276 - 20354.1 words/s - loss: 0.4957
00:11:27 - process[3]: evaluating epoch 12 on dev ...
00:11:45 - dev set during evaluation: 11380/11372
00:11:45 - process[3] - dev - epoch 12 - mAP: 0.299 w/ 37 queries
00:11:45 - process[3]: evaluating epoch 12 on test ...
00:12:02 - process[3] - test - epoch 12 - mAP: 0.294 w/ 37 queries
00:12:02 - process[3]: training epoch 13 ...
00:12:13 - process[3] - epoch 13 - train iter 276 - 20696.1 words/s - loss: 0.5327
00:12:13 - process[3]: evaluating epoch 13 on dev ...
00:12:32 - dev set during evaluation: 11380/11372
00:12:32 - process[3] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:12:32 - process[3]: training epoch 14 ...
00:12:43 - process[3] - epoch 14 - train iter 276 - 20626.9 words/s - loss: 0.4601
00:12:43 - process[3]: evaluating epoch 14 on dev ...
00:13:01 - dev set during evaluation: 11380/11372
00:13:01 - process[3] - dev - epoch 14 - mAP: 0.287 w/ 37 queries
00:13:01 - process[3]: training epoch 15 ...
00:13:12 - process[3] - epoch 15 - train iter 276 - 20300.5 words/s - loss: 0.4745
00:13:12 - process[3]: evaluating epoch 15 on dev ...
00:13:30 - dev set during evaluation: 11380/11372
00:13:30 - process[3] - dev - epoch 15 - mAP: 0.284 w/ 37 queries
00:13:30 - process[3]: training epoch 16 ...
00:13:40 - process[3] - epoch 16 - train iter 276 - 22345.3 words/s - loss: 0.4715
00:13:40 - process[3]: evaluating epoch 16 on dev ...
00:13:59 - dev set during evaluation: 11380/11372
00:13:59 - process[3] - dev - epoch 16 - mAP: 0.261 w/ 37 queries
00:13:59 - process[3]: training epoch 17 ...
00:14:09 - process[3] - epoch 17 - train iter 276 - 21781.1 words/s - loss: 0.5308
00:14:09 - process[3]: evaluating epoch 17 on dev ...
00:14:29 - dev set during evaluation: 11380/11372
00:14:29 - process[3] - dev - epoch 17 - mAP: 0.291 w/ 37 queries
00:14:29 - process[3]: training epoch 18 ...
00:14:40 - process[3] - epoch 18 - train iter 276 - 20541.6 words/s - loss: 0.4908
00:14:40 - process[3]: evaluating epoch 18 on dev ...
00:14:58 - dev set during evaluation: 11380/11372
00:14:58 - process[3] - dev - epoch 18 - mAP: 0.301 w/ 37 queries
00:14:58 - process[3]: evaluating epoch 18 on test ...
00:15:15 - process[3] - test - epoch 18 - mAP: 0.297 w/ 37 queries
00:15:15 - process[3]: training epoch 19 ...
00:15:26 - process[3] - epoch 19 - train iter 276 - 20627.5 words/s - loss: 0.5201
00:15:26 - process[3]: evaluating epoch 19 on dev ...
00:15:45 - dev set during evaluation: 11380/11372
00:15:45 - process[3] - dev - epoch 19 - mAP: 0.283 w/ 37 queries
00:15:45 - [fold 2] best test MAP: 0.297 @ epoch 18
00:15:45 - Evaluating every 1 epochs ...
00:15:45 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:15:46 - test has 37 queries ...
00:15:46 - Data reading done ...
00:15:47 - adding 9-th encoder to optimizer...
00:15:47 - adding 10-th encoder to optimizer...
00:15:47 - adding 11-th encoder to optimizer...
00:15:48 - process[3]: training epoch 0 ...
00:15:57 - process[3] - epoch 0 - train iter 240 - 21016.9 words/s - loss: 0.6921
00:15:57 - process[3]: training epoch 1 ...
00:16:06 - process[3] - epoch 1 - train iter 240 - 21281.6 words/s - loss: 0.6844
00:16:06 - process[3]: training epoch 2 ...
00:16:15 - process[3] - epoch 2 - train iter 240 - 21060.8 words/s - loss: 0.6821
00:16:15 - process[3]: training epoch 3 ...
00:16:24 - process[3] - epoch 3 - train iter 240 - 21787.3 words/s - loss: 0.6747
00:16:24 - process[3]: training epoch 4 ...
00:16:33 - process[3] - epoch 4 - train iter 240 - 20983.1 words/s - loss: 0.6438
00:16:33 - process[3]: training epoch 5 ...
00:16:42 - process[3] - epoch 5 - train iter 240 - 21767.8 words/s - loss: 0.5832
00:16:42 - process[3]: training epoch 6 ...
00:16:51 - process[3] - epoch 6 - train iter 240 - 20938.3 words/s - loss: 0.5906
00:16:51 - process[3]: training epoch 7 ...
00:17:00 - process[3] - epoch 7 - train iter 240 - 21129.7 words/s - loss: 0.5615
00:17:00 - process[3]: training epoch 8 ...
00:17:09 - process[3] - epoch 8 - train iter 240 - 21311.5 words/s - loss: 0.5850
00:17:09 - process[3]: training epoch 9 ...
00:17:18 - process[3] - epoch 9 - train iter 240 - 22549.3 words/s - loss: 0.5771
00:17:18 - process[3]: training epoch 10 ...
00:17:27 - process[3] - epoch 10 - train iter 240 - 21483.1 words/s - loss: 0.5428
00:17:27 - process[3]: evaluating epoch 10 on dev ...
00:17:46 - process[3] - dev - epoch 10 - mAP: 0.307 w/ 37 queries
00:17:46 - process[3]: evaluating epoch 10 on test ...
00:18:05 - test set during evaluation: 11210/11201
00:18:05 - process[3] - test - epoch 10 - mAP: 0.354 w/ 37 queries
00:18:05 - process[3]: training epoch 11 ...
00:18:15 - process[3] - epoch 11 - train iter 240 - 20483.3 words/s - loss: 0.5391
00:18:15 - process[3]: evaluating epoch 11 on dev ...
00:18:32 - process[3] - dev - epoch 11 - mAP: 0.302 w/ 37 queries
00:18:32 - process[3]: training epoch 12 ...
00:18:41 - process[3] - epoch 12 - train iter 240 - 21772.4 words/s - loss: 0.5080
00:18:41 - process[3]: evaluating epoch 12 on dev ...
00:18:58 - process[3] - dev - epoch 12 - mAP: 0.281 w/ 37 queries
00:18:58 - process[3]: training epoch 13 ...
00:19:07 - process[3] - epoch 13 - train iter 240 - 20477.2 words/s - loss: 0.4970
00:19:07 - process[3]: evaluating epoch 13 on dev ...
00:19:24 - process[3] - dev - epoch 13 - mAP: 0.304 w/ 37 queries
00:19:24 - process[3]: training epoch 14 ...
00:19:34 - process[3] - epoch 14 - train iter 240 - 20751.5 words/s - loss: 0.5125
00:19:34 - process[3]: evaluating epoch 14 on dev ...
00:19:51 - process[3] - dev - epoch 14 - mAP: 0.327 w/ 37 queries
00:19:51 - process[3]: evaluating epoch 14 on test ...
00:20:15 - test set during evaluation: 11210/11201
00:20:15 - process[3] - test - epoch 14 - mAP: 0.337 w/ 37 queries
00:20:15 - process[3]: training epoch 15 ...
00:20:24 - process[3] - epoch 15 - train iter 240 - 20900.0 words/s - loss: 0.4494
00:20:24 - process[3]: evaluating epoch 15 on dev ...
00:20:47 - process[3] - dev - epoch 15 - mAP: 0.326 w/ 37 queries
00:20:47 - process[3]: training epoch 16 ...
00:20:56 - process[3] - epoch 16 - train iter 240 - 22182.6 words/s - loss: 0.4979
00:20:56 - process[3]: evaluating epoch 16 on dev ...
00:21:13 - process[3] - dev - epoch 16 - mAP: 0.334 w/ 37 queries
00:21:13 - process[3]: evaluating epoch 16 on test ...
00:21:32 - test set during evaluation: 11210/11201
00:21:32 - process[3] - test - epoch 16 - mAP: 0.363 w/ 37 queries
00:21:32 - process[3]: training epoch 17 ...
00:21:41 - process[3] - epoch 17 - train iter 240 - 22189.0 words/s - loss: 0.4948
00:21:41 - process[3]: evaluating epoch 17 on dev ...
00:21:58 - process[3] - dev - epoch 17 - mAP: 0.340 w/ 37 queries
00:21:58 - process[3]: evaluating epoch 17 on test ...
00:22:17 - test set during evaluation: 11210/11201
00:22:17 - process[3] - test - epoch 17 - mAP: 0.347 w/ 37 queries
00:22:17 - process[3]: training epoch 18 ...
00:22:27 - process[3] - epoch 18 - train iter 240 - 20793.6 words/s - loss: 0.4690
00:22:27 - process[3]: evaluating epoch 18 on dev ...
00:22:44 - process[3] - dev - epoch 18 - mAP: 0.337 w/ 37 queries
00:22:44 - process[3]: training epoch 19 ...
00:22:53 - process[3] - epoch 19 - train iter 240 - 20956.7 words/s - loss: 0.4336
00:22:53 - process[3]: evaluating epoch 19 on dev ...
00:23:10 - process[3] - dev - epoch 19 - mAP: 0.353 w/ 37 queries
00:23:10 - process[3]: evaluating epoch 19 on test ...
00:23:29 - test set during evaluation: 11210/11201
00:23:29 - process[3] - test - epoch 19 - mAP: 0.375 w/ 37 queries
00:23:29 - [fold 3] best test MAP: 0.375 @ epoch 19
00:23:29 - Evaluating every 1 epochs ...
00:23:29 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:23:30 - test has 37 queries ...
00:23:30 - Data reading done ...
00:23:31 - adding 9-th encoder to optimizer...
00:23:31 - adding 10-th encoder to optimizer...
00:23:31 - adding 11-th encoder to optimizer...
00:23:32 - process[3]: training epoch 0 ...
00:23:40 - process[3] - epoch 0 - train iter 231 - 22270.5 words/s - loss: 0.6916
00:23:40 - process[3]: training epoch 1 ...
00:23:48 - process[3] - epoch 1 - train iter 231 - 22444.1 words/s - loss: 0.6844
00:23:48 - process[3]: training epoch 2 ...
00:23:57 - process[3] - epoch 2 - train iter 231 - 21486.9 words/s - loss: 0.6419
00:23:57 - process[3]: training epoch 3 ...
00:24:05 - process[3] - epoch 3 - train iter 231 - 21893.3 words/s - loss: 0.6211
00:24:05 - process[3]: training epoch 4 ...
00:24:13 - process[3] - epoch 4 - train iter 231 - 21742.0 words/s - loss: 0.5958
00:24:13 - process[3]: training epoch 5 ...
00:24:22 - process[3] - epoch 5 - train iter 231 - 22487.5 words/s - loss: 0.5915
00:24:22 - process[3]: training epoch 6 ...
00:24:30 - process[3] - epoch 6 - train iter 231 - 21257.0 words/s - loss: 0.5511
00:24:30 - process[3]: training epoch 7 ...
00:24:39 - process[3] - epoch 7 - train iter 231 - 20423.0 words/s - loss: 0.5446
00:24:39 - process[3]: training epoch 8 ...
00:24:49 - process[3] - epoch 8 - train iter 231 - 20226.5 words/s - loss: 0.5423
00:24:49 - process[3]: training epoch 9 ...
00:24:57 - process[3] - epoch 9 - train iter 231 - 22345.8 words/s - loss: 0.5432
00:24:57 - process[3]: training epoch 10 ...
00:25:06 - process[3] - epoch 10 - train iter 231 - 21297.3 words/s - loss: 0.5681
00:25:06 - process[3]: evaluating epoch 10 on dev ...
00:25:27 - dev set during evaluation: 11210/11201
00:25:27 - process[3] - dev - epoch 10 - mAP: 0.326 w/ 37 queries
00:25:28 - process[3]: evaluating epoch 10 on test ...
00:25:45 - test set during evaluation: 10640/10633
00:25:45 - process[3] - test - epoch 10 - mAP: 0.265 w/ 37 queries
00:25:45 - process[3]: training epoch 11 ...
00:25:54 - process[3] - epoch 11 - train iter 231 - 21673.1 words/s - loss: 0.4730
00:25:54 - process[3]: evaluating epoch 11 on dev ...
00:26:13 - dev set during evaluation: 11210/11201
00:26:13 - process[3] - dev - epoch 11 - mAP: 0.361 w/ 37 queries
00:26:13 - process[3]: evaluating epoch 11 on test ...
00:26:31 - test set during evaluation: 10640/10633
00:26:31 - process[3] - test - epoch 11 - mAP: 0.280 w/ 37 queries
00:26:31 - process[3]: training epoch 12 ...
00:26:40 - process[3] - epoch 12 - train iter 231 - 22031.9 words/s - loss: 0.4810
00:26:40 - process[3]: evaluating epoch 12 on dev ...
00:26:59 - dev set during evaluation: 11210/11201
00:26:59 - process[3] - dev - epoch 12 - mAP: 0.404 w/ 37 queries
00:26:59 - process[3]: evaluating epoch 12 on test ...
00:27:17 - test set during evaluation: 10640/10633
00:27:17 - process[3] - test - epoch 12 - mAP: 0.297 w/ 37 queries
00:27:17 - process[3]: training epoch 13 ...
00:27:25 - process[3] - epoch 13 - train iter 231 - 22924.8 words/s - loss: 0.4953
00:27:25 - process[3]: evaluating epoch 13 on dev ...
00:27:46 - dev set during evaluation: 11210/11201
00:27:46 - process[3] - dev - epoch 13 - mAP: 0.357 w/ 37 queries
00:27:46 - process[3]: training epoch 14 ...
00:27:54 - process[3] - epoch 14 - train iter 231 - 21607.9 words/s - loss: 0.5229
00:27:54 - process[3]: evaluating epoch 14 on dev ...
00:28:14 - dev set during evaluation: 11210/11201
00:28:14 - process[3] - dev - epoch 14 - mAP: 0.392 w/ 37 queries
00:28:14 - process[3]: training epoch 15 ...
00:28:23 - process[3] - epoch 15 - train iter 231 - 21460.4 words/s - loss: 0.4894
00:28:23 - process[3]: evaluating epoch 15 on dev ...
00:28:57 - dev set during evaluation: 11210/11201
00:28:57 - process[3] - dev - epoch 15 - mAP: 0.366 w/ 37 queries
00:28:57 - process[3]: training epoch 16 ...
00:29:06 - process[3] - epoch 16 - train iter 231 - 21286.6 words/s - loss: 0.4744
00:29:06 - process[3]: evaluating epoch 16 on dev ...
00:29:25 - dev set during evaluation: 11210/11201
00:29:25 - process[3] - dev - epoch 16 - mAP: 0.355 w/ 37 queries
00:29:25 - process[3]: training epoch 17 ...
00:29:34 - process[3] - epoch 17 - train iter 231 - 21352.3 words/s - loss: 0.4696
00:29:34 - process[3]: evaluating epoch 17 on dev ...
00:29:53 - dev set during evaluation: 11210/11201
00:29:53 - process[3] - dev - epoch 17 - mAP: 0.381 w/ 37 queries
00:29:53 - process[3]: training epoch 18 ...
00:30:02 - process[3] - epoch 18 - train iter 231 - 21552.3 words/s - loss: 0.4670
00:30:02 - process[3]: evaluating epoch 18 on dev ...
00:30:23 - dev set during evaluation: 11210/11201
00:30:23 - process[3] - dev - epoch 18 - mAP: 0.408 w/ 37 queries
00:30:23 - process[3]: evaluating epoch 18 on test ...
00:30:41 - test set during evaluation: 10640/10633
00:30:41 - process[3] - test - epoch 18 - mAP: 0.308 w/ 37 queries
00:30:41 - process[3]: training epoch 19 ...
00:30:49 - process[3] - epoch 19 - train iter 231 - 23048.7 words/s - loss: 0.4340
00:30:49 - process[3]: evaluating epoch 19 on dev ...
00:31:22 - dev set during evaluation: 11210/11201
00:31:22 - process[3] - dev - epoch 19 - mAP: 0.393 w/ 37 queries
00:31:22 - [fold 4] best test MAP: 0.308 @ epoch 18
00:31:22 - Evaluating every 1 epochs ...
00:31:22 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:31:22 - test has 37 queries ...
00:31:22 - Data reading done ...
00:31:24 - adding 9-th encoder to optimizer...
00:31:24 - adding 10-th encoder to optimizer...
00:31:24 - adding 11-th encoder to optimizer...
00:31:24 - process[3]: training epoch 0 ...
00:31:33 - process[3] - epoch 0 - train iter 235 - 20829.7 words/s - loss: 0.6874
00:31:33 - process[3]: training epoch 1 ...
00:31:42 - process[3] - epoch 1 - train iter 235 - 21006.3 words/s - loss: 0.6847
00:31:42 - process[3]: training epoch 2 ...
00:31:51 - process[3] - epoch 2 - train iter 235 - 21509.6 words/s - loss: 0.6622
00:31:51 - process[3]: training epoch 3 ...
00:32:01 - process[3] - epoch 3 - train iter 235 - 19889.6 words/s - loss: 0.6659
00:32:01 - process[3]: training epoch 4 ...
00:32:10 - process[3] - epoch 4 - train iter 235 - 21969.2 words/s - loss: 0.6394
00:32:10 - process[3]: training epoch 5 ...
00:32:19 - process[3] - epoch 5 - train iter 235 - 22486.9 words/s - loss: 0.6326
00:32:19 - process[3]: training epoch 6 ...
00:32:28 - process[3] - epoch 6 - train iter 235 - 20552.8 words/s - loss: 0.5921
00:32:28 - process[3]: training epoch 7 ...
00:32:38 - process[3] - epoch 7 - train iter 235 - 20147.9 words/s - loss: 0.5922
00:32:38 - process[3]: training epoch 8 ...
00:32:46 - process[3] - epoch 8 - train iter 235 - 22801.0 words/s - loss: 0.5577
00:32:46 - process[3]: training epoch 9 ...
00:32:55 - process[3] - epoch 9 - train iter 235 - 20361.8 words/s - loss: 0.5468
00:32:55 - process[3]: training epoch 10 ...
00:33:05 - process[3] - epoch 10 - train iter 235 - 20921.1 words/s - loss: 0.5372
00:33:05 - process[3]: evaluating epoch 10 on dev ...
00:33:22 - dev set during evaluation: 10640/10633
00:33:22 - process[3] - dev - epoch 10 - mAP: 0.277 w/ 37 queries
00:33:22 - process[3]: evaluating epoch 10 on test ...
00:33:40 - process[3] - test - epoch 10 - mAP: 0.322 w/ 37 queries
00:33:40 - process[3]: training epoch 11 ...
00:33:49 - process[3] - epoch 11 - train iter 235 - 21388.9 words/s - loss: 0.5469
00:33:49 - process[3]: evaluating epoch 11 on dev ...
00:34:08 - dev set during evaluation: 10640/10633
00:34:08 - process[3] - dev - epoch 11 - mAP: 0.259 w/ 37 queries
00:34:08 - process[3]: training epoch 12 ...
00:34:17 - process[3] - epoch 12 - train iter 235 - 21236.5 words/s - loss: 0.5086
00:34:17 - process[3]: evaluating epoch 12 on dev ...
00:34:34 - dev set during evaluation: 10640/10633
00:34:34 - process[3] - dev - epoch 12 - mAP: 0.264 w/ 37 queries
00:34:34 - process[3]: training epoch 13 ...
00:34:43 - process[3] - epoch 13 - train iter 235 - 21714.4 words/s - loss: 0.5208
00:34:43 - process[3]: evaluating epoch 13 on dev ...
00:35:01 - dev set during evaluation: 10640/10633
00:35:01 - process[3] - dev - epoch 13 - mAP: 0.269 w/ 37 queries
00:35:01 - process[3]: training epoch 14 ...
00:35:10 - process[3] - epoch 14 - train iter 235 - 21992.9 words/s - loss: 0.5373
00:35:10 - process[3]: evaluating epoch 14 on dev ...
00:35:28 - dev set during evaluation: 10640/10633
00:35:28 - process[3] - dev - epoch 14 - mAP: 0.268 w/ 37 queries
00:35:28 - process[3]: training epoch 15 ...
00:35:36 - process[3] - epoch 15 - train iter 235 - 22242.1 words/s - loss: 0.5050
00:35:36 - process[3]: evaluating epoch 15 on dev ...
00:35:54 - dev set during evaluation: 10640/10633
00:35:54 - process[3] - dev - epoch 15 - mAP: 0.274 w/ 37 queries
00:35:54 - process[3]: training epoch 16 ...
00:36:03 - process[3] - epoch 16 - train iter 235 - 21333.2 words/s - loss: 0.5051
00:36:03 - process[3]: evaluating epoch 16 on dev ...
00:36:21 - dev set during evaluation: 10640/10633
00:36:21 - process[3] - dev - epoch 16 - mAP: 0.271 w/ 37 queries
00:36:21 - process[3]: training epoch 17 ...
00:36:29 - process[3] - epoch 17 - train iter 235 - 21974.9 words/s - loss: 0.4779
00:36:29 - process[3]: evaluating epoch 17 on dev ...
00:36:47 - dev set during evaluation: 10640/10633
00:36:47 - process[3] - dev - epoch 17 - mAP: 0.299 w/ 37 queries
00:36:47 - process[3]: evaluating epoch 17 on test ...
00:37:06 - process[3] - test - epoch 17 - mAP: 0.351 w/ 37 queries
00:37:06 - process[3]: training epoch 18 ...
00:37:15 - process[3] - epoch 18 - train iter 235 - 21003.7 words/s - loss: 0.4396
00:37:15 - process[3]: evaluating epoch 18 on dev ...
00:37:32 - dev set during evaluation: 10640/10633
00:37:32 - process[3] - dev - epoch 18 - mAP: 0.264 w/ 37 queries
00:37:32 - process[3]: training epoch 19 ...
00:37:41 - process[3] - epoch 19 - train iter 235 - 22324.4 words/s - loss: 0.4310
00:37:41 - process[3]: evaluating epoch 19 on dev ...
00:37:59 - dev set during evaluation: 10640/10633
00:37:59 - process[3] - dev - epoch 19 - mAP: 0.267 w/ 37 queries
00:37:59 - [fold 5] best test MAP: 0.351 @ epoch 17
00:37:59 - [0.40949067721447446, 0.2972975432949899, 0.37459359006412923, 0.3081584352728631, 0.3507709698681128]
00:37:59 - [37, 37, 37, 37, 37]
00:37:59 - final MAP: 0.348
