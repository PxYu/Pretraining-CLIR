00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=4, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:21 - Evaluating every 1 epochs ...
00:00:21 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:21 - test has 35 queries ...
00:00:21 - Data reading done ...
00:00:28 - adding 9-th encoder to optimizer...
00:00:28 - adding 10-th encoder to optimizer...
00:00:28 - adding 11-th encoder to optimizer...
00:00:29 - process[4]: training epoch 0 ...
00:00:40 - process[4] - epoch 0 - train iter 197 - 15215.0 words/s - loss: 0.6767
00:00:40 - process[4]: training epoch 1 ...
00:00:51 - process[4] - epoch 1 - train iter 197 - 16794.3 words/s - loss: 0.5776
00:00:51 - process[4]: training epoch 2 ...
00:01:02 - process[4] - epoch 2 - train iter 197 - 15733.0 words/s - loss: 0.5258
00:01:02 - process[4]: training epoch 3 ...
00:01:13 - process[4] - epoch 3 - train iter 197 - 16035.4 words/s - loss: 0.5236
00:01:13 - process[4]: training epoch 4 ...
00:01:24 - process[4] - epoch 4 - train iter 197 - 17288.2 words/s - loss: 0.4796
00:01:24 - process[4]: training epoch 5 ...
00:01:36 - process[4] - epoch 5 - train iter 197 - 15147.5 words/s - loss: 0.4465
00:01:36 - process[4]: training epoch 6 ...
00:01:47 - process[4] - epoch 6 - train iter 197 - 16408.7 words/s - loss: 0.4197
00:01:47 - process[4]: training epoch 7 ...
00:01:58 - process[4] - epoch 7 - train iter 197 - 15438.4 words/s - loss: 0.4649
00:01:58 - process[4]: training epoch 8 ...
00:02:09 - process[4] - epoch 8 - train iter 197 - 16826.1 words/s - loss: 0.4730
00:02:09 - process[4]: training epoch 9 ...
00:02:20 - process[4] - epoch 9 - train iter 197 - 15794.2 words/s - loss: 0.4815
00:02:20 - process[4]: training epoch 10 ...
00:02:31 - process[4] - epoch 10 - train iter 197 - 17128.3 words/s - loss: 0.4495
00:02:31 - process[4]: evaluating epoch 10 on dev ...
00:03:18 - dev set during evaluation: 14160/14157
00:03:18 - process[4] - dev - epoch 10 - mAP: 0.448 w/ 35 queries
00:03:18 - process[4]: evaluating epoch 10 on test ...
00:03:59 - test set during evaluation: 14980/14975
00:03:59 - process[4] - test - epoch 10 - mAP: 0.443 w/ 35 queries
00:03:59 - process[4]: training epoch 11 ...
00:04:09 - process[4] - epoch 11 - train iter 197 - 18108.2 words/s - loss: 0.4258
00:04:09 - process[4]: evaluating epoch 11 on dev ...
00:04:56 - dev set during evaluation: 14160/14157
00:04:56 - process[4] - dev - epoch 11 - mAP: 0.456 w/ 35 queries
00:04:56 - process[4]: evaluating epoch 11 on test ...
00:05:37 - test set during evaluation: 14980/14975
00:05:37 - process[4] - test - epoch 11 - mAP: 0.461 w/ 35 queries
00:05:37 - process[4]: training epoch 12 ...
00:05:49 - process[4] - epoch 12 - train iter 197 - 15243.8 words/s - loss: 0.4500
00:05:49 - process[4]: evaluating epoch 12 on dev ...
00:06:32 - dev set during evaluation: 14160/14157
00:06:32 - process[4] - dev - epoch 12 - mAP: 0.438 w/ 35 queries
00:06:32 - process[4]: training epoch 13 ...
00:06:44 - process[4] - epoch 13 - train iter 197 - 14221.1 words/s - loss: 0.4439
00:06:44 - process[4]: evaluating epoch 13 on dev ...
00:07:28 - dev set during evaluation: 14160/14157
00:07:28 - process[4] - dev - epoch 13 - mAP: 0.444 w/ 35 queries
00:07:28 - process[4]: training epoch 14 ...
00:07:39 - process[4] - epoch 14 - train iter 197 - 15839.1 words/s - loss: 0.3570
00:07:39 - process[4]: evaluating epoch 14 on dev ...
00:08:24 - dev set during evaluation: 14160/14157
00:08:24 - process[4] - dev - epoch 14 - mAP: 0.448 w/ 35 queries
00:08:24 - process[4]: training epoch 15 ...
00:08:36 - process[4] - epoch 15 - train iter 197 - 14889.8 words/s - loss: 0.4292
00:08:36 - process[4]: evaluating epoch 15 on dev ...
00:09:19 - dev set during evaluation: 14160/14157
00:09:19 - process[4] - dev - epoch 15 - mAP: 0.425 w/ 35 queries
00:09:19 - process[4]: training epoch 16 ...
00:09:31 - process[4] - epoch 16 - train iter 197 - 14946.2 words/s - loss: 0.3781
00:09:31 - process[4]: evaluating epoch 16 on dev ...
00:10:14 - dev set during evaluation: 14160/14157
00:10:14 - process[4] - dev - epoch 16 - mAP: 0.474 w/ 35 queries
00:10:14 - process[4]: evaluating epoch 16 on test ...
00:10:55 - test set during evaluation: 14980/14975
00:10:55 - process[4] - test - epoch 16 - mAP: 0.465 w/ 35 queries
00:10:55 - process[4]: training epoch 17 ...
00:11:08 - process[4] - epoch 17 - train iter 197 - 14501.1 words/s - loss: 0.3919
00:11:08 - process[4]: evaluating epoch 17 on dev ...
00:11:51 - dev set during evaluation: 14160/14157
00:11:51 - process[4] - dev - epoch 17 - mAP: 0.418 w/ 35 queries
00:11:51 - process[4]: training epoch 18 ...
00:12:02 - process[4] - epoch 18 - train iter 197 - 15743.9 words/s - loss: 0.3880
00:12:02 - process[4]: evaluating epoch 18 on dev ...
00:12:46 - dev set during evaluation: 14160/14157
00:12:46 - process[4] - dev - epoch 18 - mAP: 0.450 w/ 35 queries
00:12:46 - process[4]: training epoch 19 ...
00:12:58 - process[4] - epoch 19 - train iter 197 - 15135.8 words/s - loss: 0.3801
00:12:58 - process[4]: evaluating epoch 19 on dev ...
00:13:42 - dev set during evaluation: 14160/14157
00:13:42 - process[4] - dev - epoch 19 - mAP: 0.462 w/ 35 queries
00:13:42 - [fold 1] best test MAP: 0.465 @ epoch 16
00:13:42 - Evaluating every 1 epochs ...
00:13:42 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:13:43 - test has 36 queries ...
00:13:43 - Data reading done ...
00:13:44 - adding 9-th encoder to optimizer...
00:13:44 - adding 10-th encoder to optimizer...
00:13:44 - adding 11-th encoder to optimizer...
00:13:45 - process[4]: training epoch 0 ...
00:13:55 - process[4] - epoch 0 - train iter 187 - 17125.0 words/s - loss: 0.6837
00:13:55 - process[4]: training epoch 1 ...
00:14:06 - process[4] - epoch 1 - train iter 187 - 15205.1 words/s - loss: 0.5712
00:14:06 - process[4]: training epoch 2 ...
00:14:16 - process[4] - epoch 2 - train iter 187 - 16792.0 words/s - loss: 0.5381
00:14:16 - process[4]: training epoch 3 ...
00:14:25 - process[4] - epoch 3 - train iter 187 - 19603.9 words/s - loss: 0.5520
00:14:25 - process[4]: training epoch 4 ...
00:14:34 - process[4] - epoch 4 - train iter 187 - 17228.1 words/s - loss: 0.5011
00:14:34 - process[4]: training epoch 5 ...
00:14:45 - process[4] - epoch 5 - train iter 187 - 16731.1 words/s - loss: 0.4862
00:14:45 - process[4]: training epoch 6 ...
00:14:54 - process[4] - epoch 6 - train iter 187 - 17731.5 words/s - loss: 0.5022
00:14:54 - process[4]: training epoch 7 ...
00:15:05 - process[4] - epoch 7 - train iter 187 - 15436.9 words/s - loss: 0.4822
00:15:05 - process[4]: training epoch 8 ...
00:15:16 - process[4] - epoch 8 - train iter 187 - 16393.0 words/s - loss: 0.4849
00:15:16 - process[4]: training epoch 9 ...
00:15:26 - process[4] - epoch 9 - train iter 187 - 16009.3 words/s - loss: 0.4242
00:15:26 - process[4]: training epoch 10 ...
00:15:36 - process[4] - epoch 10 - train iter 187 - 17235.3 words/s - loss: 0.4200
00:15:36 - process[4]: evaluating epoch 10 on dev ...
00:16:18 - dev set during evaluation: 14980/14975
00:16:18 - process[4] - dev - epoch 10 - mAP: 0.433 w/ 35 queries
00:16:18 - process[4]: evaluating epoch 10 on test ...
00:17:01 - test set during evaluation: 15300/15294
00:17:01 - process[4] - test - epoch 10 - mAP: 0.474 w/ 36 queries
00:17:01 - process[4]: training epoch 11 ...
00:17:11 - process[4] - epoch 11 - train iter 187 - 16562.3 words/s - loss: 0.4394
00:17:11 - process[4]: evaluating epoch 11 on dev ...
00:17:52 - dev set during evaluation: 14980/14975
00:17:52 - process[4] - dev - epoch 11 - mAP: 0.408 w/ 35 queries
00:17:52 - process[4]: training epoch 12 ...
00:18:01 - process[4] - epoch 12 - train iter 187 - 17691.6 words/s - loss: 0.3576
00:18:01 - process[4]: evaluating epoch 12 on dev ...
00:18:43 - dev set during evaluation: 14980/14975
00:18:43 - process[4] - dev - epoch 12 - mAP: 0.412 w/ 35 queries
00:18:43 - process[4]: training epoch 13 ...
00:18:53 - process[4] - epoch 13 - train iter 187 - 17274.4 words/s - loss: 0.4124
00:18:53 - process[4]: evaluating epoch 13 on dev ...
00:19:35 - dev set during evaluation: 14980/14975
00:19:35 - process[4] - dev - epoch 13 - mAP: 0.416 w/ 35 queries
00:19:35 - process[4]: training epoch 14 ...
00:19:43 - process[4] - epoch 14 - train iter 187 - 19059.1 words/s - loss: 0.4197
00:19:43 - process[4]: evaluating epoch 14 on dev ...
00:20:26 - dev set during evaluation: 14980/14975
00:20:26 - process[4] - dev - epoch 14 - mAP: 0.397 w/ 35 queries
00:20:26 - process[4]: training epoch 15 ...
00:20:36 - process[4] - epoch 15 - train iter 187 - 16209.4 words/s - loss: 0.3701
00:20:36 - process[4]: evaluating epoch 15 on dev ...
00:21:17 - dev set during evaluation: 14980/14975
00:21:17 - process[4] - dev - epoch 15 - mAP: 0.424 w/ 35 queries
00:21:17 - process[4]: training epoch 16 ...
00:21:26 - process[4] - epoch 16 - train iter 187 - 18063.5 words/s - loss: 0.3808
00:21:26 - process[4]: evaluating epoch 16 on dev ...
00:22:07 - dev set during evaluation: 14980/14975
00:22:07 - process[4] - dev - epoch 16 - mAP: 0.385 w/ 35 queries
00:22:07 - process[4]: training epoch 17 ...
00:22:16 - process[4] - epoch 17 - train iter 187 - 18543.0 words/s - loss: 0.4493
00:22:16 - process[4]: evaluating epoch 17 on dev ...
00:22:58 - dev set during evaluation: 14980/14975
00:22:58 - process[4] - dev - epoch 17 - mAP: 0.447 w/ 35 queries
00:22:58 - process[4]: evaluating epoch 17 on test ...
00:23:40 - test set during evaluation: 15300/15294
00:23:40 - process[4] - test - epoch 17 - mAP: 0.466 w/ 36 queries
00:23:40 - process[4]: training epoch 18 ...
00:23:50 - process[4] - epoch 18 - train iter 187 - 18220.0 words/s - loss: 0.4206
00:23:50 - process[4]: evaluating epoch 18 on dev ...
00:24:32 - dev set during evaluation: 14980/14975
00:24:32 - process[4] - dev - epoch 18 - mAP: 0.412 w/ 35 queries
00:24:32 - process[4]: training epoch 19 ...
00:24:42 - process[4] - epoch 19 - train iter 187 - 16271.0 words/s - loss: 0.3836
00:24:42 - process[4]: evaluating epoch 19 on dev ...
00:25:23 - dev set during evaluation: 14980/14975
00:25:23 - process[4] - dev - epoch 19 - mAP: 0.431 w/ 35 queries
00:25:23 - [fold 2] best test MAP: 0.466 @ epoch 17
00:25:23 - Evaluating every 1 epochs ...
00:25:23 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:25:24 - test has 35 queries ...
00:25:24 - Data reading done ...
00:25:25 - adding 9-th encoder to optimizer...
00:25:25 - adding 10-th encoder to optimizer...
00:25:25 - adding 11-th encoder to optimizer...
00:25:25 - process[4]: training epoch 0 ...
00:25:35 - process[4] - epoch 0 - train iter 196 - 18393.0 words/s - loss: 0.6814
00:25:35 - process[4]: training epoch 1 ...
00:25:45 - process[4] - epoch 1 - train iter 196 - 17740.7 words/s - loss: 0.5694
00:25:45 - process[4]: training epoch 2 ...
00:25:55 - process[4] - epoch 2 - train iter 196 - 18429.7 words/s - loss: 0.5102
00:25:55 - process[4]: training epoch 3 ...
00:26:04 - process[4] - epoch 3 - train iter 196 - 17934.2 words/s - loss: 0.4767
00:26:04 - process[4]: training epoch 4 ...
00:26:15 - process[4] - epoch 4 - train iter 196 - 16990.7 words/s - loss: 0.5136
00:26:15 - process[4]: training epoch 5 ...
00:26:25 - process[4] - epoch 5 - train iter 196 - 17680.8 words/s - loss: 0.4485
00:26:25 - process[4]: training epoch 6 ...
00:26:36 - process[4] - epoch 6 - train iter 196 - 16660.7 words/s - loss: 0.4777
00:26:36 - process[4]: training epoch 7 ...
00:26:47 - process[4] - epoch 7 - train iter 196 - 16295.1 words/s - loss: 0.4573
00:26:47 - process[4]: training epoch 8 ...
00:26:57 - process[4] - epoch 8 - train iter 196 - 17055.6 words/s - loss: 0.4053
00:26:57 - process[4]: training epoch 9 ...
00:27:07 - process[4] - epoch 9 - train iter 196 - 17190.1 words/s - loss: 0.4883
00:27:07 - process[4]: training epoch 10 ...
00:27:18 - process[4] - epoch 10 - train iter 196 - 16872.7 words/s - loss: 0.4614
00:27:18 - process[4]: evaluating epoch 10 on dev ...
00:28:06 - dev set during evaluation: 15300/15294
00:28:06 - process[4] - dev - epoch 10 - mAP: 0.428 w/ 36 queries
00:28:06 - process[4]: evaluating epoch 10 on test ...
00:28:48 - test set during evaluation: 15480/15477
00:28:48 - process[4] - test - epoch 10 - mAP: 0.343 w/ 35 queries
00:28:48 - process[4]: training epoch 11 ...
00:28:58 - process[4] - epoch 11 - train iter 196 - 17453.7 words/s - loss: 0.4472
00:28:58 - process[4]: evaluating epoch 11 on dev ...
00:29:41 - dev set during evaluation: 15300/15294
00:29:41 - process[4] - dev - epoch 11 - mAP: 0.452 w/ 36 queries
00:29:41 - process[4]: evaluating epoch 11 on test ...
00:30:23 - test set during evaluation: 15480/15477
00:30:23 - process[4] - test - epoch 11 - mAP: 0.361 w/ 35 queries
00:30:23 - process[4]: training epoch 12 ...
00:30:33 - process[4] - epoch 12 - train iter 196 - 17641.8 words/s - loss: 0.4000
00:30:33 - process[4]: evaluating epoch 12 on dev ...
00:31:16 - dev set during evaluation: 15300/15294
00:31:16 - process[4] - dev - epoch 12 - mAP: 0.438 w/ 36 queries
00:31:16 - process[4]: training epoch 13 ...
00:31:26 - process[4] - epoch 13 - train iter 196 - 18231.1 words/s - loss: 0.4572
00:31:26 - process[4]: evaluating epoch 13 on dev ...
00:32:14 - dev set during evaluation: 15300/15294
00:32:14 - process[4] - dev - epoch 13 - mAP: 0.447 w/ 36 queries
00:32:14 - process[4]: training epoch 14 ...
00:32:24 - process[4] - epoch 14 - train iter 196 - 16565.7 words/s - loss: 0.4465
00:32:24 - process[4]: evaluating epoch 14 on dev ...
00:33:06 - dev set during evaluation: 15300/15294
00:33:07 - process[4] - dev - epoch 14 - mAP: 0.467 w/ 36 queries
00:33:07 - process[4]: evaluating epoch 14 on test ...
00:33:49 - test set during evaluation: 15480/15477
00:33:49 - process[4] - test - epoch 14 - mAP: 0.386 w/ 35 queries
00:33:49 - process[4]: training epoch 15 ...
00:33:59 - process[4] - epoch 15 - train iter 196 - 17134.0 words/s - loss: 0.4069
00:33:59 - process[4]: evaluating epoch 15 on dev ...
00:34:41 - dev set during evaluation: 15300/15294
00:34:41 - process[4] - dev - epoch 15 - mAP: 0.477 w/ 36 queries
00:34:41 - process[4]: evaluating epoch 15 on test ...
00:35:23 - test set during evaluation: 15480/15477
00:35:23 - process[4] - test - epoch 15 - mAP: 0.378 w/ 35 queries
00:35:23 - process[4]: training epoch 16 ...
00:35:33 - process[4] - epoch 16 - train iter 196 - 17976.5 words/s - loss: 0.4112
00:35:33 - process[4]: evaluating epoch 16 on dev ...
00:36:16 - dev set during evaluation: 15300/15294
00:36:16 - process[4] - dev - epoch 16 - mAP: 0.447 w/ 36 queries
00:36:16 - process[4]: training epoch 17 ...
00:36:26 - process[4] - epoch 17 - train iter 196 - 17845.8 words/s - loss: 0.3728
00:36:26 - process[4]: evaluating epoch 17 on dev ...
00:37:09 - dev set during evaluation: 15300/15294
00:37:09 - process[4] - dev - epoch 17 - mAP: 0.413 w/ 36 queries
00:37:09 - process[4]: training epoch 18 ...
00:37:20 - process[4] - epoch 18 - train iter 196 - 16162.1 words/s - loss: 0.3679
00:37:20 - process[4]: evaluating epoch 18 on dev ...
00:38:02 - dev set during evaluation: 15300/15294
00:38:02 - process[4] - dev - epoch 18 - mAP: 0.453 w/ 36 queries
00:38:02 - process[4]: training epoch 19 ...
00:38:13 - process[4] - epoch 19 - train iter 196 - 16145.8 words/s - loss: 0.3634
00:38:13 - process[4]: evaluating epoch 19 on dev ...
00:38:55 - dev set during evaluation: 15300/15294
00:38:55 - process[4] - dev - epoch 19 - mAP: 0.437 w/ 36 queries
00:38:55 - [fold 3] best test MAP: 0.378 @ epoch 15
00:38:55 - Evaluating every 1 epochs ...
00:38:55 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:38:56 - test has 35 queries ...
00:38:56 - Data reading done ...
00:38:57 - adding 9-th encoder to optimizer...
00:38:57 - adding 10-th encoder to optimizer...
00:38:57 - adding 11-th encoder to optimizer...
00:38:58 - process[4]: training epoch 0 ...
00:39:09 - process[4] - epoch 0 - train iter 207 - 16773.7 words/s - loss: 0.6782
00:39:09 - process[4]: training epoch 1 ...
00:39:20 - process[4] - epoch 1 - train iter 207 - 17021.9 words/s - loss: 0.5751
00:39:20 - process[4]: training epoch 2 ...
00:39:30 - process[4] - epoch 2 - train iter 207 - 17672.8 words/s - loss: 0.5131
00:39:30 - process[4]: training epoch 3 ...
00:39:41 - process[4] - epoch 3 - train iter 207 - 16519.5 words/s - loss: 0.4848
00:39:41 - process[4]: training epoch 4 ...
00:39:53 - process[4] - epoch 4 - train iter 207 - 16620.4 words/s - loss: 0.4861
00:39:53 - process[4]: training epoch 5 ...
00:40:05 - process[4] - epoch 5 - train iter 207 - 16016.7 words/s - loss: 0.4604
00:40:05 - process[4]: training epoch 6 ...
00:40:17 - process[4] - epoch 6 - train iter 207 - 15295.9 words/s - loss: 0.4320
00:40:17 - process[4]: training epoch 7 ...
00:40:28 - process[4] - epoch 7 - train iter 207 - 17076.0 words/s - loss: 0.4110
00:40:28 - process[4]: training epoch 8 ...
00:40:39 - process[4] - epoch 8 - train iter 207 - 16077.2 words/s - loss: 0.4183
00:40:39 - process[4]: training epoch 9 ...
00:40:51 - process[4] - epoch 9 - train iter 207 - 16283.7 words/s - loss: 0.4678
00:40:51 - process[4]: training epoch 10 ...
00:41:02 - process[4] - epoch 10 - train iter 207 - 17492.9 words/s - loss: 0.3812
00:41:02 - process[4]: evaluating epoch 10 on dev ...
00:41:46 - dev set during evaluation: 15480/15477
00:41:46 - process[4] - dev - epoch 10 - mAP: 0.389 w/ 35 queries
00:41:46 - process[4]: evaluating epoch 10 on test ...
00:42:28 - test set during evaluation: 14470/14463
00:42:28 - process[4] - test - epoch 10 - mAP: 0.414 w/ 35 queries
00:42:28 - process[4]: training epoch 11 ...
00:42:40 - process[4] - epoch 11 - train iter 207 - 15684.3 words/s - loss: 0.4772
00:42:40 - process[4]: evaluating epoch 11 on dev ...
00:43:21 - dev set during evaluation: 15480/15477
00:43:21 - process[4] - dev - epoch 11 - mAP: 0.358 w/ 35 queries
00:43:21 - process[4]: training epoch 12 ...
00:43:32 - process[4] - epoch 12 - train iter 207 - 16613.2 words/s - loss: 0.3661
00:43:32 - process[4]: evaluating epoch 12 on dev ...
00:44:14 - dev set during evaluation: 15480/15477
00:44:14 - process[4] - dev - epoch 12 - mAP: 0.371 w/ 35 queries
00:44:14 - process[4]: training epoch 13 ...
00:44:25 - process[4] - epoch 13 - train iter 207 - 17432.5 words/s - loss: 0.3680
00:44:25 - process[4]: evaluating epoch 13 on dev ...
00:45:08 - dev set during evaluation: 15480/15477
00:45:08 - process[4] - dev - epoch 13 - mAP: 0.357 w/ 35 queries
00:45:08 - process[4]: training epoch 14 ...
00:45:19 - process[4] - epoch 14 - train iter 207 - 17419.8 words/s - loss: 0.4240
00:45:19 - process[4]: evaluating epoch 14 on dev ...
00:46:02 - dev set during evaluation: 15480/15477
00:46:02 - process[4] - dev - epoch 14 - mAP: 0.404 w/ 35 queries
00:46:02 - process[4]: evaluating epoch 14 on test ...
00:46:44 - test set during evaluation: 14470/14463
00:46:44 - process[4] - test - epoch 14 - mAP: 0.433 w/ 35 queries
00:46:44 - process[4]: training epoch 15 ...
00:46:54 - process[4] - epoch 15 - train iter 207 - 18901.6 words/s - loss: 0.4040
00:46:54 - process[4]: evaluating epoch 15 on dev ...
00:47:37 - dev set during evaluation: 15480/15477
00:47:37 - process[4] - dev - epoch 15 - mAP: 0.398 w/ 35 queries
00:47:37 - process[4]: training epoch 16 ...
00:47:48 - process[4] - epoch 16 - train iter 207 - 16234.2 words/s - loss: 0.3406
00:47:48 - process[4]: evaluating epoch 16 on dev ...
00:48:30 - dev set during evaluation: 15480/15477
00:48:30 - process[4] - dev - epoch 16 - mAP: 0.382 w/ 35 queries
00:48:30 - process[4]: training epoch 17 ...
00:48:41 - process[4] - epoch 17 - train iter 207 - 16761.4 words/s - loss: 0.3965
00:48:41 - process[4]: evaluating epoch 17 on dev ...
00:49:25 - dev set during evaluation: 15480/15477
00:49:25 - process[4] - dev - epoch 17 - mAP: 0.407 w/ 35 queries
00:49:25 - process[4]: evaluating epoch 17 on test ...
00:50:07 - test set during evaluation: 14470/14463
00:50:07 - process[4] - test - epoch 17 - mAP: 0.419 w/ 35 queries
00:50:07 - process[4]: training epoch 18 ...
00:50:19 - process[4] - epoch 18 - train iter 207 - 15780.1 words/s - loss: 0.3855
00:50:19 - process[4]: evaluating epoch 18 on dev ...
00:51:00 - dev set during evaluation: 15480/15477
00:51:00 - process[4] - dev - epoch 18 - mAP: 0.410 w/ 35 queries
00:51:00 - process[4]: evaluating epoch 18 on test ...
00:51:42 - test set during evaluation: 14470/14463
00:51:42 - process[4] - test - epoch 18 - mAP: 0.421 w/ 35 queries
00:51:42 - process[4]: training epoch 19 ...
00:51:53 - process[4] - epoch 19 - train iter 207 - 18562.0 words/s - loss: 0.3404
00:51:53 - process[4]: evaluating epoch 19 on dev ...
00:52:36 - dev set during evaluation: 15480/15477
00:52:36 - process[4] - dev - epoch 19 - mAP: 0.399 w/ 35 queries
00:52:36 - [fold 4] best test MAP: 0.421 @ epoch 18
00:52:36 - Evaluating every 1 epochs ...
00:52:36 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:52:37 - test has 35 queries ...
00:52:37 - Data reading done ...
00:52:38 - adding 9-th encoder to optimizer...
00:52:38 - adding 10-th encoder to optimizer...
00:52:38 - adding 11-th encoder to optimizer...
00:52:39 - process[4]: training epoch 0 ...
00:52:49 - process[4] - epoch 0 - train iter 195 - 16430.0 words/s - loss: 0.6785
00:52:49 - process[4]: training epoch 1 ...
00:53:00 - process[4] - epoch 1 - train iter 195 - 15843.0 words/s - loss: 0.5719
00:53:00 - process[4]: training epoch 2 ...
00:53:11 - process[4] - epoch 2 - train iter 195 - 16355.4 words/s - loss: 0.4853
00:53:11 - process[4]: training epoch 3 ...
00:53:21 - process[4] - epoch 3 - train iter 195 - 16807.9 words/s - loss: 0.4524
00:53:21 - process[4]: training epoch 4 ...
00:53:32 - process[4] - epoch 4 - train iter 195 - 15736.0 words/s - loss: 0.4363
00:53:32 - process[4]: training epoch 5 ...
00:53:44 - process[4] - epoch 5 - train iter 195 - 15461.1 words/s - loss: 0.4068
00:53:44 - process[4]: training epoch 6 ...
00:53:54 - process[4] - epoch 6 - train iter 195 - 16640.8 words/s - loss: 0.4122
00:53:54 - process[4]: training epoch 7 ...
00:54:05 - process[4] - epoch 7 - train iter 195 - 16417.5 words/s - loss: 0.3457
00:54:05 - process[4]: training epoch 8 ...
00:54:16 - process[4] - epoch 8 - train iter 195 - 15641.5 words/s - loss: 0.4190
00:54:16 - process[4]: training epoch 9 ...
00:54:27 - process[4] - epoch 9 - train iter 195 - 16479.4 words/s - loss: 0.3609
00:54:27 - process[4]: training epoch 10 ...
00:54:38 - process[4] - epoch 10 - train iter 195 - 15829.2 words/s - loss: 0.3920
00:54:38 - process[4]: evaluating epoch 10 on dev ...
00:55:22 - dev set during evaluation: 14470/14463
00:55:22 - process[4] - dev - epoch 10 - mAP: 0.408 w/ 35 queries
00:55:22 - process[4]: evaluating epoch 10 on test ...
00:56:07 - test set during evaluation: 14160/14157
00:56:07 - process[4] - test - epoch 10 - mAP: 0.448 w/ 35 queries
00:56:07 - process[4]: training epoch 11 ...
00:56:19 - process[4] - epoch 11 - train iter 195 - 13903.7 words/s - loss: 0.3687
00:56:19 - process[4]: evaluating epoch 11 on dev ...
00:57:02 - dev set during evaluation: 14470/14463
00:57:02 - process[4] - dev - epoch 11 - mAP: 0.428 w/ 35 queries
00:57:02 - process[4]: evaluating epoch 11 on test ...
00:57:47 - test set during evaluation: 14160/14157
00:57:47 - process[4] - test - epoch 11 - mAP: 0.450 w/ 35 queries
00:57:47 - process[4]: training epoch 12 ...
00:57:58 - process[4] - epoch 12 - train iter 195 - 16991.0 words/s - loss: 0.3660
00:57:58 - process[4]: evaluating epoch 12 on dev ...
00:58:40 - dev set during evaluation: 14470/14463
00:58:40 - process[4] - dev - epoch 12 - mAP: 0.363 w/ 35 queries
00:58:40 - process[4]: training epoch 13 ...
00:58:50 - process[4] - epoch 13 - train iter 195 - 16714.8 words/s - loss: 0.3665
00:58:50 - process[4]: evaluating epoch 13 on dev ...
00:59:32 - dev set during evaluation: 14470/14463
00:59:32 - process[4] - dev - epoch 13 - mAP: 0.420 w/ 35 queries
00:59:32 - process[4]: training epoch 14 ...
00:59:44 - process[4] - epoch 14 - train iter 195 - 14977.6 words/s - loss: 0.3775
00:59:44 - process[4]: evaluating epoch 14 on dev ...
01:00:26 - dev set during evaluation: 14470/14463
01:00:26 - process[4] - dev - epoch 14 - mAP: 0.380 w/ 35 queries
01:00:26 - process[4]: training epoch 15 ...
01:00:36 - process[4] - epoch 15 - train iter 195 - 17766.5 words/s - loss: 0.3416
01:00:36 - process[4]: evaluating epoch 15 on dev ...
01:01:18 - dev set during evaluation: 14470/14463
01:01:18 - process[4] - dev - epoch 15 - mAP: 0.419 w/ 35 queries
01:01:18 - process[4]: training epoch 16 ...
01:01:30 - process[4] - epoch 16 - train iter 195 - 14895.7 words/s - loss: 0.3274
01:01:30 - process[4]: evaluating epoch 16 on dev ...
01:02:12 - dev set during evaluation: 14470/14463
01:02:12 - process[4] - dev - epoch 16 - mAP: 0.397 w/ 35 queries
01:02:12 - process[4]: training epoch 17 ...
01:02:24 - process[4] - epoch 17 - train iter 195 - 15532.5 words/s - loss: 0.3478
01:02:24 - process[4]: evaluating epoch 17 on dev ...
01:03:06 - dev set during evaluation: 14470/14463
01:03:06 - process[4] - dev - epoch 17 - mAP: 0.424 w/ 35 queries
01:03:06 - process[4]: training epoch 18 ...
01:03:16 - process[4] - epoch 18 - train iter 195 - 16690.2 words/s - loss: 0.3308
01:03:16 - process[4]: evaluating epoch 18 on dev ...
01:03:58 - dev set during evaluation: 14470/14463
01:03:58 - process[4] - dev - epoch 18 - mAP: 0.437 w/ 35 queries
01:03:58 - process[4]: evaluating epoch 18 on test ...
01:04:43 - test set during evaluation: 14160/14157
01:04:43 - process[4] - test - epoch 18 - mAP: 0.502 w/ 35 queries
01:04:44 - process[4]: training epoch 19 ...
01:04:54 - process[4] - epoch 19 - train iter 195 - 16154.8 words/s - loss: 0.3734
01:04:54 - process[4]: evaluating epoch 19 on dev ...
01:05:37 - dev set during evaluation: 14470/14463
01:05:37 - process[4] - dev - epoch 19 - mAP: 0.414 w/ 35 queries
01:05:37 - [fold 5] best test MAP: 0.502 @ epoch 18
01:05:37 - [0.464781992451358, 0.4656934259293555, 0.3780185096846725, 0.4210434804205224, 0.5021146210870805]
01:05:37 - [35, 36, 35, 35, 35]
01:05:37 - final MAP: 0.446
00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=4, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:16 - Evaluating every 1 epochs ...
00:00:16 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:18 - test has 35 queries ...
00:00:18 - Data reading done ...
00:00:24 - adding 9-th encoder to optimizer...
00:00:24 - adding 10-th encoder to optimizer...
00:00:24 - adding 11-th encoder to optimizer...
00:00:25 - process[4]: training epoch 0 ...
00:00:37 - process[4] - epoch 0 - train iter 197 - 15353.2 words/s - loss: 0.6767
00:00:37 - process[4]: training epoch 1 ...
00:00:47 - process[4] - epoch 1 - train iter 197 - 16907.3 words/s - loss: 0.5776
00:00:47 - process[4]: training epoch 2 ...
00:00:58 - process[4] - epoch 2 - train iter 197 - 15688.3 words/s - loss: 0.5258
00:00:58 - process[4]: training epoch 3 ...
00:01:09 - process[4] - epoch 3 - train iter 197 - 16056.2 words/s - loss: 0.5236
00:01:09 - process[4]: training epoch 4 ...
00:01:20 - process[4] - epoch 4 - train iter 197 - 17294.0 words/s - loss: 0.4796
00:01:20 - process[4]: training epoch 5 ...
00:01:32 - process[4] - epoch 5 - train iter 197 - 15157.9 words/s - loss: 0.4465
00:01:32 - process[4]: training epoch 6 ...
00:01:43 - process[4] - epoch 6 - train iter 197 - 16389.1 words/s - loss: 0.4197
00:01:43 - process[4]: training epoch 7 ...
00:01:55 - process[4] - epoch 7 - train iter 197 - 15399.5 words/s - loss: 0.4649
00:01:55 - process[4]: training epoch 8 ...
00:02:05 - process[4] - epoch 8 - train iter 197 - 16844.2 words/s - loss: 0.4730
00:02:05 - process[4]: training epoch 9 ...
00:02:17 - process[4] - epoch 9 - train iter 197 - 15767.8 words/s - loss: 0.4815
00:02:17 - process[4]: training epoch 10 ...
00:02:27 - process[4] - epoch 10 - train iter 197 - 17080.7 words/s - loss: 0.4495
00:02:27 - process[4]: evaluating epoch 10 on dev ...
00:03:15 - dev set during evaluation: 14160/14157
00:03:15 - process[4] - dev - epoch 10 - mAP: 0.448 w/ 35 queries
00:03:15 - process[4]: evaluating epoch 10 on test ...
00:03:56 - test set during evaluation: 14980/14975
00:03:56 - process[4] - test - epoch 10 - mAP: 0.443 w/ 35 queries
00:03:56 - process[4]: training epoch 11 ...
00:04:06 - process[4] - epoch 11 - train iter 197 - 18198.7 words/s - loss: 0.4258
00:04:06 - process[4]: evaluating epoch 11 on dev ...
00:04:53 - dev set during evaluation: 14160/14157
00:04:53 - process[4] - dev - epoch 11 - mAP: 0.456 w/ 35 queries
00:04:53 - process[4]: evaluating epoch 11 on test ...
00:05:34 - test set during evaluation: 14980/14975
00:05:34 - process[4] - test - epoch 11 - mAP: 0.461 w/ 35 queries
00:05:34 - process[4]: training epoch 12 ...
00:05:46 - process[4] - epoch 12 - train iter 197 - 15315.8 words/s - loss: 0.4500
00:05:46 - process[4]: evaluating epoch 12 on dev ...
00:06:29 - dev set during evaluation: 14160/14157
00:06:29 - process[4] - dev - epoch 12 - mAP: 0.438 w/ 35 queries
00:06:29 - process[4]: training epoch 13 ...
00:06:41 - process[4] - epoch 13 - train iter 197 - 14270.6 words/s - loss: 0.4439
00:06:41 - process[4]: evaluating epoch 13 on dev ...
00:07:25 - dev set during evaluation: 14160/14157
00:07:25 - process[4] - dev - epoch 13 - mAP: 0.444 w/ 35 queries
00:07:25 - process[4]: training epoch 14 ...
00:07:37 - process[4] - epoch 14 - train iter 197 - 15669.7 words/s - loss: 0.3570
00:07:37 - process[4]: evaluating epoch 14 on dev ...
00:08:21 - dev set during evaluation: 14160/14157
00:08:21 - process[4] - dev - epoch 14 - mAP: 0.448 w/ 35 queries
00:08:21 - process[4]: training epoch 15 ...
00:08:33 - process[4] - epoch 15 - train iter 197 - 14889.3 words/s - loss: 0.4292
00:08:33 - process[4]: evaluating epoch 15 on dev ...
00:09:16 - dev set during evaluation: 14160/14157
00:09:16 - process[4] - dev - epoch 15 - mAP: 0.425 w/ 35 queries
00:09:16 - process[4]: training epoch 16 ...
00:09:28 - process[4] - epoch 16 - train iter 197 - 14805.9 words/s - loss: 0.3781
00:09:28 - process[4]: evaluating epoch 16 on dev ...
00:10:11 - dev set during evaluation: 14160/14157
00:10:11 - process[4] - dev - epoch 16 - mAP: 0.474 w/ 35 queries
00:10:11 - process[4]: evaluating epoch 16 on test ...
00:10:53 - test set during evaluation: 14980/14975
00:10:53 - process[4] - test - epoch 16 - mAP: 0.465 w/ 35 queries
00:10:53 - process[4]: training epoch 17 ...
00:11:05 - process[4] - epoch 17 - train iter 197 - 14381.6 words/s - loss: 0.3919
00:11:05 - process[4]: evaluating epoch 17 on dev ...
00:11:49 - dev set during evaluation: 14160/14157
00:11:49 - process[4] - dev - epoch 17 - mAP: 0.418 w/ 35 queries
00:11:49 - process[4]: training epoch 18 ...
00:12:00 - process[4] - epoch 18 - train iter 197 - 15559.3 words/s - loss: 0.3880
00:12:00 - process[4]: evaluating epoch 18 on dev ...
00:12:44 - dev set during evaluation: 14160/14157
00:12:44 - process[4] - dev - epoch 18 - mAP: 0.450 w/ 35 queries
00:12:44 - process[4]: training epoch 19 ...
00:12:56 - process[4] - epoch 19 - train iter 197 - 15189.4 words/s - loss: 0.3801
00:12:56 - process[4]: evaluating epoch 19 on dev ...
00:13:41 - dev set during evaluation: 14160/14157
00:13:41 - process[4] - dev - epoch 19 - mAP: 0.462 w/ 35 queries
00:13:41 - [fold 1] best test MAP: 0.465 @ epoch 16
00:13:41 - Evaluating every 1 epochs ...
00:13:41 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:13:41 - test has 36 queries ...
00:13:41 - Data reading done ...
00:13:43 - adding 9-th encoder to optimizer...
00:13:43 - adding 10-th encoder to optimizer...
00:13:43 - adding 11-th encoder to optimizer...
00:13:43 - process[4]: training epoch 0 ...
00:13:53 - process[4] - epoch 0 - train iter 187 - 17059.7 words/s - loss: 0.6837
00:13:53 - process[4]: training epoch 1 ...
00:14:05 - process[4] - epoch 1 - train iter 187 - 15176.3 words/s - loss: 0.5712
00:14:05 - process[4]: training epoch 2 ...
00:14:14 - process[4] - epoch 2 - train iter 187 - 16703.5 words/s - loss: 0.5381
00:14:14 - process[4]: training epoch 3 ...
00:14:23 - process[4] - epoch 3 - train iter 187 - 19572.0 words/s - loss: 0.5520
00:14:23 - process[4]: training epoch 4 ...
00:14:33 - process[4] - epoch 4 - train iter 187 - 17189.2 words/s - loss: 0.5011
00:14:33 - process[4]: training epoch 5 ...
00:14:43 - process[4] - epoch 5 - train iter 187 - 16680.6 words/s - loss: 0.4862
00:14:43 - process[4]: training epoch 6 ...
00:14:53 - process[4] - epoch 6 - train iter 187 - 17701.3 words/s - loss: 0.5022
00:14:53 - process[4]: training epoch 7 ...
00:15:04 - process[4] - epoch 7 - train iter 187 - 15321.9 words/s - loss: 0.4822
00:15:04 - process[4]: training epoch 8 ...
00:15:15 - process[4] - epoch 8 - train iter 187 - 16282.1 words/s - loss: 0.4849
00:15:15 - process[4]: training epoch 9 ...
00:15:25 - process[4] - epoch 9 - train iter 187 - 15901.4 words/s - loss: 0.4242
00:15:25 - process[4]: training epoch 10 ...
00:15:35 - process[4] - epoch 10 - train iter 187 - 17125.4 words/s - loss: 0.4200
00:15:36 - process[4]: evaluating epoch 10 on dev ...
00:16:17 - dev set during evaluation: 14980/14975
00:16:17 - process[4] - dev - epoch 10 - mAP: 0.433 w/ 35 queries
00:16:17 - process[4]: evaluating epoch 10 on test ...
00:17:00 - test set during evaluation: 15300/15294
00:17:00 - process[4] - test - epoch 10 - mAP: 0.474 w/ 36 queries
00:17:00 - process[4]: training epoch 11 ...
00:17:11 - process[4] - epoch 11 - train iter 187 - 16466.0 words/s - loss: 0.4394
00:17:11 - process[4]: evaluating epoch 11 on dev ...
00:17:52 - dev set during evaluation: 14980/14975
00:17:52 - process[4] - dev - epoch 11 - mAP: 0.408 w/ 35 queries
00:17:52 - process[4]: training epoch 12 ...
00:18:01 - process[4] - epoch 12 - train iter 187 - 17412.5 words/s - loss: 0.3576
00:18:01 - process[4]: evaluating epoch 12 on dev ...
00:18:43 - dev set during evaluation: 14980/14975
00:18:43 - process[4] - dev - epoch 12 - mAP: 0.412 w/ 35 queries
00:18:43 - process[4]: training epoch 13 ...
00:18:53 - process[4] - epoch 13 - train iter 187 - 16986.3 words/s - loss: 0.4124
00:18:53 - process[4]: evaluating epoch 13 on dev ...
00:19:34 - dev set during evaluation: 14980/14975
00:19:34 - process[4] - dev - epoch 13 - mAP: 0.416 w/ 35 queries
00:19:34 - process[4]: training epoch 14 ...
00:19:43 - process[4] - epoch 14 - train iter 187 - 18847.7 words/s - loss: 0.4197
00:19:43 - process[4]: evaluating epoch 14 on dev ...
00:20:26 - dev set during evaluation: 14980/14975
00:20:26 - process[4] - dev - epoch 14 - mAP: 0.397 w/ 35 queries
00:20:26 - process[4]: training epoch 15 ...
00:20:37 - process[4] - epoch 15 - train iter 187 - 16173.1 words/s - loss: 0.3701
00:20:37 - process[4]: evaluating epoch 15 on dev ...
00:21:17 - dev set during evaluation: 14980/14975
00:21:17 - process[4] - dev - epoch 15 - mAP: 0.424 w/ 35 queries
00:21:17 - process[4]: training epoch 16 ...
00:21:26 - process[4] - epoch 16 - train iter 187 - 18106.2 words/s - loss: 0.3808
00:21:26 - process[4]: evaluating epoch 16 on dev ...
00:22:09 - dev set during evaluation: 14980/14975
00:22:09 - process[4] - dev - epoch 16 - mAP: 0.385 w/ 35 queries
00:22:09 - process[4]: training epoch 17 ...
00:22:18 - process[4] - epoch 17 - train iter 187 - 18434.4 words/s - loss: 0.4493
00:22:18 - process[4]: evaluating epoch 17 on dev ...
00:23:00 - dev set during evaluation: 14980/14975
00:23:00 - process[4] - dev - epoch 17 - mAP: 0.447 w/ 35 queries
00:23:00 - process[4]: evaluating epoch 17 on test ...
00:23:43 - test set during evaluation: 15300/15294
00:23:43 - process[4] - test - epoch 17 - mAP: 0.466 w/ 36 queries
00:23:43 - process[4]: training epoch 18 ...
00:23:52 - process[4] - epoch 18 - train iter 187 - 18229.3 words/s - loss: 0.4206
00:23:52 - process[4]: evaluating epoch 18 on dev ...
00:24:35 - dev set during evaluation: 14980/14975
00:24:35 - process[4] - dev - epoch 18 - mAP: 0.412 w/ 35 queries
00:24:35 - process[4]: training epoch 19 ...
00:24:45 - process[4] - epoch 19 - train iter 187 - 16201.5 words/s - loss: 0.3836
00:24:45 - process[4]: evaluating epoch 19 on dev ...
00:25:26 - dev set during evaluation: 14980/14975
00:25:26 - process[4] - dev - epoch 19 - mAP: 0.431 w/ 35 queries
00:25:26 - [fold 2] best test MAP: 0.466 @ epoch 17
00:25:26 - Evaluating every 1 epochs ...
00:25:26 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:25:27 - test has 35 queries ...
00:25:27 - Data reading done ...
00:25:28 - adding 9-th encoder to optimizer...
00:25:28 - adding 10-th encoder to optimizer...
00:25:28 - adding 11-th encoder to optimizer...
00:25:29 - process[4]: training epoch 0 ...
00:25:39 - process[4] - epoch 0 - train iter 196 - 18399.9 words/s - loss: 0.6814
00:25:39 - process[4]: training epoch 1 ...
00:25:49 - process[4] - epoch 1 - train iter 196 - 17778.4 words/s - loss: 0.5694
00:25:49 - process[4]: training epoch 2 ...
00:25:58 - process[4] - epoch 2 - train iter 196 - 18496.4 words/s - loss: 0.5102
00:25:58 - process[4]: training epoch 3 ...
00:26:08 - process[4] - epoch 3 - train iter 196 - 17988.5 words/s - loss: 0.4767
00:26:08 - process[4]: training epoch 4 ...
00:26:18 - process[4] - epoch 4 - train iter 196 - 17056.2 words/s - loss: 0.5136
00:26:18 - process[4]: training epoch 5 ...
00:26:28 - process[4] - epoch 5 - train iter 196 - 17718.6 words/s - loss: 0.4485
00:26:28 - process[4]: training epoch 6 ...
00:26:39 - process[4] - epoch 6 - train iter 196 - 16669.8 words/s - loss: 0.4777
00:26:39 - process[4]: training epoch 7 ...
00:26:50 - process[4] - epoch 7 - train iter 196 - 16263.5 words/s - loss: 0.4573
00:26:50 - process[4]: training epoch 8 ...
00:27:00 - process[4] - epoch 8 - train iter 196 - 17038.4 words/s - loss: 0.4053
00:27:00 - process[4]: training epoch 9 ...
00:27:11 - process[4] - epoch 9 - train iter 196 - 17251.9 words/s - loss: 0.4883
00:27:11 - process[4]: training epoch 10 ...
00:27:21 - process[4] - epoch 10 - train iter 196 - 16849.9 words/s - loss: 0.4614
00:27:21 - process[4]: evaluating epoch 10 on dev ...
00:28:09 - dev set during evaluation: 15300/15294
00:28:09 - process[4] - dev - epoch 10 - mAP: 0.428 w/ 36 queries
00:28:09 - process[4]: evaluating epoch 10 on test ...
00:28:52 - test set during evaluation: 15480/15477
00:28:52 - process[4] - test - epoch 10 - mAP: 0.343 w/ 35 queries
00:28:52 - process[4]: training epoch 11 ...
00:29:02 - process[4] - epoch 11 - train iter 196 - 17325.7 words/s - loss: 0.4472
00:29:02 - process[4]: evaluating epoch 11 on dev ...
00:29:45 - dev set during evaluation: 15300/15294
00:29:45 - process[4] - dev - epoch 11 - mAP: 0.452 w/ 36 queries
00:29:45 - process[4]: evaluating epoch 11 on test ...
00:30:27 - test set during evaluation: 15480/15477
00:30:27 - process[4] - test - epoch 11 - mAP: 0.361 w/ 35 queries
00:30:27 - process[4]: training epoch 12 ...
00:30:38 - process[4] - epoch 12 - train iter 196 - 17449.1 words/s - loss: 0.4000
00:30:38 - process[4]: evaluating epoch 12 on dev ...
00:31:20 - dev set during evaluation: 15300/15294
00:31:20 - process[4] - dev - epoch 12 - mAP: 0.438 w/ 36 queries
00:31:20 - process[4]: training epoch 13 ...
00:31:30 - process[4] - epoch 13 - train iter 196 - 18128.9 words/s - loss: 0.4572
00:31:30 - process[4]: evaluating epoch 13 on dev ...
00:32:14 - dev set during evaluation: 15300/15294
00:32:14 - process[4] - dev - epoch 13 - mAP: 0.447 w/ 36 queries
00:32:14 - process[4]: training epoch 14 ...
00:32:24 - process[4] - epoch 14 - train iter 196 - 16546.6 words/s - loss: 0.4465
00:32:24 - process[4]: evaluating epoch 14 on dev ...
00:33:07 - dev set during evaluation: 15300/15294
00:33:07 - process[4] - dev - epoch 14 - mAP: 0.467 w/ 36 queries
00:33:07 - process[4]: evaluating epoch 14 on test ...
00:33:49 - test set during evaluation: 15480/15477
00:33:49 - process[4] - test - epoch 14 - mAP: 0.386 w/ 35 queries
00:33:49 - process[4]: training epoch 15 ...
00:33:59 - process[4] - epoch 15 - train iter 196 - 16949.6 words/s - loss: 0.4069
00:33:59 - process[4]: evaluating epoch 15 on dev ...
00:34:42 - dev set during evaluation: 15300/15294
00:34:42 - process[4] - dev - epoch 15 - mAP: 0.477 w/ 36 queries
00:34:42 - process[4]: evaluating epoch 15 on test ...
00:35:24 - test set during evaluation: 15480/15477
00:35:24 - process[4] - test - epoch 15 - mAP: 0.378 w/ 35 queries
00:35:24 - process[4]: training epoch 16 ...
00:35:34 - process[4] - epoch 16 - train iter 196 - 17901.5 words/s - loss: 0.4112
00:35:34 - process[4]: evaluating epoch 16 on dev ...
00:36:17 - dev set during evaluation: 15300/15294
00:36:17 - process[4] - dev - epoch 16 - mAP: 0.447 w/ 36 queries
00:36:17 - process[4]: training epoch 17 ...
00:36:26 - process[4] - epoch 17 - train iter 196 - 17841.8 words/s - loss: 0.3728
00:36:26 - process[4]: evaluating epoch 17 on dev ...
00:37:09 - dev set during evaluation: 15300/15294
00:37:09 - process[4] - dev - epoch 17 - mAP: 0.413 w/ 36 queries
00:37:09 - process[4]: training epoch 18 ...
00:37:21 - process[4] - epoch 18 - train iter 196 - 16102.2 words/s - loss: 0.3679
00:37:21 - process[4]: evaluating epoch 18 on dev ...
00:38:02 - dev set during evaluation: 15300/15294
00:38:03 - process[4] - dev - epoch 18 - mAP: 0.453 w/ 36 queries
00:38:03 - process[4]: training epoch 19 ...
00:38:14 - process[4] - epoch 19 - train iter 196 - 16100.9 words/s - loss: 0.3634
00:38:14 - process[4]: evaluating epoch 19 on dev ...
00:38:56 - dev set during evaluation: 15300/15294
00:38:56 - process[4] - dev - epoch 19 - mAP: 0.437 w/ 36 queries
00:38:56 - [fold 3] best test MAP: 0.378 @ epoch 15
00:38:56 - Evaluating every 1 epochs ...
00:38:56 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:38:56 - test has 35 queries ...
00:38:56 - Data reading done ...
00:38:58 - adding 9-th encoder to optimizer...
00:38:58 - adding 10-th encoder to optimizer...
00:38:58 - adding 11-th encoder to optimizer...
00:38:58 - process[4]: training epoch 0 ...
00:39:10 - process[4] - epoch 0 - train iter 207 - 16698.7 words/s - loss: 0.6782
00:39:10 - process[4]: training epoch 1 ...
00:39:21 - process[4] - epoch 1 - train iter 207 - 16946.3 words/s - loss: 0.5751
00:39:21 - process[4]: training epoch 2 ...
00:39:31 - process[4] - epoch 2 - train iter 207 - 17587.1 words/s - loss: 0.5131
00:39:31 - process[4]: training epoch 3 ...
00:39:43 - process[4] - epoch 3 - train iter 207 - 16454.5 words/s - loss: 0.4848
00:39:43 - process[4]: training epoch 4 ...
00:39:54 - process[4] - epoch 4 - train iter 207 - 16552.3 words/s - loss: 0.4861
00:39:54 - process[4]: training epoch 5 ...
00:40:06 - process[4] - epoch 5 - train iter 207 - 15939.3 words/s - loss: 0.4604
00:40:06 - process[4]: training epoch 6 ...
00:40:18 - process[4] - epoch 6 - train iter 207 - 15179.7 words/s - loss: 0.4320
00:40:18 - process[4]: training epoch 7 ...
00:40:29 - process[4] - epoch 7 - train iter 207 - 16947.5 words/s - loss: 0.4110
00:40:29 - process[4]: training epoch 8 ...
00:40:41 - process[4] - epoch 8 - train iter 207 - 15983.9 words/s - loss: 0.4183
00:40:41 - process[4]: training epoch 9 ...
00:40:52 - process[4] - epoch 9 - train iter 207 - 16243.1 words/s - loss: 0.4678
00:40:52 - process[4]: training epoch 10 ...
00:41:03 - process[4] - epoch 10 - train iter 207 - 17452.7 words/s - loss: 0.3812
00:41:03 - process[4]: evaluating epoch 10 on dev ...
00:41:48 - dev set during evaluation: 15480/15477
00:41:48 - process[4] - dev - epoch 10 - mAP: 0.389 w/ 35 queries
00:41:48 - process[4]: evaluating epoch 10 on test ...
00:42:30 - test set during evaluation: 14470/14463
00:42:30 - process[4] - test - epoch 10 - mAP: 0.414 w/ 35 queries
00:42:30 - process[4]: training epoch 11 ...
00:42:42 - process[4] - epoch 11 - train iter 207 - 15860.9 words/s - loss: 0.4772
00:42:42 - process[4]: evaluating epoch 11 on dev ...
00:43:23 - dev set during evaluation: 15480/15477
00:43:23 - process[4] - dev - epoch 11 - mAP: 0.358 w/ 35 queries
00:43:23 - process[4]: training epoch 12 ...
00:43:35 - process[4] - epoch 12 - train iter 207 - 16580.7 words/s - loss: 0.3661
00:43:35 - process[4]: evaluating epoch 12 on dev ...
00:44:17 - dev set during evaluation: 15480/15477
00:44:17 - process[4] - dev - epoch 12 - mAP: 0.371 w/ 35 queries
00:44:17 - process[4]: training epoch 13 ...
00:44:28 - process[4] - epoch 13 - train iter 207 - 17544.9 words/s - loss: 0.3680
00:44:28 - process[4]: evaluating epoch 13 on dev ...
00:45:12 - dev set during evaluation: 15480/15477
00:45:12 - process[4] - dev - epoch 13 - mAP: 0.357 w/ 35 queries
00:45:12 - process[4]: training epoch 14 ...
00:45:23 - process[4] - epoch 14 - train iter 207 - 17428.8 words/s - loss: 0.4240
00:45:23 - process[4]: evaluating epoch 14 on dev ...
00:46:07 - dev set during evaluation: 15480/15477
00:46:07 - process[4] - dev - epoch 14 - mAP: 0.404 w/ 35 queries
00:46:07 - process[4]: evaluating epoch 14 on test ...
00:46:50 - test set during evaluation: 14470/14463
00:46:50 - process[4] - test - epoch 14 - mAP: 0.433 w/ 35 queries
00:46:50 - process[4]: training epoch 15 ...
00:47:00 - process[4] - epoch 15 - train iter 207 - 18813.9 words/s - loss: 0.4040
00:47:00 - process[4]: evaluating epoch 15 on dev ...
00:47:42 - dev set during evaluation: 15480/15477
00:47:42 - process[4] - dev - epoch 15 - mAP: 0.398 w/ 35 queries
00:47:42 - process[4]: training epoch 16 ...
00:47:54 - process[4] - epoch 16 - train iter 207 - 16238.6 words/s - loss: 0.3406
00:47:54 - process[4]: evaluating epoch 16 on dev ...
00:48:36 - dev set during evaluation: 15480/15477
00:48:36 - process[4] - dev - epoch 16 - mAP: 0.382 w/ 35 queries
00:48:36 - process[4]: training epoch 17 ...
00:48:47 - process[4] - epoch 17 - train iter 207 - 16687.0 words/s - loss: 0.3965
00:48:47 - process[4]: evaluating epoch 17 on dev ...
00:49:31 - dev set during evaluation: 15480/15477
00:49:31 - process[4] - dev - epoch 17 - mAP: 0.407 w/ 35 queries
00:49:31 - process[4]: evaluating epoch 17 on test ...
00:50:13 - test set during evaluation: 14470/14463
00:50:13 - process[4] - test - epoch 17 - mAP: 0.419 w/ 35 queries
00:50:13 - process[4]: training epoch 18 ...
00:50:25 - process[4] - epoch 18 - train iter 207 - 15758.5 words/s - loss: 0.3855
00:50:25 - process[4]: evaluating epoch 18 on dev ...
00:51:07 - dev set during evaluation: 15480/15477
00:51:07 - process[4] - dev - epoch 18 - mAP: 0.410 w/ 35 queries
00:51:07 - process[4]: evaluating epoch 18 on test ...
00:51:49 - test set during evaluation: 14470/14463
00:51:49 - process[4] - test - epoch 18 - mAP: 0.421 w/ 35 queries
00:51:49 - process[4]: training epoch 19 ...
00:51:59 - process[4] - epoch 19 - train iter 207 - 18415.1 words/s - loss: 0.3404
00:51:59 - process[4]: evaluating epoch 19 on dev ...
00:52:43 - dev set during evaluation: 15480/15477
00:52:43 - process[4] - dev - epoch 19 - mAP: 0.399 w/ 35 queries
00:52:43 - [fold 4] best test MAP: 0.421 @ epoch 18
00:52:43 - Evaluating every 1 epochs ...
00:52:43 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:52:43 - test has 35 queries ...
00:52:43 - Data reading done ...
00:52:45 - adding 9-th encoder to optimizer...
00:52:45 - adding 10-th encoder to optimizer...
00:52:45 - adding 11-th encoder to optimizer...
00:52:45 - process[4]: training epoch 0 ...
00:52:56 - process[4] - epoch 0 - train iter 195 - 16344.6 words/s - loss: 0.6785
00:52:56 - process[4]: training epoch 1 ...
00:53:07 - process[4] - epoch 1 - train iter 195 - 15821.7 words/s - loss: 0.5719
00:53:07 - process[4]: training epoch 2 ...
00:53:18 - process[4] - epoch 2 - train iter 195 - 16283.3 words/s - loss: 0.4853
00:53:18 - process[4]: training epoch 3 ...
00:53:28 - process[4] - epoch 3 - train iter 195 - 16697.9 words/s - loss: 0.4524
00:53:28 - process[4]: training epoch 4 ...
00:53:39 - process[4] - epoch 4 - train iter 195 - 15817.1 words/s - loss: 0.4363
00:53:39 - process[4]: training epoch 5 ...
00:53:51 - process[4] - epoch 5 - train iter 195 - 15378.7 words/s - loss: 0.4068
00:53:51 - process[4]: training epoch 6 ...
00:54:01 - process[4] - epoch 6 - train iter 195 - 16618.7 words/s - loss: 0.4122
00:54:01 - process[4]: training epoch 7 ...
00:54:12 - process[4] - epoch 7 - train iter 195 - 16397.8 words/s - loss: 0.3457
00:54:12 - process[4]: training epoch 8 ...
00:54:23 - process[4] - epoch 8 - train iter 195 - 15630.1 words/s - loss: 0.4190
00:54:23 - process[4]: training epoch 9 ...
00:54:34 - process[4] - epoch 9 - train iter 195 - 16409.0 words/s - loss: 0.3609
00:54:34 - process[4]: training epoch 10 ...
00:54:45 - process[4] - epoch 10 - train iter 195 - 15753.5 words/s - loss: 0.3920
00:54:45 - process[4]: evaluating epoch 10 on dev ...
00:55:29 - dev set during evaluation: 14470/14463
00:55:29 - process[4] - dev - epoch 10 - mAP: 0.408 w/ 35 queries
00:55:29 - process[4]: evaluating epoch 10 on test ...
00:56:15 - test set during evaluation: 14160/14157
00:56:15 - process[4] - test - epoch 10 - mAP: 0.448 w/ 35 queries
00:56:15 - process[4]: training epoch 11 ...
00:56:27 - process[4] - epoch 11 - train iter 195 - 13931.5 words/s - loss: 0.3687
00:56:27 - process[4]: evaluating epoch 11 on dev ...
00:57:09 - dev set during evaluation: 14470/14463
00:57:09 - process[4] - dev - epoch 11 - mAP: 0.428 w/ 35 queries
00:57:09 - process[4]: evaluating epoch 11 on test ...
00:57:55 - test set during evaluation: 14160/14157
00:57:55 - process[4] - test - epoch 11 - mAP: 0.450 w/ 35 queries
00:57:55 - process[4]: training epoch 12 ...
00:58:05 - process[4] - epoch 12 - train iter 195 - 16892.2 words/s - loss: 0.3660
00:58:05 - process[4]: evaluating epoch 12 on dev ...
00:58:48 - dev set during evaluation: 14470/14463
00:58:48 - process[4] - dev - epoch 12 - mAP: 0.363 w/ 35 queries
00:58:48 - process[4]: training epoch 13 ...
00:58:58 - process[4] - epoch 13 - train iter 195 - 16612.7 words/s - loss: 0.3665
00:58:58 - process[4]: evaluating epoch 13 on dev ...
00:59:40 - dev set during evaluation: 14470/14463
00:59:40 - process[4] - dev - epoch 13 - mAP: 0.420 w/ 35 queries
00:59:40 - process[4]: training epoch 14 ...
00:59:52 - process[4] - epoch 14 - train iter 195 - 14912.9 words/s - loss: 0.3775
00:59:52 - process[4]: evaluating epoch 14 on dev ...
01:00:34 - dev set during evaluation: 14470/14463
01:00:34 - process[4] - dev - epoch 14 - mAP: 0.380 w/ 35 queries
01:00:34 - process[4]: training epoch 15 ...
01:00:44 - process[4] - epoch 15 - train iter 195 - 17806.2 words/s - loss: 0.3416
01:00:44 - process[4]: evaluating epoch 15 on dev ...
01:01:26 - dev set during evaluation: 14470/14463
01:01:26 - process[4] - dev - epoch 15 - mAP: 0.419 w/ 35 queries
01:01:26 - process[4]: training epoch 16 ...
01:01:38 - process[4] - epoch 16 - train iter 195 - 14784.5 words/s - loss: 0.3274
01:01:38 - process[4]: evaluating epoch 16 on dev ...
01:02:20 - dev set during evaluation: 14470/14463
01:02:20 - process[4] - dev - epoch 16 - mAP: 0.397 w/ 35 queries
01:02:20 - process[4]: training epoch 17 ...
01:02:32 - process[4] - epoch 17 - train iter 195 - 15603.6 words/s - loss: 0.3478
01:02:32 - process[4]: evaluating epoch 17 on dev ...
01:03:14 - dev set during evaluation: 14470/14463
01:03:14 - process[4] - dev - epoch 17 - mAP: 0.424 w/ 35 queries
01:03:14 - process[4]: training epoch 18 ...
01:03:25 - process[4] - epoch 18 - train iter 195 - 16673.0 words/s - loss: 0.3308
01:03:25 - process[4]: evaluating epoch 18 on dev ...
01:04:07 - dev set during evaluation: 14470/14463
01:04:07 - process[4] - dev - epoch 18 - mAP: 0.437 w/ 35 queries
01:04:07 - process[4]: evaluating epoch 18 on test ...
01:04:52 - test set during evaluation: 14160/14157
01:04:52 - process[4] - test - epoch 18 - mAP: 0.502 w/ 35 queries
01:04:52 - process[4]: training epoch 19 ...
01:05:03 - process[4] - epoch 19 - train iter 195 - 16069.6 words/s - loss: 0.3734
01:05:03 - process[4]: evaluating epoch 19 on dev ...
01:05:45 - dev set during evaluation: 14470/14463
01:05:45 - process[4] - dev - epoch 19 - mAP: 0.414 w/ 35 queries
01:05:45 - [fold 5] best test MAP: 0.502 @ epoch 18
01:05:45 - [0.464781992451358, 0.4656934259293555, 0.3780185096846725, 0.4210434804205224, 0.5021146210870805]
01:05:45 - [35, 36, 35, 35, 35]
01:05:45 - final MAP: 0.446
