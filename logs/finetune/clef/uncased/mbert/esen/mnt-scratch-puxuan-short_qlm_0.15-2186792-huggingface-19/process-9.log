00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=9, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:21 - Evaluating every 1 epochs ...
00:00:21 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:21 - test has 35 queries ...
00:00:21 - Data reading done ...
00:00:28 - adding 9-th encoder to optimizer...
00:00:28 - adding 10-th encoder to optimizer...
00:00:28 - adding 11-th encoder to optimizer...
00:00:29 - process[9]: training epoch 0 ...
00:00:39 - process[9] - epoch 0 - train iter 197 - 16747.7 words/s - loss: 0.6774
00:00:39 - process[9]: training epoch 1 ...
00:00:51 - process[9] - epoch 1 - train iter 197 - 15691.1 words/s - loss: 0.5395
00:00:51 - process[9]: training epoch 2 ...
00:01:00 - process[9] - epoch 2 - train iter 197 - 19281.2 words/s - loss: 0.5032
00:01:00 - process[9]: training epoch 3 ...
00:01:11 - process[9] - epoch 3 - train iter 197 - 16449.7 words/s - loss: 0.5343
00:01:11 - process[9]: training epoch 4 ...
00:01:21 - process[9] - epoch 4 - train iter 197 - 17223.9 words/s - loss: 0.4783
00:01:21 - process[9]: training epoch 5 ...
00:01:32 - process[9] - epoch 5 - train iter 197 - 15938.4 words/s - loss: 0.4993
00:01:32 - process[9]: training epoch 6 ...
00:01:43 - process[9] - epoch 6 - train iter 197 - 16745.3 words/s - loss: 0.4148
00:01:43 - process[9]: training epoch 7 ...
00:01:53 - process[9] - epoch 7 - train iter 197 - 17964.3 words/s - loss: 0.4572
00:01:53 - process[9]: training epoch 8 ...
00:02:04 - process[9] - epoch 8 - train iter 197 - 15551.3 words/s - loss: 0.4200
00:02:04 - process[9]: training epoch 9 ...
00:02:17 - process[9] - epoch 9 - train iter 197 - 13903.3 words/s - loss: 0.4083
00:02:17 - process[9]: training epoch 10 ...
00:02:28 - process[9] - epoch 10 - train iter 197 - 16607.7 words/s - loss: 0.3966
00:02:28 - process[9]: evaluating epoch 10 on dev ...
00:03:18 - dev set during evaluation: 14160/14157
00:03:18 - process[9] - dev - epoch 10 - mAP: 0.448 w/ 35 queries
00:03:18 - process[9]: evaluating epoch 10 on test ...
00:03:59 - test set during evaluation: 14980/14975
00:03:59 - process[9] - test - epoch 10 - mAP: 0.443 w/ 35 queries
00:03:59 - process[9]: training epoch 11 ...
00:04:10 - process[9] - epoch 11 - train iter 197 - 16511.0 words/s - loss: 0.4920
00:04:10 - process[9]: evaluating epoch 11 on dev ...
00:04:56 - dev set during evaluation: 14160/14157
00:04:56 - process[9] - dev - epoch 11 - mAP: 0.456 w/ 35 queries
00:04:56 - process[9]: evaluating epoch 11 on test ...
00:05:37 - test set during evaluation: 14980/14975
00:05:37 - process[9] - test - epoch 11 - mAP: 0.461 w/ 35 queries
00:05:37 - process[9]: training epoch 12 ...
00:05:49 - process[9] - epoch 12 - train iter 197 - 15138.7 words/s - loss: 0.3921
00:05:49 - process[9]: evaluating epoch 12 on dev ...
00:06:32 - dev set during evaluation: 14160/14157
00:06:32 - process[9] - dev - epoch 12 - mAP: 0.438 w/ 35 queries
00:06:32 - process[9]: training epoch 13 ...
00:06:43 - process[9] - epoch 13 - train iter 197 - 15385.9 words/s - loss: 0.3839
00:06:43 - process[9]: evaluating epoch 13 on dev ...
00:07:28 - dev set during evaluation: 14160/14157
00:07:28 - process[9] - dev - epoch 13 - mAP: 0.444 w/ 35 queries
00:07:28 - process[9]: training epoch 14 ...
00:07:39 - process[9] - epoch 14 - train iter 197 - 16519.0 words/s - loss: 0.4122
00:07:39 - process[9]: evaluating epoch 14 on dev ...
00:08:24 - dev set during evaluation: 14160/14157
00:08:24 - process[9] - dev - epoch 14 - mAP: 0.448 w/ 35 queries
00:08:24 - process[9]: training epoch 15 ...
00:08:35 - process[9] - epoch 15 - train iter 197 - 16048.2 words/s - loss: 0.4592
00:08:35 - process[9]: evaluating epoch 15 on dev ...
00:09:19 - dev set during evaluation: 14160/14157
00:09:19 - process[9] - dev - epoch 15 - mAP: 0.425 w/ 35 queries
00:09:19 - process[9]: training epoch 16 ...
00:09:29 - process[9] - epoch 16 - train iter 197 - 17575.5 words/s - loss: 0.3912
00:09:29 - process[9]: evaluating epoch 16 on dev ...
00:10:14 - dev set during evaluation: 14160/14157
00:10:14 - process[9] - dev - epoch 16 - mAP: 0.474 w/ 35 queries
00:10:14 - process[9]: evaluating epoch 16 on test ...
00:10:55 - test set during evaluation: 14980/14975
00:10:55 - process[9] - test - epoch 16 - mAP: 0.465 w/ 35 queries
00:10:55 - process[9]: training epoch 17 ...
00:11:07 - process[9] - epoch 17 - train iter 197 - 14781.5 words/s - loss: 0.4030
00:11:07 - process[9]: evaluating epoch 17 on dev ...
00:11:51 - dev set during evaluation: 14160/14157
00:11:51 - process[9] - dev - epoch 17 - mAP: 0.418 w/ 35 queries
00:11:51 - process[9]: training epoch 18 ...
00:12:02 - process[9] - epoch 18 - train iter 197 - 15526.4 words/s - loss: 0.4103
00:12:02 - process[9]: evaluating epoch 18 on dev ...
00:12:46 - dev set during evaluation: 14160/14157
00:12:46 - process[9] - dev - epoch 18 - mAP: 0.450 w/ 35 queries
00:12:46 - process[9]: training epoch 19 ...
00:12:56 - process[9] - epoch 19 - train iter 197 - 17101.7 words/s - loss: 0.3429
00:12:56 - process[9]: evaluating epoch 19 on dev ...
00:13:42 - dev set during evaluation: 14160/14157
00:13:42 - process[9] - dev - epoch 19 - mAP: 0.462 w/ 35 queries
00:13:42 - [fold 1] best test MAP: 0.465 @ epoch 16
00:13:42 - Evaluating every 1 epochs ...
00:13:42 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:13:43 - test has 36 queries ...
00:13:43 - Data reading done ...
00:13:44 - adding 9-th encoder to optimizer...
00:13:44 - adding 10-th encoder to optimizer...
00:13:44 - adding 11-th encoder to optimizer...
00:13:45 - process[9]: training epoch 0 ...
00:13:56 - process[9] - epoch 0 - train iter 187 - 15952.9 words/s - loss: 0.6772
00:13:56 - process[9]: training epoch 1 ...
00:14:07 - process[9] - epoch 1 - train iter 187 - 15478.1 words/s - loss: 0.5590
00:14:07 - process[9]: training epoch 2 ...
00:14:17 - process[9] - epoch 2 - train iter 187 - 17114.2 words/s - loss: 0.5803
00:14:17 - process[9]: training epoch 3 ...
00:14:28 - process[9] - epoch 3 - train iter 187 - 15680.6 words/s - loss: 0.4765
00:14:28 - process[9]: training epoch 4 ...
00:14:38 - process[9] - epoch 4 - train iter 187 - 16605.6 words/s - loss: 0.5263
00:14:38 - process[9]: training epoch 5 ...
00:14:48 - process[9] - epoch 5 - train iter 187 - 18096.5 words/s - loss: 0.4762
00:14:48 - process[9]: training epoch 6 ...
00:14:58 - process[9] - epoch 6 - train iter 187 - 16864.1 words/s - loss: 0.4821
00:14:58 - process[9]: training epoch 7 ...
00:15:08 - process[9] - epoch 7 - train iter 187 - 16344.5 words/s - loss: 0.4935
00:15:08 - process[9]: training epoch 8 ...
00:15:18 - process[9] - epoch 8 - train iter 187 - 16295.0 words/s - loss: 0.4659
00:15:18 - process[9]: training epoch 9 ...
00:15:28 - process[9] - epoch 9 - train iter 187 - 18206.8 words/s - loss: 0.5051
00:15:28 - process[9]: training epoch 10 ...
00:15:38 - process[9] - epoch 10 - train iter 187 - 16729.3 words/s - loss: 0.4410
00:15:38 - process[9]: evaluating epoch 10 on dev ...
00:16:18 - dev set during evaluation: 14980/14975
00:16:18 - process[9] - dev - epoch 10 - mAP: 0.433 w/ 35 queries
00:16:18 - process[9]: evaluating epoch 10 on test ...
00:17:01 - test set during evaluation: 15300/15294
00:17:01 - process[9] - test - epoch 10 - mAP: 0.474 w/ 36 queries
00:17:01 - process[9]: training epoch 11 ...
00:17:12 - process[9] - epoch 11 - train iter 187 - 15922.7 words/s - loss: 0.4633
00:17:12 - process[9]: evaluating epoch 11 on dev ...
00:17:52 - dev set during evaluation: 14980/14975
00:17:52 - process[9] - dev - epoch 11 - mAP: 0.408 w/ 35 queries
00:17:52 - process[9]: training epoch 12 ...
00:18:03 - process[9] - epoch 12 - train iter 187 - 15408.5 words/s - loss: 0.4529
00:18:03 - process[9]: evaluating epoch 12 on dev ...
00:18:43 - dev set during evaluation: 14980/14975
00:18:43 - process[9] - dev - epoch 12 - mAP: 0.412 w/ 35 queries
00:18:43 - process[9]: training epoch 13 ...
00:18:54 - process[9] - epoch 13 - train iter 187 - 16129.2 words/s - loss: 0.4575
00:18:54 - process[9]: evaluating epoch 13 on dev ...
00:19:35 - dev set during evaluation: 14980/14975
00:19:35 - process[9] - dev - epoch 13 - mAP: 0.416 w/ 35 queries
00:19:35 - process[9]: training epoch 14 ...
00:19:46 - process[9] - epoch 14 - train iter 187 - 15245.2 words/s - loss: 0.4092
00:19:46 - process[9]: evaluating epoch 14 on dev ...
00:20:26 - dev set during evaluation: 14980/14975
00:20:26 - process[9] - dev - epoch 14 - mAP: 0.397 w/ 35 queries
00:20:26 - process[9]: training epoch 15 ...
00:20:35 - process[9] - epoch 15 - train iter 187 - 17553.1 words/s - loss: 0.3913
00:20:35 - process[9]: evaluating epoch 15 on dev ...
00:21:17 - dev set during evaluation: 14980/14975
00:21:17 - process[9] - dev - epoch 15 - mAP: 0.424 w/ 35 queries
00:21:17 - process[9]: training epoch 16 ...
00:21:26 - process[9] - epoch 16 - train iter 187 - 18123.3 words/s - loss: 0.4310
00:21:26 - process[9]: evaluating epoch 16 on dev ...
00:22:07 - dev set during evaluation: 14980/14975
00:22:07 - process[9] - dev - epoch 16 - mAP: 0.385 w/ 35 queries
00:22:07 - process[9]: training epoch 17 ...
00:22:17 - process[9] - epoch 17 - train iter 187 - 16726.7 words/s - loss: 0.3857
00:22:17 - process[9]: evaluating epoch 17 on dev ...
00:22:58 - dev set during evaluation: 14980/14975
00:22:58 - process[9] - dev - epoch 17 - mAP: 0.447 w/ 35 queries
00:22:58 - process[9]: evaluating epoch 17 on test ...
00:23:40 - test set during evaluation: 15300/15294
00:23:40 - process[9] - test - epoch 17 - mAP: 0.466 w/ 36 queries
00:23:40 - process[9]: training epoch 18 ...
00:23:50 - process[9] - epoch 18 - train iter 187 - 17466.7 words/s - loss: 0.3919
00:23:50 - process[9]: evaluating epoch 18 on dev ...
00:24:32 - dev set during evaluation: 14980/14975
00:24:32 - process[9] - dev - epoch 18 - mAP: 0.412 w/ 35 queries
00:24:32 - process[9]: training epoch 19 ...
00:24:41 - process[9] - epoch 19 - train iter 187 - 17743.0 words/s - loss: 0.3814
00:24:41 - process[9]: evaluating epoch 19 on dev ...
00:25:23 - dev set during evaluation: 14980/14975
00:25:23 - process[9] - dev - epoch 19 - mAP: 0.431 w/ 35 queries
00:25:23 - [fold 2] best test MAP: 0.466 @ epoch 17
00:25:23 - Evaluating every 1 epochs ...
00:25:23 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:25:24 - test has 35 queries ...
00:25:24 - Data reading done ...
00:25:25 - adding 9-th encoder to optimizer...
00:25:25 - adding 10-th encoder to optimizer...
00:25:25 - adding 11-th encoder to optimizer...
00:25:25 - process[9]: training epoch 0 ...
00:25:37 - process[9] - epoch 0 - train iter 196 - 15982.6 words/s - loss: 0.6789
00:25:37 - process[9]: training epoch 1 ...
00:25:47 - process[9] - epoch 1 - train iter 196 - 17282.1 words/s - loss: 0.5838
00:25:47 - process[9]: training epoch 2 ...
00:25:57 - process[9] - epoch 2 - train iter 196 - 17068.3 words/s - loss: 0.5626
00:25:57 - process[9]: training epoch 3 ...
00:26:09 - process[9] - epoch 3 - train iter 196 - 14799.6 words/s - loss: 0.5279
00:26:09 - process[9]: training epoch 4 ...
00:26:20 - process[9] - epoch 4 - train iter 196 - 16505.9 words/s - loss: 0.4742
00:26:20 - process[9]: training epoch 5 ...
00:26:30 - process[9] - epoch 5 - train iter 196 - 17018.8 words/s - loss: 0.4665
00:26:30 - process[9]: training epoch 6 ...
00:26:39 - process[9] - epoch 6 - train iter 196 - 18794.3 words/s - loss: 0.4702
00:26:39 - process[9]: training epoch 7 ...
00:26:50 - process[9] - epoch 7 - train iter 196 - 16150.0 words/s - loss: 0.4427
00:26:50 - process[9]: training epoch 8 ...
00:27:00 - process[9] - epoch 8 - train iter 196 - 17940.7 words/s - loss: 0.4802
00:27:00 - process[9]: training epoch 9 ...
00:27:10 - process[9] - epoch 9 - train iter 196 - 17167.2 words/s - loss: 0.4734
00:27:10 - process[9]: training epoch 10 ...
00:27:21 - process[9] - epoch 10 - train iter 196 - 17453.3 words/s - loss: 0.4446
00:27:21 - process[9]: evaluating epoch 10 on dev ...
00:28:06 - dev set during evaluation: 15300/15294
00:28:06 - process[9] - dev - epoch 10 - mAP: 0.428 w/ 36 queries
00:28:06 - process[9]: evaluating epoch 10 on test ...
00:28:48 - test set during evaluation: 15480/15477
00:28:48 - process[9] - test - epoch 10 - mAP: 0.343 w/ 35 queries
00:28:48 - process[9]: training epoch 11 ...
00:28:59 - process[9] - epoch 11 - train iter 196 - 16385.5 words/s - loss: 0.3935
00:28:59 - process[9]: evaluating epoch 11 on dev ...
00:29:41 - dev set during evaluation: 15300/15294
00:29:41 - process[9] - dev - epoch 11 - mAP: 0.452 w/ 36 queries
00:29:41 - process[9]: evaluating epoch 11 on test ...
00:30:23 - test set during evaluation: 15480/15477
00:30:23 - process[9] - test - epoch 11 - mAP: 0.361 w/ 35 queries
00:30:23 - process[9]: training epoch 12 ...
00:30:33 - process[9] - epoch 12 - train iter 196 - 17183.3 words/s - loss: 0.4252
00:30:33 - process[9]: evaluating epoch 12 on dev ...
00:31:16 - dev set during evaluation: 15300/15294
00:31:16 - process[9] - dev - epoch 12 - mAP: 0.438 w/ 36 queries
00:31:16 - process[9]: training epoch 13 ...
00:31:26 - process[9] - epoch 13 - train iter 196 - 16983.9 words/s - loss: 0.4019
00:31:26 - process[9]: evaluating epoch 13 on dev ...
00:32:14 - dev set during evaluation: 15300/15294
00:32:14 - process[9] - dev - epoch 13 - mAP: 0.447 w/ 36 queries
00:32:14 - process[9]: training epoch 14 ...
00:32:24 - process[9] - epoch 14 - train iter 196 - 17994.7 words/s - loss: 0.4270
00:32:24 - process[9]: evaluating epoch 14 on dev ...
00:33:06 - dev set during evaluation: 15300/15294
00:33:06 - process[9] - dev - epoch 14 - mAP: 0.467 w/ 36 queries
00:33:07 - process[9]: evaluating epoch 14 on test ...
00:33:49 - test set during evaluation: 15480/15477
00:33:49 - process[9] - test - epoch 14 - mAP: 0.386 w/ 35 queries
00:33:49 - process[9]: training epoch 15 ...
00:33:58 - process[9] - epoch 15 - train iter 196 - 19138.8 words/s - loss: 0.4115
00:33:58 - process[9]: evaluating epoch 15 on dev ...
00:34:41 - dev set during evaluation: 15300/15294
00:34:41 - process[9] - dev - epoch 15 - mAP: 0.477 w/ 36 queries
00:34:41 - process[9]: evaluating epoch 15 on test ...
00:35:23 - test set during evaluation: 15480/15477
00:35:23 - process[9] - test - epoch 15 - mAP: 0.378 w/ 35 queries
00:35:23 - process[9]: training epoch 16 ...
00:35:33 - process[9] - epoch 16 - train iter 196 - 18273.3 words/s - loss: 0.4291
00:35:33 - process[9]: evaluating epoch 16 on dev ...
00:36:16 - dev set during evaluation: 15300/15294
00:36:16 - process[9] - dev - epoch 16 - mAP: 0.447 w/ 36 queries
00:36:16 - process[9]: training epoch 17 ...
00:36:26 - process[9] - epoch 17 - train iter 196 - 18483.3 words/s - loss: 0.4303
00:36:26 - process[9]: evaluating epoch 17 on dev ...
00:37:09 - dev set during evaluation: 15300/15294
00:37:09 - process[9] - dev - epoch 17 - mAP: 0.413 w/ 36 queries
00:37:09 - process[9]: training epoch 18 ...
00:37:18 - process[9] - epoch 18 - train iter 196 - 19396.8 words/s - loss: 0.4228
00:37:18 - process[9]: evaluating epoch 18 on dev ...
00:38:02 - dev set during evaluation: 15300/15294
00:38:02 - process[9] - dev - epoch 18 - mAP: 0.453 w/ 36 queries
00:38:02 - process[9]: training epoch 19 ...
00:38:12 - process[9] - epoch 19 - train iter 196 - 17970.9 words/s - loss: 0.3933
00:38:12 - process[9]: evaluating epoch 19 on dev ...
00:38:55 - dev set during evaluation: 15300/15294
00:38:55 - process[9] - dev - epoch 19 - mAP: 0.437 w/ 36 queries
00:38:55 - [fold 3] best test MAP: 0.378 @ epoch 15
00:38:55 - Evaluating every 1 epochs ...
00:38:55 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:38:56 - test has 35 queries ...
00:38:56 - Data reading done ...
00:38:57 - adding 9-th encoder to optimizer...
00:38:57 - adding 10-th encoder to optimizer...
00:38:57 - adding 11-th encoder to optimizer...
00:38:58 - process[9]: training epoch 0 ...
00:39:07 - process[9] - epoch 0 - train iter 207 - 19127.0 words/s - loss: 0.6862
00:39:07 - process[9]: training epoch 1 ...
00:39:18 - process[9] - epoch 1 - train iter 207 - 18157.9 words/s - loss: 0.5589
00:39:18 - process[9]: training epoch 2 ...
00:39:28 - process[9] - epoch 2 - train iter 207 - 17180.9 words/s - loss: 0.4982
00:39:28 - process[9]: training epoch 3 ...
00:39:40 - process[9] - epoch 3 - train iter 207 - 16348.8 words/s - loss: 0.4483
00:39:40 - process[9]: training epoch 4 ...
00:39:52 - process[9] - epoch 4 - train iter 207 - 15020.0 words/s - loss: 0.4911
00:39:52 - process[9]: training epoch 5 ...
00:40:04 - process[9] - epoch 5 - train iter 207 - 16779.6 words/s - loss: 0.4246
00:40:04 - process[9]: training epoch 6 ...
00:40:14 - process[9] - epoch 6 - train iter 207 - 17714.5 words/s - loss: 0.4382
00:40:14 - process[9]: training epoch 7 ...
00:40:25 - process[9] - epoch 7 - train iter 207 - 17602.8 words/s - loss: 0.4207
00:40:25 - process[9]: training epoch 8 ...
00:40:37 - process[9] - epoch 8 - train iter 207 - 16489.8 words/s - loss: 0.4406
00:40:37 - process[9]: training epoch 9 ...
00:40:48 - process[9] - epoch 9 - train iter 207 - 16603.4 words/s - loss: 0.3767
00:40:48 - process[9]: training epoch 10 ...
00:41:00 - process[9] - epoch 10 - train iter 207 - 16024.8 words/s - loss: 0.4052
00:41:00 - process[9]: evaluating epoch 10 on dev ...
00:41:46 - dev set during evaluation: 15480/15477
00:41:46 - process[9] - dev - epoch 10 - mAP: 0.389 w/ 35 queries
00:41:46 - process[9]: evaluating epoch 10 on test ...
00:42:28 - test set during evaluation: 14470/14463
00:42:28 - process[9] - test - epoch 10 - mAP: 0.414 w/ 35 queries
00:42:28 - process[9]: training epoch 11 ...
00:42:39 - process[9] - epoch 11 - train iter 207 - 16731.5 words/s - loss: 0.4089
00:42:39 - process[9]: evaluating epoch 11 on dev ...
00:43:21 - dev set during evaluation: 15480/15477
00:43:21 - process[9] - dev - epoch 11 - mAP: 0.358 w/ 35 queries
00:43:21 - process[9]: training epoch 12 ...
00:43:31 - process[9] - epoch 12 - train iter 207 - 17908.4 words/s - loss: 0.3985
00:43:31 - process[9]: evaluating epoch 12 on dev ...
00:44:14 - dev set during evaluation: 15480/15477
00:44:14 - process[9] - dev - epoch 12 - mAP: 0.371 w/ 35 queries
00:44:14 - process[9]: training epoch 13 ...
00:44:25 - process[9] - epoch 13 - train iter 207 - 18141.2 words/s - loss: 0.4042
00:44:25 - process[9]: evaluating epoch 13 on dev ...
00:45:08 - dev set during evaluation: 15480/15477
00:45:08 - process[9] - dev - epoch 13 - mAP: 0.357 w/ 35 queries
00:45:08 - process[9]: training epoch 14 ...
00:45:18 - process[9] - epoch 14 - train iter 207 - 17921.4 words/s - loss: 0.3756
00:45:18 - process[9]: evaluating epoch 14 on dev ...
00:46:02 - dev set during evaluation: 15480/15477
00:46:02 - process[9] - dev - epoch 14 - mAP: 0.404 w/ 35 queries
00:46:02 - process[9]: evaluating epoch 14 on test ...
00:46:44 - test set during evaluation: 14470/14463
00:46:44 - process[9] - test - epoch 14 - mAP: 0.433 w/ 35 queries
00:46:44 - process[9]: training epoch 15 ...
00:46:57 - process[9] - epoch 15 - train iter 207 - 15242.4 words/s - loss: 0.3886
00:46:57 - process[9]: evaluating epoch 15 on dev ...
00:47:37 - dev set during evaluation: 15480/15477
00:47:37 - process[9] - dev - epoch 15 - mAP: 0.398 w/ 35 queries
00:47:37 - process[9]: training epoch 16 ...
00:47:47 - process[9] - epoch 16 - train iter 207 - 17838.6 words/s - loss: 0.3747
00:47:47 - process[9]: evaluating epoch 16 on dev ...
00:48:30 - dev set during evaluation: 15480/15477
00:48:30 - process[9] - dev - epoch 16 - mAP: 0.382 w/ 35 queries
00:48:30 - process[9]: training epoch 17 ...
00:48:41 - process[9] - epoch 17 - train iter 207 - 18234.2 words/s - loss: 0.3982
00:48:41 - process[9]: evaluating epoch 17 on dev ...
00:49:25 - dev set during evaluation: 15480/15477
00:49:25 - process[9] - dev - epoch 17 - mAP: 0.407 w/ 35 queries
00:49:25 - process[9]: evaluating epoch 17 on test ...
00:50:07 - test set during evaluation: 14470/14463
00:50:07 - process[9] - test - epoch 17 - mAP: 0.419 w/ 35 queries
00:50:07 - process[9]: training epoch 18 ...
00:50:17 - process[9] - epoch 18 - train iter 207 - 17379.2 words/s - loss: 0.3804
00:50:17 - process[9]: evaluating epoch 18 on dev ...
00:51:00 - dev set during evaluation: 15480/15477
00:51:00 - process[9] - dev - epoch 18 - mAP: 0.410 w/ 35 queries
00:51:00 - process[9]: evaluating epoch 18 on test ...
00:51:42 - test set during evaluation: 14470/14463
00:51:42 - process[9] - test - epoch 18 - mAP: 0.421 w/ 35 queries
00:51:42 - process[9]: training epoch 19 ...
00:51:53 - process[9] - epoch 19 - train iter 207 - 17589.7 words/s - loss: 0.3872
00:51:53 - process[9]: evaluating epoch 19 on dev ...
00:52:36 - dev set during evaluation: 15480/15477
00:52:36 - process[9] - dev - epoch 19 - mAP: 0.399 w/ 35 queries
00:52:36 - [fold 4] best test MAP: 0.421 @ epoch 18
00:52:36 - Evaluating every 1 epochs ...
00:52:36 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:52:37 - test has 35 queries ...
00:52:37 - Data reading done ...
00:52:38 - adding 9-th encoder to optimizer...
00:52:38 - adding 10-th encoder to optimizer...
00:52:38 - adding 11-th encoder to optimizer...
00:52:39 - process[9]: training epoch 0 ...
00:52:48 - process[9] - epoch 0 - train iter 195 - 18153.0 words/s - loss: 0.6784
00:52:48 - process[9]: training epoch 1 ...
00:53:00 - process[9] - epoch 1 - train iter 195 - 15157.2 words/s - loss: 0.5403
00:53:00 - process[9]: training epoch 2 ...
00:53:10 - process[9] - epoch 2 - train iter 195 - 17106.4 words/s - loss: 0.5054
00:53:10 - process[9]: training epoch 3 ...
00:53:21 - process[9] - epoch 3 - train iter 195 - 15170.6 words/s - loss: 0.4953
00:53:21 - process[9]: training epoch 4 ...
00:53:32 - process[9] - epoch 4 - train iter 195 - 16555.7 words/s - loss: 0.4300
00:53:32 - process[9]: training epoch 5 ...
00:53:42 - process[9] - epoch 5 - train iter 195 - 16603.6 words/s - loss: 0.4196
00:53:42 - process[9]: training epoch 6 ...
00:53:53 - process[9] - epoch 6 - train iter 195 - 16550.3 words/s - loss: 0.4593
00:53:53 - process[9]: training epoch 7 ...
00:54:03 - process[9] - epoch 7 - train iter 195 - 16888.1 words/s - loss: 0.4249
00:54:03 - process[9]: training epoch 8 ...
00:54:14 - process[9] - epoch 8 - train iter 195 - 15599.7 words/s - loss: 0.4610
00:54:14 - process[9]: training epoch 9 ...
00:54:26 - process[9] - epoch 9 - train iter 195 - 15264.1 words/s - loss: 0.3884
00:54:26 - process[9]: training epoch 10 ...
00:54:36 - process[9] - epoch 10 - train iter 195 - 17115.3 words/s - loss: 0.3809
00:54:36 - process[9]: evaluating epoch 10 on dev ...
00:55:22 - dev set during evaluation: 14470/14463
00:55:22 - process[9] - dev - epoch 10 - mAP: 0.408 w/ 35 queries
00:55:22 - process[9]: evaluating epoch 10 on test ...
00:56:07 - test set during evaluation: 14160/14157
00:56:07 - process[9] - test - epoch 10 - mAP: 0.448 w/ 35 queries
00:56:07 - process[9]: training epoch 11 ...
00:56:18 - process[9] - epoch 11 - train iter 195 - 16265.2 words/s - loss: 0.3629
00:56:18 - process[9]: evaluating epoch 11 on dev ...
00:57:02 - dev set during evaluation: 14470/14463
00:57:02 - process[9] - dev - epoch 11 - mAP: 0.428 w/ 35 queries
00:57:02 - process[9]: evaluating epoch 11 on test ...
00:57:47 - test set during evaluation: 14160/14157
00:57:47 - process[9] - test - epoch 11 - mAP: 0.450 w/ 35 queries
00:57:47 - process[9]: training epoch 12 ...
00:57:58 - process[9] - epoch 12 - train iter 195 - 15872.6 words/s - loss: 0.4122
00:57:58 - process[9]: evaluating epoch 12 on dev ...
00:58:40 - dev set during evaluation: 14470/14463
00:58:40 - process[9] - dev - epoch 12 - mAP: 0.363 w/ 35 queries
00:58:40 - process[9]: training epoch 13 ...
00:58:51 - process[9] - epoch 13 - train iter 195 - 15969.3 words/s - loss: 0.4216
00:58:51 - process[9]: evaluating epoch 13 on dev ...
00:59:32 - dev set during evaluation: 14470/14463
00:59:32 - process[9] - dev - epoch 13 - mAP: 0.420 w/ 35 queries
00:59:32 - process[9]: training epoch 14 ...
00:59:42 - process[9] - epoch 14 - train iter 195 - 17940.8 words/s - loss: 0.4016
00:59:42 - process[9]: evaluating epoch 14 on dev ...
01:00:26 - dev set during evaluation: 14470/14463
01:00:26 - process[9] - dev - epoch 14 - mAP: 0.380 w/ 35 queries
01:00:26 - process[9]: training epoch 15 ...
01:00:37 - process[9] - epoch 15 - train iter 195 - 15851.3 words/s - loss: 0.3631
01:00:37 - process[9]: evaluating epoch 15 on dev ...
01:01:18 - dev set during evaluation: 14470/14463
01:01:18 - process[9] - dev - epoch 15 - mAP: 0.419 w/ 35 queries
01:01:18 - process[9]: training epoch 16 ...
01:01:30 - process[9] - epoch 16 - train iter 195 - 15696.0 words/s - loss: 0.3210
01:01:30 - process[9]: evaluating epoch 16 on dev ...
01:02:12 - dev set during evaluation: 14470/14463
01:02:12 - process[9] - dev - epoch 16 - mAP: 0.397 w/ 35 queries
01:02:12 - process[9]: training epoch 17 ...
01:02:22 - process[9] - epoch 17 - train iter 195 - 17903.8 words/s - loss: 0.3931
01:02:22 - process[9]: evaluating epoch 17 on dev ...
01:03:06 - dev set during evaluation: 14470/14463
01:03:06 - process[9] - dev - epoch 17 - mAP: 0.424 w/ 35 queries
01:03:06 - process[9]: training epoch 18 ...
01:03:17 - process[9] - epoch 18 - train iter 195 - 15082.0 words/s - loss: 0.4036
01:03:17 - process[9]: evaluating epoch 18 on dev ...
01:03:58 - dev set during evaluation: 14470/14463
01:03:58 - process[9] - dev - epoch 18 - mAP: 0.437 w/ 35 queries
01:03:58 - process[9]: evaluating epoch 18 on test ...
01:04:43 - test set during evaluation: 14160/14157
01:04:43 - process[9] - test - epoch 18 - mAP: 0.502 w/ 35 queries
01:04:44 - process[9]: training epoch 19 ...
01:04:54 - process[9] - epoch 19 - train iter 195 - 16994.0 words/s - loss: 0.3720
01:04:54 - process[9]: evaluating epoch 19 on dev ...
01:05:37 - dev set during evaluation: 14470/14463
01:05:37 - process[9] - dev - epoch 19 - mAP: 0.414 w/ 35 queries
01:05:37 - [fold 5] best test MAP: 0.502 @ epoch 18
01:05:37 - [0.464781992451358, 0.4656934259293555, 0.3780185096846725, 0.4210434804205224, 0.5021146210870805]
01:05:37 - [35, 36, 35, 35, 35]
01:05:37 - final MAP: 0.446
00:00:07 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=9, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:16 - Evaluating every 1 epochs ...
00:00:16 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:18 - test has 35 queries ...
00:00:18 - Data reading done ...
00:00:24 - adding 9-th encoder to optimizer...
00:00:24 - adding 10-th encoder to optimizer...
00:00:24 - adding 11-th encoder to optimizer...
00:00:25 - process[9]: training epoch 0 ...
00:00:36 - process[9] - epoch 0 - train iter 197 - 16638.9 words/s - loss: 0.6774
00:00:36 - process[9]: training epoch 1 ...
00:00:47 - process[9] - epoch 1 - train iter 197 - 15669.6 words/s - loss: 0.5395
00:00:47 - process[9]: training epoch 2 ...
00:00:56 - process[9] - epoch 2 - train iter 197 - 19158.1 words/s - loss: 0.5032
00:00:56 - process[9]: training epoch 3 ...
00:01:07 - process[9] - epoch 3 - train iter 197 - 16318.1 words/s - loss: 0.5343
00:01:07 - process[9]: training epoch 4 ...
00:01:18 - process[9] - epoch 4 - train iter 197 - 16995.6 words/s - loss: 0.4783
00:01:18 - process[9]: training epoch 5 ...
00:01:29 - process[9] - epoch 5 - train iter 197 - 15866.7 words/s - loss: 0.4993
00:01:29 - process[9]: training epoch 6 ...
00:01:40 - process[9] - epoch 6 - train iter 197 - 16526.6 words/s - loss: 0.4148
00:01:40 - process[9]: training epoch 7 ...
00:01:50 - process[9] - epoch 7 - train iter 197 - 17762.1 words/s - loss: 0.4572
00:01:50 - process[9]: training epoch 8 ...
00:02:02 - process[9] - epoch 8 - train iter 197 - 15347.9 words/s - loss: 0.4200
00:02:02 - process[9]: training epoch 9 ...
00:02:14 - process[9] - epoch 9 - train iter 197 - 13662.6 words/s - loss: 0.4083
00:02:14 - process[9]: training epoch 10 ...
00:02:25 - process[9] - epoch 10 - train iter 197 - 16335.2 words/s - loss: 0.3966
00:02:25 - process[9]: evaluating epoch 10 on dev ...
00:03:15 - dev set during evaluation: 14160/14157
00:03:15 - process[9] - dev - epoch 10 - mAP: 0.448 w/ 35 queries
00:03:15 - process[9]: evaluating epoch 10 on test ...
00:03:56 - test set during evaluation: 14980/14975
00:03:56 - process[9] - test - epoch 10 - mAP: 0.443 w/ 35 queries
00:03:56 - process[9]: training epoch 11 ...
00:04:07 - process[9] - epoch 11 - train iter 197 - 16343.1 words/s - loss: 0.4920
00:04:07 - process[9]: evaluating epoch 11 on dev ...
00:04:53 - dev set during evaluation: 14160/14157
00:04:53 - process[9] - dev - epoch 11 - mAP: 0.456 w/ 35 queries
00:04:53 - process[9]: evaluating epoch 11 on test ...
00:05:34 - test set during evaluation: 14980/14975
00:05:35 - process[9] - test - epoch 11 - mAP: 0.461 w/ 35 queries
00:05:35 - process[9]: training epoch 12 ...
00:05:46 - process[9] - epoch 12 - train iter 197 - 15078.6 words/s - loss: 0.3921
00:05:46 - process[9]: evaluating epoch 12 on dev ...
00:06:29 - dev set during evaluation: 14160/14157
00:06:29 - process[9] - dev - epoch 12 - mAP: 0.438 w/ 35 queries
00:06:29 - process[9]: training epoch 13 ...
00:06:41 - process[9] - epoch 13 - train iter 197 - 15172.2 words/s - loss: 0.3839
00:06:41 - process[9]: evaluating epoch 13 on dev ...
00:07:25 - dev set during evaluation: 14160/14157
00:07:25 - process[9] - dev - epoch 13 - mAP: 0.444 w/ 35 queries
00:07:25 - process[9]: training epoch 14 ...
00:07:36 - process[9] - epoch 14 - train iter 197 - 16453.7 words/s - loss: 0.4122
00:07:36 - process[9]: evaluating epoch 14 on dev ...
00:08:21 - dev set during evaluation: 14160/14157
00:08:21 - process[9] - dev - epoch 14 - mAP: 0.448 w/ 35 queries
00:08:21 - process[9]: training epoch 15 ...
00:08:32 - process[9] - epoch 15 - train iter 197 - 15989.4 words/s - loss: 0.4592
00:08:32 - process[9]: evaluating epoch 15 on dev ...
00:09:16 - dev set during evaluation: 14160/14157
00:09:16 - process[9] - dev - epoch 15 - mAP: 0.425 w/ 35 queries
00:09:16 - process[9]: training epoch 16 ...
00:09:26 - process[9] - epoch 16 - train iter 197 - 17267.2 words/s - loss: 0.3912
00:09:26 - process[9]: evaluating epoch 16 on dev ...
00:10:11 - dev set during evaluation: 14160/14157
00:10:11 - process[9] - dev - epoch 16 - mAP: 0.474 w/ 35 queries
00:10:11 - process[9]: evaluating epoch 16 on test ...
00:10:53 - test set during evaluation: 14980/14975
00:10:53 - process[9] - test - epoch 16 - mAP: 0.465 w/ 35 queries
00:10:53 - process[9]: training epoch 17 ...
00:11:05 - process[9] - epoch 17 - train iter 197 - 14601.6 words/s - loss: 0.4030
00:11:05 - process[9]: evaluating epoch 17 on dev ...
00:11:49 - dev set during evaluation: 14160/14157
00:11:49 - process[9] - dev - epoch 17 - mAP: 0.418 w/ 35 queries
00:11:49 - process[9]: training epoch 18 ...
00:12:00 - process[9] - epoch 18 - train iter 197 - 15451.0 words/s - loss: 0.4103
00:12:00 - process[9]: evaluating epoch 18 on dev ...
00:12:44 - dev set during evaluation: 14160/14157
00:12:44 - process[9] - dev - epoch 18 - mAP: 0.450 w/ 35 queries
00:12:44 - process[9]: training epoch 19 ...
00:12:54 - process[9] - epoch 19 - train iter 197 - 16825.8 words/s - loss: 0.3429
00:12:54 - process[9]: evaluating epoch 19 on dev ...
00:13:41 - dev set during evaluation: 14160/14157
00:13:41 - process[9] - dev - epoch 19 - mAP: 0.462 w/ 35 queries
00:13:41 - [fold 1] best test MAP: 0.465 @ epoch 16
00:13:41 - Evaluating every 1 epochs ...
00:13:41 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:13:41 - test has 36 queries ...
00:13:41 - Data reading done ...
00:13:43 - adding 9-th encoder to optimizer...
00:13:43 - adding 10-th encoder to optimizer...
00:13:43 - adding 11-th encoder to optimizer...
00:13:43 - process[9]: training epoch 0 ...
00:13:55 - process[9] - epoch 0 - train iter 187 - 15756.4 words/s - loss: 0.6772
00:13:55 - process[9]: training epoch 1 ...
00:14:06 - process[9] - epoch 1 - train iter 187 - 15281.5 words/s - loss: 0.5590
00:14:06 - process[9]: training epoch 2 ...
00:14:16 - process[9] - epoch 2 - train iter 187 - 16847.7 words/s - loss: 0.5803
00:14:16 - process[9]: training epoch 3 ...
00:14:27 - process[9] - epoch 3 - train iter 187 - 15474.0 words/s - loss: 0.4765
00:14:27 - process[9]: training epoch 4 ...
00:14:37 - process[9] - epoch 4 - train iter 187 - 16390.6 words/s - loss: 0.5263
00:14:37 - process[9]: training epoch 5 ...
00:14:47 - process[9] - epoch 5 - train iter 187 - 17822.3 words/s - loss: 0.4762
00:14:47 - process[9]: training epoch 6 ...
00:14:57 - process[9] - epoch 6 - train iter 187 - 16612.3 words/s - loss: 0.4821
00:14:57 - process[9]: training epoch 7 ...
00:15:08 - process[9] - epoch 7 - train iter 187 - 16125.8 words/s - loss: 0.4935
00:15:08 - process[9]: training epoch 8 ...
00:15:18 - process[9] - epoch 8 - train iter 187 - 16072.0 words/s - loss: 0.4659
00:15:18 - process[9]: training epoch 9 ...
00:15:28 - process[9] - epoch 9 - train iter 187 - 17832.4 words/s - loss: 0.5051
00:15:28 - process[9]: training epoch 10 ...
00:15:38 - process[9] - epoch 10 - train iter 187 - 16493.2 words/s - loss: 0.4410
00:15:38 - process[9]: evaluating epoch 10 on dev ...
00:16:17 - dev set during evaluation: 14980/14975
00:16:17 - process[9] - dev - epoch 10 - mAP: 0.433 w/ 35 queries
00:16:17 - process[9]: evaluating epoch 10 on test ...
00:17:00 - test set during evaluation: 15300/15294
00:17:00 - process[9] - test - epoch 10 - mAP: 0.474 w/ 36 queries
00:17:00 - process[9]: training epoch 11 ...
00:17:12 - process[9] - epoch 11 - train iter 187 - 15754.6 words/s - loss: 0.4633
00:17:12 - process[9]: evaluating epoch 11 on dev ...
00:17:52 - dev set during evaluation: 14980/14975
00:17:52 - process[9] - dev - epoch 11 - mAP: 0.408 w/ 35 queries
00:17:52 - process[9]: training epoch 12 ...
00:18:03 - process[9] - epoch 12 - train iter 187 - 15234.8 words/s - loss: 0.4529
00:18:03 - process[9]: evaluating epoch 12 on dev ...
00:18:43 - dev set during evaluation: 14980/14975
00:18:43 - process[9] - dev - epoch 12 - mAP: 0.412 w/ 35 queries
00:18:43 - process[9]: training epoch 13 ...
00:18:54 - process[9] - epoch 13 - train iter 187 - 15894.6 words/s - loss: 0.4575
00:18:54 - process[9]: evaluating epoch 13 on dev ...
00:19:34 - dev set during evaluation: 14980/14975
00:19:34 - process[9] - dev - epoch 13 - mAP: 0.416 w/ 35 queries
00:19:34 - process[9]: training epoch 14 ...
00:19:45 - process[9] - epoch 14 - train iter 187 - 15365.3 words/s - loss: 0.4092
00:19:45 - process[9]: evaluating epoch 14 on dev ...
00:20:26 - dev set during evaluation: 14980/14975
00:20:26 - process[9] - dev - epoch 14 - mAP: 0.397 w/ 35 queries
00:20:26 - process[9]: training epoch 15 ...
00:20:36 - process[9] - epoch 15 - train iter 187 - 17409.5 words/s - loss: 0.3913
00:20:36 - process[9]: evaluating epoch 15 on dev ...
00:21:17 - dev set during evaluation: 14980/14975
00:21:17 - process[9] - dev - epoch 15 - mAP: 0.424 w/ 35 queries
00:21:17 - process[9]: training epoch 16 ...
00:21:27 - process[9] - epoch 16 - train iter 187 - 18031.5 words/s - loss: 0.4310
00:21:27 - process[9]: evaluating epoch 16 on dev ...
00:22:09 - dev set during evaluation: 14980/14975
00:22:09 - process[9] - dev - epoch 16 - mAP: 0.385 w/ 35 queries
00:22:09 - process[9]: training epoch 17 ...
00:22:19 - process[9] - epoch 17 - train iter 187 - 16798.4 words/s - loss: 0.3857
00:22:19 - process[9]: evaluating epoch 17 on dev ...
00:23:00 - dev set during evaluation: 14980/14975
00:23:00 - process[9] - dev - epoch 17 - mAP: 0.447 w/ 35 queries
00:23:00 - process[9]: evaluating epoch 17 on test ...
00:23:43 - test set during evaluation: 15300/15294
00:23:43 - process[9] - test - epoch 17 - mAP: 0.466 w/ 36 queries
00:23:43 - process[9]: training epoch 18 ...
00:23:53 - process[9] - epoch 18 - train iter 187 - 17318.2 words/s - loss: 0.3919
00:23:53 - process[9]: evaluating epoch 18 on dev ...
00:24:35 - dev set during evaluation: 14980/14975
00:24:35 - process[9] - dev - epoch 18 - mAP: 0.412 w/ 35 queries
00:24:35 - process[9]: training epoch 19 ...
00:24:44 - process[9] - epoch 19 - train iter 187 - 17509.4 words/s - loss: 0.3814
00:24:44 - process[9]: evaluating epoch 19 on dev ...
00:25:26 - dev set during evaluation: 14980/14975
00:25:26 - process[9] - dev - epoch 19 - mAP: 0.431 w/ 35 queries
00:25:26 - [fold 2] best test MAP: 0.466 @ epoch 17
00:25:26 - Evaluating every 1 epochs ...
00:25:26 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:25:27 - test has 35 queries ...
00:25:27 - Data reading done ...
00:25:28 - adding 9-th encoder to optimizer...
00:25:28 - adding 10-th encoder to optimizer...
00:25:28 - adding 11-th encoder to optimizer...
00:25:29 - process[9]: training epoch 0 ...
00:25:40 - process[9] - epoch 0 - train iter 196 - 15696.5 words/s - loss: 0.6789
00:25:40 - process[9]: training epoch 1 ...
00:25:51 - process[9] - epoch 1 - train iter 196 - 17041.8 words/s - loss: 0.5838
00:25:51 - process[9]: training epoch 2 ...
00:26:01 - process[9] - epoch 2 - train iter 196 - 16882.2 words/s - loss: 0.5626
00:26:01 - process[9]: training epoch 3 ...
00:26:13 - process[9] - epoch 3 - train iter 196 - 14488.7 words/s - loss: 0.5279
00:26:13 - process[9]: training epoch 4 ...
00:26:24 - process[9] - epoch 4 - train iter 196 - 16340.0 words/s - loss: 0.4742
00:26:24 - process[9]: training epoch 5 ...
00:26:34 - process[9] - epoch 5 - train iter 196 - 16824.4 words/s - loss: 0.4665
00:26:34 - process[9]: training epoch 6 ...
00:26:44 - process[9] - epoch 6 - train iter 196 - 18558.1 words/s - loss: 0.4702
00:26:44 - process[9]: training epoch 7 ...
00:26:55 - process[9] - epoch 7 - train iter 196 - 15931.4 words/s - loss: 0.4427
00:26:55 - process[9]: training epoch 8 ...
00:27:05 - process[9] - epoch 8 - train iter 196 - 17816.2 words/s - loss: 0.4802
00:27:05 - process[9]: training epoch 9 ...
00:27:15 - process[9] - epoch 9 - train iter 196 - 17047.2 words/s - loss: 0.4734
00:27:15 - process[9]: training epoch 10 ...
00:27:25 - process[9] - epoch 10 - train iter 196 - 17360.9 words/s - loss: 0.4446
00:27:25 - process[9]: evaluating epoch 10 on dev ...
00:28:09 - dev set during evaluation: 15300/15294
00:28:09 - process[9] - dev - epoch 10 - mAP: 0.428 w/ 36 queries
00:28:09 - process[9]: evaluating epoch 10 on test ...
00:28:52 - test set during evaluation: 15480/15477
00:28:52 - process[9] - test - epoch 10 - mAP: 0.343 w/ 35 queries
00:28:52 - process[9]: training epoch 11 ...
00:29:03 - process[9] - epoch 11 - train iter 196 - 16307.9 words/s - loss: 0.3935
00:29:03 - process[9]: evaluating epoch 11 on dev ...
00:29:45 - dev set during evaluation: 15300/15294
00:29:45 - process[9] - dev - epoch 11 - mAP: 0.452 w/ 36 queries
00:29:45 - process[9]: evaluating epoch 11 on test ...
00:30:27 - test set during evaluation: 15480/15477
00:30:27 - process[9] - test - epoch 11 - mAP: 0.361 w/ 35 queries
00:30:27 - process[9]: training epoch 12 ...
00:30:38 - process[9] - epoch 12 - train iter 196 - 17141.3 words/s - loss: 0.4252
00:30:38 - process[9]: evaluating epoch 12 on dev ...
00:31:20 - dev set during evaluation: 15300/15294
00:31:20 - process[9] - dev - epoch 12 - mAP: 0.438 w/ 36 queries
00:31:20 - process[9]: training epoch 13 ...
00:31:31 - process[9] - epoch 13 - train iter 196 - 16865.6 words/s - loss: 0.4019
00:31:31 - process[9]: evaluating epoch 13 on dev ...
00:32:14 - dev set during evaluation: 15300/15294
00:32:14 - process[9] - dev - epoch 13 - mAP: 0.447 w/ 36 queries
00:32:14 - process[9]: training epoch 14 ...
00:32:24 - process[9] - epoch 14 - train iter 196 - 17956.2 words/s - loss: 0.4270
00:32:24 - process[9]: evaluating epoch 14 on dev ...
00:33:07 - dev set during evaluation: 15300/15294
00:33:07 - process[9] - dev - epoch 14 - mAP: 0.467 w/ 36 queries
00:33:07 - process[9]: evaluating epoch 14 on test ...
00:33:49 - test set during evaluation: 15480/15477
00:33:49 - process[9] - test - epoch 14 - mAP: 0.386 w/ 35 queries
00:33:49 - process[9]: training epoch 15 ...
00:33:58 - process[9] - epoch 15 - train iter 196 - 18830.3 words/s - loss: 0.4115
00:33:58 - process[9]: evaluating epoch 15 on dev ...
00:34:42 - dev set during evaluation: 15300/15294
00:34:42 - process[9] - dev - epoch 15 - mAP: 0.477 w/ 36 queries
00:34:42 - process[9]: evaluating epoch 15 on test ...
00:35:24 - test set during evaluation: 15480/15477
00:35:24 - process[9] - test - epoch 15 - mAP: 0.378 w/ 35 queries
00:35:24 - process[9]: training epoch 16 ...
00:35:34 - process[9] - epoch 16 - train iter 196 - 18159.2 words/s - loss: 0.4291
00:35:34 - process[9]: evaluating epoch 16 on dev ...
00:36:17 - dev set during evaluation: 15300/15294
00:36:17 - process[9] - dev - epoch 16 - mAP: 0.447 w/ 36 queries
00:36:17 - process[9]: training epoch 17 ...
00:36:26 - process[9] - epoch 17 - train iter 196 - 18420.9 words/s - loss: 0.4303
00:36:26 - process[9]: evaluating epoch 17 on dev ...
00:37:09 - dev set during evaluation: 15300/15294
00:37:09 - process[9] - dev - epoch 17 - mAP: 0.413 w/ 36 queries
00:37:09 - process[9]: training epoch 18 ...
00:37:19 - process[9] - epoch 18 - train iter 196 - 19217.8 words/s - loss: 0.4228
00:37:19 - process[9]: evaluating epoch 18 on dev ...
00:38:03 - dev set during evaluation: 15300/15294
00:38:03 - process[9] - dev - epoch 18 - mAP: 0.453 w/ 36 queries
00:38:03 - process[9]: training epoch 19 ...
00:38:13 - process[9] - epoch 19 - train iter 196 - 17818.1 words/s - loss: 0.3933
00:38:13 - process[9]: evaluating epoch 19 on dev ...
00:38:56 - dev set during evaluation: 15300/15294
00:38:56 - process[9] - dev - epoch 19 - mAP: 0.437 w/ 36 queries
00:38:56 - [fold 3] best test MAP: 0.378 @ epoch 15
00:38:56 - Evaluating every 1 epochs ...
00:38:56 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:38:56 - test has 35 queries ...
00:38:56 - Data reading done ...
00:38:58 - adding 9-th encoder to optimizer...
00:38:58 - adding 10-th encoder to optimizer...
00:38:58 - adding 11-th encoder to optimizer...
00:38:58 - process[9]: training epoch 0 ...
00:39:08 - process[9] - epoch 0 - train iter 207 - 19052.1 words/s - loss: 0.6862
00:39:08 - process[9]: training epoch 1 ...
00:39:19 - process[9] - epoch 1 - train iter 207 - 18147.8 words/s - loss: 0.5589
00:39:19 - process[9]: training epoch 2 ...
00:39:29 - process[9] - epoch 2 - train iter 207 - 17147.5 words/s - loss: 0.4982
00:39:29 - process[9]: training epoch 3 ...
00:39:41 - process[9] - epoch 3 - train iter 207 - 16352.6 words/s - loss: 0.4483
00:39:41 - process[9]: training epoch 4 ...
00:39:53 - process[9] - epoch 4 - train iter 207 - 15088.2 words/s - loss: 0.4911
00:39:53 - process[9]: training epoch 5 ...
00:40:05 - process[9] - epoch 5 - train iter 207 - 16770.5 words/s - loss: 0.4246
00:40:05 - process[9]: training epoch 6 ...
00:40:15 - process[9] - epoch 6 - train iter 207 - 17683.5 words/s - loss: 0.4382
00:40:15 - process[9]: training epoch 7 ...
00:40:26 - process[9] - epoch 7 - train iter 207 - 17657.1 words/s - loss: 0.4207
00:40:26 - process[9]: training epoch 8 ...
00:40:37 - process[9] - epoch 8 - train iter 207 - 16516.1 words/s - loss: 0.4406
00:40:37 - process[9]: training epoch 9 ...
00:40:49 - process[9] - epoch 9 - train iter 207 - 16584.9 words/s - loss: 0.3767
00:40:49 - process[9]: training epoch 10 ...
00:41:01 - process[9] - epoch 10 - train iter 207 - 16021.5 words/s - loss: 0.4052
00:41:01 - process[9]: evaluating epoch 10 on dev ...
00:41:48 - dev set during evaluation: 15480/15477
00:41:48 - process[9] - dev - epoch 10 - mAP: 0.389 w/ 35 queries
00:41:48 - process[9]: evaluating epoch 10 on test ...
00:42:30 - test set during evaluation: 14470/14463
00:42:30 - process[9] - test - epoch 10 - mAP: 0.414 w/ 35 queries
00:42:30 - process[9]: training epoch 11 ...
00:42:41 - process[9] - epoch 11 - train iter 207 - 16625.3 words/s - loss: 0.4089
00:42:41 - process[9]: evaluating epoch 11 on dev ...
00:43:23 - dev set during evaluation: 15480/15477
00:43:23 - process[9] - dev - epoch 11 - mAP: 0.358 w/ 35 queries
00:43:23 - process[9]: training epoch 12 ...
00:43:34 - process[9] - epoch 12 - train iter 207 - 17815.7 words/s - loss: 0.3985
00:43:34 - process[9]: evaluating epoch 12 on dev ...
00:44:17 - dev set during evaluation: 15480/15477
00:44:17 - process[9] - dev - epoch 12 - mAP: 0.371 w/ 35 queries
00:44:17 - process[9]: training epoch 13 ...
00:44:28 - process[9] - epoch 13 - train iter 207 - 17911.9 words/s - loss: 0.4042
00:44:28 - process[9]: evaluating epoch 13 on dev ...
00:45:12 - dev set during evaluation: 15480/15477
00:45:12 - process[9] - dev - epoch 13 - mAP: 0.357 w/ 35 queries
00:45:12 - process[9]: training epoch 14 ...
00:45:22 - process[9] - epoch 14 - train iter 207 - 18024.9 words/s - loss: 0.3756
00:45:22 - process[9]: evaluating epoch 14 on dev ...
00:46:07 - dev set during evaluation: 15480/15477
00:46:07 - process[9] - dev - epoch 14 - mAP: 0.404 w/ 35 queries
00:46:07 - process[9]: evaluating epoch 14 on test ...
00:46:50 - test set during evaluation: 14470/14463
00:46:50 - process[9] - test - epoch 14 - mAP: 0.433 w/ 35 queries
00:46:50 - process[9]: training epoch 15 ...
00:47:02 - process[9] - epoch 15 - train iter 207 - 15070.0 words/s - loss: 0.3886
00:47:02 - process[9]: evaluating epoch 15 on dev ...
00:47:42 - dev set during evaluation: 15480/15477
00:47:42 - process[9] - dev - epoch 15 - mAP: 0.398 w/ 35 queries
00:47:42 - process[9]: training epoch 16 ...
00:47:53 - process[9] - epoch 16 - train iter 207 - 17736.9 words/s - loss: 0.3747
00:47:53 - process[9]: evaluating epoch 16 on dev ...
00:48:36 - dev set during evaluation: 15480/15477
00:48:36 - process[9] - dev - epoch 16 - mAP: 0.382 w/ 35 queries
00:48:36 - process[9]: training epoch 17 ...
00:48:47 - process[9] - epoch 17 - train iter 207 - 18084.7 words/s - loss: 0.3982
00:48:47 - process[9]: evaluating epoch 17 on dev ...
00:49:31 - dev set during evaluation: 15480/15477
00:49:31 - process[9] - dev - epoch 17 - mAP: 0.407 w/ 35 queries
00:49:31 - process[9]: evaluating epoch 17 on test ...
00:50:13 - test set during evaluation: 14470/14463
00:50:13 - process[9] - test - epoch 17 - mAP: 0.419 w/ 35 queries
00:50:13 - process[9]: training epoch 18 ...
00:50:24 - process[9] - epoch 18 - train iter 207 - 17234.4 words/s - loss: 0.3804
00:50:24 - process[9]: evaluating epoch 18 on dev ...
00:51:06 - dev set during evaluation: 15480/15477
00:51:07 - process[9] - dev - epoch 18 - mAP: 0.410 w/ 35 queries
00:51:07 - process[9]: evaluating epoch 18 on test ...
00:51:49 - test set during evaluation: 14470/14463
00:51:49 - process[9] - test - epoch 18 - mAP: 0.421 w/ 35 queries
00:51:49 - process[9]: training epoch 19 ...
00:52:00 - process[9] - epoch 19 - train iter 207 - 17326.1 words/s - loss: 0.3872
00:52:00 - process[9]: evaluating epoch 19 on dev ...
00:52:43 - dev set during evaluation: 15480/15477
00:52:43 - process[9] - dev - epoch 19 - mAP: 0.399 w/ 35 queries
00:52:43 - [fold 4] best test MAP: 0.421 @ epoch 18
00:52:43 - Evaluating every 1 epochs ...
00:52:43 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:52:43 - test has 35 queries ...
00:52:43 - Data reading done ...
00:52:45 - adding 9-th encoder to optimizer...
00:52:45 - adding 10-th encoder to optimizer...
00:52:45 - adding 11-th encoder to optimizer...
00:52:45 - process[9]: training epoch 0 ...
00:52:55 - process[9] - epoch 0 - train iter 195 - 17953.6 words/s - loss: 0.6784
00:52:55 - process[9]: training epoch 1 ...
00:53:07 - process[9] - epoch 1 - train iter 195 - 14994.2 words/s - loss: 0.5403
00:53:07 - process[9]: training epoch 2 ...
00:53:17 - process[9] - epoch 2 - train iter 195 - 16949.6 words/s - loss: 0.5054
00:53:17 - process[9]: training epoch 3 ...
00:53:29 - process[9] - epoch 3 - train iter 195 - 15133.6 words/s - loss: 0.4953
00:53:29 - process[9]: training epoch 4 ...
00:53:39 - process[9] - epoch 4 - train iter 195 - 16458.9 words/s - loss: 0.4300
00:53:39 - process[9]: training epoch 5 ...
00:53:49 - process[9] - epoch 5 - train iter 195 - 16563.5 words/s - loss: 0.4196
00:53:49 - process[9]: training epoch 6 ...
00:54:00 - process[9] - epoch 6 - train iter 195 - 16422.8 words/s - loss: 0.4593
00:54:00 - process[9]: training epoch 7 ...
00:54:11 - process[9] - epoch 7 - train iter 195 - 16796.0 words/s - loss: 0.4249
00:54:11 - process[9]: training epoch 8 ...
00:54:21 - process[9] - epoch 8 - train iter 195 - 15530.5 words/s - loss: 0.4610
00:54:21 - process[9]: training epoch 9 ...
00:54:33 - process[9] - epoch 9 - train iter 195 - 15114.6 words/s - loss: 0.3884
00:54:33 - process[9]: training epoch 10 ...
00:54:44 - process[9] - epoch 10 - train iter 195 - 17026.8 words/s - loss: 0.3809
00:54:44 - process[9]: evaluating epoch 10 on dev ...
00:55:29 - dev set during evaluation: 14470/14463
00:55:29 - process[9] - dev - epoch 10 - mAP: 0.408 w/ 35 queries
00:55:29 - process[9]: evaluating epoch 10 on test ...
00:56:15 - test set during evaluation: 14160/14157
00:56:15 - process[9] - test - epoch 10 - mAP: 0.448 w/ 35 queries
00:56:15 - process[9]: training epoch 11 ...
00:56:26 - process[9] - epoch 11 - train iter 195 - 16137.4 words/s - loss: 0.3629
00:56:26 - process[9]: evaluating epoch 11 on dev ...
00:57:09 - dev set during evaluation: 14470/14463
00:57:09 - process[9] - dev - epoch 11 - mAP: 0.428 w/ 35 queries
00:57:09 - process[9]: evaluating epoch 11 on test ...
00:57:55 - test set during evaluation: 14160/14157
00:57:55 - process[9] - test - epoch 11 - mAP: 0.450 w/ 35 queries
00:57:55 - process[9]: training epoch 12 ...
00:58:06 - process[9] - epoch 12 - train iter 195 - 15777.3 words/s - loss: 0.4122
00:58:06 - process[9]: evaluating epoch 12 on dev ...
00:58:48 - dev set during evaluation: 14470/14463
00:58:48 - process[9] - dev - epoch 12 - mAP: 0.363 w/ 35 queries
00:58:48 - process[9]: training epoch 13 ...
00:58:59 - process[9] - epoch 13 - train iter 195 - 15803.2 words/s - loss: 0.4216
00:58:59 - process[9]: evaluating epoch 13 on dev ...
00:59:40 - dev set during evaluation: 14470/14463
00:59:40 - process[9] - dev - epoch 13 - mAP: 0.420 w/ 35 queries
00:59:41 - process[9]: training epoch 14 ...
00:59:50 - process[9] - epoch 14 - train iter 195 - 17740.9 words/s - loss: 0.4016
00:59:50 - process[9]: evaluating epoch 14 on dev ...
01:00:34 - dev set during evaluation: 14470/14463
01:00:34 - process[9] - dev - epoch 14 - mAP: 0.380 w/ 35 queries
01:00:34 - process[9]: training epoch 15 ...
01:00:45 - process[9] - epoch 15 - train iter 195 - 15689.1 words/s - loss: 0.3631
01:00:45 - process[9]: evaluating epoch 15 on dev ...
01:01:26 - dev set during evaluation: 14470/14463
01:01:26 - process[9] - dev - epoch 15 - mAP: 0.419 w/ 35 queries
01:01:26 - process[9]: training epoch 16 ...
01:01:38 - process[9] - epoch 16 - train iter 195 - 15538.5 words/s - loss: 0.3210
01:01:38 - process[9]: evaluating epoch 16 on dev ...
01:02:20 - dev set during evaluation: 14470/14463
01:02:20 - process[9] - dev - epoch 16 - mAP: 0.397 w/ 35 queries
01:02:20 - process[9]: training epoch 17 ...
01:02:30 - process[9] - epoch 17 - train iter 195 - 17695.0 words/s - loss: 0.3931
01:02:30 - process[9]: evaluating epoch 17 on dev ...
01:03:14 - dev set during evaluation: 14470/14463
01:03:14 - process[9] - dev - epoch 17 - mAP: 0.424 w/ 35 queries
01:03:14 - process[9]: training epoch 18 ...
01:03:26 - process[9] - epoch 18 - train iter 195 - 15065.0 words/s - loss: 0.4036
01:03:26 - process[9]: evaluating epoch 18 on dev ...
01:04:07 - dev set during evaluation: 14470/14463
01:04:07 - process[9] - dev - epoch 18 - mAP: 0.437 w/ 35 queries
01:04:07 - process[9]: evaluating epoch 18 on test ...
01:04:52 - test set during evaluation: 14160/14157
01:04:52 - process[9] - test - epoch 18 - mAP: 0.502 w/ 35 queries
01:04:52 - process[9]: training epoch 19 ...
01:05:02 - process[9] - epoch 19 - train iter 195 - 16809.2 words/s - loss: 0.3720
01:05:02 - process[9]: evaluating epoch 19 on dev ...
01:05:45 - dev set during evaluation: 14470/14463
01:05:45 - process[9] - dev - epoch 19 - mAP: 0.414 w/ 35 queries
01:05:45 - [fold 5] best test MAP: 0.502 @ epoch 18
01:05:45 - [0.464781992451358, 0.4656934259293555, 0.3780185096846725, 0.4210434804205224, 0.5021146210870805]
01:05:45 - [35, 36, 35, 35, 35]
01:05:45 - final MAP: 0.446
