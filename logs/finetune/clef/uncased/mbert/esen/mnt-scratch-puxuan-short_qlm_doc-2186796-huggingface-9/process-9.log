00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=9, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-9', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:14 - Evaluating every 1 epochs ...
00:00:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 35 queries ...
00:00:15 - Data reading done ...
00:00:20 - adding 9-th encoder to optimizer...
00:00:20 - adding 10-th encoder to optimizer...
00:00:20 - adding 11-th encoder to optimizer...
00:00:21 - process[9]: training epoch 0 ...
00:00:32 - process[9] - epoch 0 - train iter 197 - 16455.5 words/s - loss: 0.6860
00:00:32 - process[9]: training epoch 1 ...
00:00:43 - process[9] - epoch 1 - train iter 197 - 15513.4 words/s - loss: 0.6383
00:00:43 - process[9]: training epoch 2 ...
00:00:53 - process[9] - epoch 2 - train iter 197 - 18970.7 words/s - loss: 0.6358
00:00:53 - process[9]: training epoch 3 ...
00:01:04 - process[9] - epoch 3 - train iter 197 - 16288.4 words/s - loss: 0.6304
00:01:04 - process[9]: training epoch 4 ...
00:01:14 - process[9] - epoch 4 - train iter 197 - 16963.3 words/s - loss: 0.5327
00:01:14 - process[9]: training epoch 5 ...
00:01:25 - process[9] - epoch 5 - train iter 197 - 15818.6 words/s - loss: 0.5403
00:01:25 - process[9]: training epoch 6 ...
00:01:36 - process[9] - epoch 6 - train iter 197 - 16602.1 words/s - loss: 0.4768
00:01:36 - process[9]: training epoch 7 ...
00:01:46 - process[9] - epoch 7 - train iter 197 - 17773.9 words/s - loss: 0.5315
00:01:46 - process[9]: training epoch 8 ...
00:01:58 - process[9] - epoch 8 - train iter 197 - 15406.2 words/s - loss: 0.4867
00:01:58 - process[9]: training epoch 9 ...
00:02:11 - process[9] - epoch 9 - train iter 197 - 13760.3 words/s - loss: 0.4977
00:02:11 - process[9]: training epoch 10 ...
00:02:21 - process[9] - epoch 10 - train iter 197 - 16487.4 words/s - loss: 0.4834
00:02:21 - process[9]: evaluating epoch 10 on dev ...
00:03:09 - dev set during evaluation: 14160/14157
00:03:09 - process[9] - dev - epoch 10 - mAP: 0.342 w/ 35 queries
00:03:09 - process[9]: evaluating epoch 10 on test ...
00:03:51 - test set during evaluation: 14980/14975
00:03:51 - process[9] - test - epoch 10 - mAP: 0.341 w/ 35 queries
00:03:51 - process[9]: training epoch 11 ...
00:04:02 - process[9] - epoch 11 - train iter 197 - 16347.5 words/s - loss: 0.5314
00:04:02 - process[9]: evaluating epoch 11 on dev ...
00:04:49 - dev set during evaluation: 14160/14157
00:04:49 - process[9] - dev - epoch 11 - mAP: 0.316 w/ 35 queries
00:04:49 - process[9]: training epoch 12 ...
00:05:01 - process[9] - epoch 12 - train iter 197 - 15100.5 words/s - loss: 0.4549
00:05:01 - process[9]: evaluating epoch 12 on dev ...
00:05:43 - dev set during evaluation: 14160/14157
00:05:43 - process[9] - dev - epoch 12 - mAP: 0.354 w/ 35 queries
00:05:43 - process[9]: evaluating epoch 12 on test ...
00:06:24 - test set during evaluation: 14980/14975
00:06:24 - process[9] - test - epoch 12 - mAP: 0.339 w/ 35 queries
00:06:24 - process[9]: training epoch 13 ...
00:06:36 - process[9] - epoch 13 - train iter 197 - 15300.0 words/s - loss: 0.4721
00:06:36 - process[9]: evaluating epoch 13 on dev ...
00:07:20 - dev set during evaluation: 14160/14157
00:07:20 - process[9] - dev - epoch 13 - mAP: 0.366 w/ 35 queries
00:07:20 - process[9]: evaluating epoch 13 on test ...
00:08:01 - test set during evaluation: 14980/14975
00:08:01 - process[9] - test - epoch 13 - mAP: 0.348 w/ 35 queries
00:08:01 - process[9]: training epoch 14 ...
00:08:12 - process[9] - epoch 14 - train iter 197 - 16423.7 words/s - loss: 0.4295
00:08:12 - process[9]: evaluating epoch 14 on dev ...
00:08:56 - dev set during evaluation: 14160/14157
00:08:56 - process[9] - dev - epoch 14 - mAP: 0.343 w/ 35 queries
00:08:56 - process[9]: training epoch 15 ...
00:09:08 - process[9] - epoch 15 - train iter 197 - 16028.0 words/s - loss: 0.4755
00:09:08 - process[9]: evaluating epoch 15 on dev ...
00:09:51 - dev set during evaluation: 14160/14157
00:09:51 - process[9] - dev - epoch 15 - mAP: 0.350 w/ 35 queries
00:09:51 - process[9]: training epoch 16 ...
00:10:02 - process[9] - epoch 16 - train iter 197 - 17255.8 words/s - loss: 0.4389
00:10:02 - process[9]: evaluating epoch 16 on dev ...
00:10:47 - dev set during evaluation: 14160/14157
00:10:47 - process[9] - dev - epoch 16 - mAP: 0.373 w/ 35 queries
00:10:47 - process[9]: evaluating epoch 16 on test ...
00:11:28 - test set during evaluation: 14980/14975
00:11:28 - process[9] - test - epoch 16 - mAP: 0.351 w/ 35 queries
00:11:28 - process[9]: training epoch 17 ...
00:11:40 - process[9] - epoch 17 - train iter 197 - 14688.0 words/s - loss: 0.4720
00:11:40 - process[9]: evaluating epoch 17 on dev ...
00:12:24 - dev set during evaluation: 14160/14157
00:12:24 - process[9] - dev - epoch 17 - mAP: 0.337 w/ 35 queries
00:12:24 - process[9]: training epoch 18 ...
00:12:35 - process[9] - epoch 18 - train iter 197 - 15531.7 words/s - loss: 0.4478
00:12:35 - process[9]: evaluating epoch 18 on dev ...
00:13:18 - dev set during evaluation: 14160/14157
00:13:18 - process[9] - dev - epoch 18 - mAP: 0.349 w/ 35 queries
00:13:18 - process[9]: training epoch 19 ...
00:13:28 - process[9] - epoch 19 - train iter 197 - 16932.8 words/s - loss: 0.3776
00:13:28 - process[9]: evaluating epoch 19 on dev ...
00:14:15 - dev set during evaluation: 14160/14157
00:14:15 - process[9] - dev - epoch 19 - mAP: 0.357 w/ 35 queries
00:14:15 - [fold 1] best test MAP: 0.351 @ epoch 16
00:14:15 - Evaluating every 1 epochs ...
00:14:15 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:14:16 - test has 36 queries ...
00:14:16 - Data reading done ...
00:14:17 - adding 9-th encoder to optimizer...
00:14:17 - adding 10-th encoder to optimizer...
00:14:17 - adding 11-th encoder to optimizer...
00:14:18 - process[9]: training epoch 0 ...
00:14:29 - process[9] - epoch 0 - train iter 187 - 15819.1 words/s - loss: 0.6909
00:14:29 - process[9]: training epoch 1 ...
00:14:40 - process[9] - epoch 1 - train iter 187 - 15364.6 words/s - loss: 0.6637
00:14:40 - process[9]: training epoch 2 ...
00:14:50 - process[9] - epoch 2 - train iter 187 - 17028.2 words/s - loss: 0.6194
00:14:50 - process[9]: training epoch 3 ...
00:15:01 - process[9] - epoch 3 - train iter 187 - 15615.4 words/s - loss: 0.5431
00:15:01 - process[9]: training epoch 4 ...
00:15:11 - process[9] - epoch 4 - train iter 187 - 16523.8 words/s - loss: 0.5928
00:15:11 - process[9]: training epoch 5 ...
00:15:21 - process[9] - epoch 5 - train iter 187 - 17996.1 words/s - loss: 0.5260
00:15:21 - process[9]: training epoch 6 ...
00:15:31 - process[9] - epoch 6 - train iter 187 - 16774.7 words/s - loss: 0.5233
00:15:31 - process[9]: training epoch 7 ...
00:15:41 - process[9] - epoch 7 - train iter 187 - 16250.5 words/s - loss: 0.5125
00:15:41 - process[9]: training epoch 8 ...
00:15:51 - process[9] - epoch 8 - train iter 187 - 16167.7 words/s - loss: 0.4816
00:15:51 - process[9]: training epoch 9 ...
00:16:01 - process[9] - epoch 9 - train iter 187 - 18087.2 words/s - loss: 0.5524
00:16:01 - process[9]: training epoch 10 ...
00:16:11 - process[9] - epoch 10 - train iter 187 - 16594.0 words/s - loss: 0.4851
00:16:11 - process[9]: evaluating epoch 10 on dev ...
00:16:50 - dev set during evaluation: 14980/14975
00:16:50 - process[9] - dev - epoch 10 - mAP: 0.377 w/ 35 queries
00:16:50 - process[9]: evaluating epoch 10 on test ...
00:17:33 - test set during evaluation: 15300/15294
00:17:33 - process[9] - test - epoch 10 - mAP: 0.357 w/ 36 queries
00:17:33 - process[9]: training epoch 11 ...
00:17:44 - process[9] - epoch 11 - train iter 187 - 15747.6 words/s - loss: 0.5227
00:17:44 - process[9]: evaluating epoch 11 on dev ...
00:18:23 - dev set during evaluation: 14980/14975
00:18:23 - process[9] - dev - epoch 11 - mAP: 0.322 w/ 35 queries
00:18:23 - process[9]: training epoch 12 ...
00:18:35 - process[9] - epoch 12 - train iter 187 - 15193.6 words/s - loss: 0.4949
00:18:35 - process[9]: evaluating epoch 12 on dev ...
00:19:14 - dev set during evaluation: 14980/14975
00:19:14 - process[9] - dev - epoch 12 - mAP: 0.332 w/ 35 queries
00:19:14 - process[9]: training epoch 13 ...
00:19:25 - process[9] - epoch 13 - train iter 187 - 15989.5 words/s - loss: 0.4851
00:19:25 - process[9]: evaluating epoch 13 on dev ...
00:20:05 - dev set during evaluation: 14980/14975
00:20:05 - process[9] - dev - epoch 13 - mAP: 0.389 w/ 35 queries
00:20:05 - process[9]: evaluating epoch 13 on test ...
00:20:48 - test set during evaluation: 15300/15294
00:20:48 - process[9] - test - epoch 13 - mAP: 0.380 w/ 36 queries
00:20:48 - process[9]: training epoch 14 ...
00:20:59 - process[9] - epoch 14 - train iter 187 - 15310.9 words/s - loss: 0.4553
00:20:59 - process[9]: evaluating epoch 14 on dev ...
00:21:39 - dev set during evaluation: 14980/14975
00:21:39 - process[9] - dev - epoch 14 - mAP: 0.386 w/ 35 queries
00:21:39 - process[9]: training epoch 15 ...
00:21:49 - process[9] - epoch 15 - train iter 187 - 17378.6 words/s - loss: 0.4290
00:21:49 - process[9]: evaluating epoch 15 on dev ...
00:22:30 - dev set during evaluation: 14980/14975
00:22:30 - process[9] - dev - epoch 15 - mAP: 0.395 w/ 35 queries
00:22:30 - process[9]: evaluating epoch 15 on test ...
00:23:12 - test set during evaluation: 15300/15294
00:23:12 - process[9] - test - epoch 15 - mAP: 0.365 w/ 36 queries
00:23:12 - process[9]: training epoch 16 ...
00:23:22 - process[9] - epoch 16 - train iter 187 - 18113.1 words/s - loss: 0.4569
00:23:22 - process[9]: evaluating epoch 16 on dev ...
00:24:03 - dev set during evaluation: 14980/14975
00:24:03 - process[9] - dev - epoch 16 - mAP: 0.368 w/ 35 queries
00:24:03 - process[9]: training epoch 17 ...
00:24:13 - process[9] - epoch 17 - train iter 187 - 16690.8 words/s - loss: 0.4285
00:24:13 - process[9]: evaluating epoch 17 on dev ...
00:24:53 - dev set during evaluation: 14980/14975
00:24:53 - process[9] - dev - epoch 17 - mAP: 0.365 w/ 35 queries
00:24:53 - process[9]: training epoch 18 ...
00:25:03 - process[9] - epoch 18 - train iter 187 - 17440.6 words/s - loss: 0.4475
00:25:03 - process[9]: evaluating epoch 18 on dev ...
00:25:44 - dev set during evaluation: 14980/14975
00:25:44 - process[9] - dev - epoch 18 - mAP: 0.373 w/ 35 queries
00:25:44 - process[9]: training epoch 19 ...
00:25:54 - process[9] - epoch 19 - train iter 187 - 17621.3 words/s - loss: 0.4180
00:25:54 - process[9]: evaluating epoch 19 on dev ...
00:26:35 - dev set during evaluation: 14980/14975
00:26:35 - process[9] - dev - epoch 19 - mAP: 0.398 w/ 35 queries
00:26:35 - process[9]: evaluating epoch 19 on test ...
00:27:18 - test set during evaluation: 15300/15294
00:27:18 - process[9] - test - epoch 19 - mAP: 0.370 w/ 36 queries
00:27:18 - [fold 2] best test MAP: 0.370 @ epoch 19
00:27:18 - Evaluating every 1 epochs ...
00:27:18 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:27:18 - test has 35 queries ...
00:27:18 - Data reading done ...
00:27:20 - adding 9-th encoder to optimizer...
00:27:20 - adding 10-th encoder to optimizer...
00:27:20 - adding 11-th encoder to optimizer...
00:27:20 - process[9]: training epoch 0 ...
00:27:32 - process[9] - epoch 0 - train iter 196 - 15737.6 words/s - loss: 0.6917
00:27:32 - process[9]: training epoch 1 ...
00:27:42 - process[9] - epoch 1 - train iter 196 - 17094.4 words/s - loss: 0.6836
00:27:42 - process[9]: training epoch 2 ...
00:27:52 - process[9] - epoch 2 - train iter 196 - 16965.1 words/s - loss: 0.6420
00:27:52 - process[9]: training epoch 3 ...
00:28:05 - process[9] - epoch 3 - train iter 196 - 14594.8 words/s - loss: 0.6479
00:28:05 - process[9]: training epoch 4 ...
00:28:15 - process[9] - epoch 4 - train iter 196 - 16370.1 words/s - loss: 0.5725
00:28:15 - process[9]: training epoch 5 ...
00:28:26 - process[9] - epoch 5 - train iter 196 - 16924.6 words/s - loss: 0.5597
00:28:26 - process[9]: training epoch 6 ...
00:28:35 - process[9] - epoch 6 - train iter 196 - 18646.6 words/s - loss: 0.5523
00:28:35 - process[9]: training epoch 7 ...
00:28:46 - process[9] - epoch 7 - train iter 196 - 16040.0 words/s - loss: 0.5456
00:28:46 - process[9]: training epoch 8 ...
00:28:56 - process[9] - epoch 8 - train iter 196 - 17820.2 words/s - loss: 0.6001
00:28:56 - process[9]: training epoch 9 ...
00:29:06 - process[9] - epoch 9 - train iter 196 - 17087.4 words/s - loss: 0.4942
00:29:06 - process[9]: training epoch 10 ...
00:29:16 - process[9] - epoch 10 - train iter 196 - 17323.6 words/s - loss: 0.4954
00:29:16 - process[9]: evaluating epoch 10 on dev ...
00:30:00 - dev set during evaluation: 15300/15294
00:30:00 - process[9] - dev - epoch 10 - mAP: 0.334 w/ 36 queries
00:30:00 - process[9]: evaluating epoch 10 on test ...
00:30:42 - test set during evaluation: 15480/15477
00:30:42 - process[9] - test - epoch 10 - mAP: 0.358 w/ 35 queries
00:30:42 - process[9]: training epoch 11 ...
00:30:53 - process[9] - epoch 11 - train iter 196 - 16379.5 words/s - loss: 0.5093
00:30:53 - process[9]: evaluating epoch 11 on dev ...
00:31:35 - dev set during evaluation: 15300/15294
00:31:35 - process[9] - dev - epoch 11 - mAP: 0.337 w/ 36 queries
00:31:35 - process[9]: evaluating epoch 11 on test ...
00:32:18 - test set during evaluation: 15480/15477
00:32:18 - process[9] - test - epoch 11 - mAP: 0.319 w/ 35 queries
00:32:18 - process[9]: training epoch 12 ...
00:32:28 - process[9] - epoch 12 - train iter 196 - 17058.7 words/s - loss: 0.4950
00:32:28 - process[9]: evaluating epoch 12 on dev ...
00:33:11 - dev set during evaluation: 15300/15294
00:33:11 - process[9] - dev - epoch 12 - mAP: 0.358 w/ 36 queries
00:33:11 - process[9]: evaluating epoch 12 on test ...
00:33:53 - test set during evaluation: 15480/15477
00:33:53 - process[9] - test - epoch 12 - mAP: 0.337 w/ 35 queries
00:33:53 - process[9]: training epoch 13 ...
00:34:03 - process[9] - epoch 13 - train iter 196 - 16832.1 words/s - loss: 0.4425
00:34:03 - process[9]: evaluating epoch 13 on dev ...
00:34:46 - dev set during evaluation: 15300/15294
00:34:46 - process[9] - dev - epoch 13 - mAP: 0.348 w/ 36 queries
00:34:46 - process[9]: training epoch 14 ...
00:34:56 - process[9] - epoch 14 - train iter 196 - 17894.4 words/s - loss: 0.4804
00:34:56 - process[9]: evaluating epoch 14 on dev ...
00:35:39 - dev set during evaluation: 15300/15294
00:35:39 - process[9] - dev - epoch 14 - mAP: 0.369 w/ 36 queries
00:35:39 - process[9]: evaluating epoch 14 on test ...
00:36:21 - test set during evaluation: 15480/15477
00:36:21 - process[9] - test - epoch 14 - mAP: 0.329 w/ 35 queries
00:36:21 - process[9]: training epoch 15 ...
00:36:30 - process[9] - epoch 15 - train iter 196 - 19117.9 words/s - loss: 0.4866
00:36:30 - process[9]: evaluating epoch 15 on dev ...
00:37:13 - dev set during evaluation: 15300/15294
00:37:13 - process[9] - dev - epoch 15 - mAP: 0.355 w/ 36 queries
00:37:13 - process[9]: training epoch 16 ...
00:37:23 - process[9] - epoch 16 - train iter 196 - 18311.0 words/s - loss: 0.4478
00:37:23 - process[9]: evaluating epoch 16 on dev ...
00:38:05 - dev set during evaluation: 15300/15294
00:38:05 - process[9] - dev - epoch 16 - mAP: 0.349 w/ 36 queries
00:38:05 - process[9]: training epoch 17 ...
00:38:15 - process[9] - epoch 17 - train iter 196 - 18479.5 words/s - loss: 0.4827
00:38:15 - process[9]: evaluating epoch 17 on dev ...
00:38:58 - dev set during evaluation: 15300/15294
00:38:58 - process[9] - dev - epoch 17 - mAP: 0.373 w/ 36 queries
00:38:58 - process[9]: evaluating epoch 17 on test ...
00:39:40 - test set during evaluation: 15480/15477
00:39:40 - process[9] - test - epoch 17 - mAP: 0.301 w/ 35 queries
00:39:40 - process[9]: training epoch 18 ...
00:39:49 - process[9] - epoch 18 - train iter 196 - 19276.3 words/s - loss: 0.4498
00:39:49 - process[9]: evaluating epoch 18 on dev ...
00:40:33 - dev set during evaluation: 15300/15294
00:40:33 - process[9] - dev - epoch 18 - mAP: 0.346 w/ 36 queries
00:40:33 - process[9]: training epoch 19 ...
00:40:43 - process[9] - epoch 19 - train iter 196 - 17918.2 words/s - loss: 0.4346
00:40:43 - process[9]: evaluating epoch 19 on dev ...
00:41:25 - dev set during evaluation: 15300/15294
00:41:25 - process[9] - dev - epoch 19 - mAP: 0.377 w/ 36 queries
00:41:25 - process[9]: evaluating epoch 19 on test ...
00:42:07 - test set during evaluation: 15480/15477
00:42:07 - process[9] - test - epoch 19 - mAP: 0.320 w/ 35 queries
00:42:07 - [fold 3] best test MAP: 0.320 @ epoch 19
00:42:07 - Evaluating every 1 epochs ...
00:42:07 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:42:08 - test has 35 queries ...
00:42:08 - Data reading done ...
00:42:10 - adding 9-th encoder to optimizer...
00:42:10 - adding 10-th encoder to optimizer...
00:42:10 - adding 11-th encoder to optimizer...
00:42:10 - process[9]: training epoch 0 ...
00:42:20 - process[9] - epoch 0 - train iter 207 - 18908.2 words/s - loss: 0.6914
00:42:20 - process[9]: training epoch 1 ...
00:42:30 - process[9] - epoch 1 - train iter 207 - 17946.4 words/s - loss: 0.6660
00:42:30 - process[9]: training epoch 2 ...
00:42:41 - process[9] - epoch 2 - train iter 207 - 16967.4 words/s - loss: 0.6301
00:42:41 - process[9]: training epoch 3 ...
00:42:53 - process[9] - epoch 3 - train iter 207 - 16147.7 words/s - loss: 0.5897
00:42:53 - process[9]: training epoch 4 ...
00:43:06 - process[9] - epoch 4 - train iter 207 - 14875.4 words/s - loss: 0.6255
00:43:06 - process[9]: training epoch 5 ...
00:43:17 - process[9] - epoch 5 - train iter 207 - 16577.0 words/s - loss: 0.5465
00:43:17 - process[9]: training epoch 6 ...
00:43:28 - process[9] - epoch 6 - train iter 207 - 17494.1 words/s - loss: 0.5336
00:43:28 - process[9]: training epoch 7 ...
00:43:39 - process[9] - epoch 7 - train iter 207 - 17431.1 words/s - loss: 0.5202
00:43:39 - process[9]: training epoch 8 ...
00:43:50 - process[9] - epoch 8 - train iter 207 - 16310.6 words/s - loss: 0.5012
00:43:50 - process[9]: training epoch 9 ...
00:44:02 - process[9] - epoch 9 - train iter 207 - 16402.0 words/s - loss: 0.5109
00:44:02 - process[9]: training epoch 10 ...
00:44:14 - process[9] - epoch 10 - train iter 207 - 15827.5 words/s - loss: 0.4226
00:44:14 - process[9]: evaluating epoch 10 on dev ...
00:44:59 - dev set during evaluation: 15480/15477
00:44:59 - process[9] - dev - epoch 10 - mAP: 0.265 w/ 35 queries
00:44:59 - process[9]: evaluating epoch 10 on test ...
00:45:41 - test set during evaluation: 14470/14463
00:45:41 - process[9] - test - epoch 10 - mAP: 0.256 w/ 35 queries
00:45:41 - process[9]: training epoch 11 ...
00:45:52 - process[9] - epoch 11 - train iter 207 - 16684.2 words/s - loss: 0.4862
00:45:52 - process[9]: evaluating epoch 11 on dev ...
00:46:34 - dev set during evaluation: 15480/15477
00:46:34 - process[9] - dev - epoch 11 - mAP: 0.271 w/ 35 queries
00:46:34 - process[9]: evaluating epoch 11 on test ...
00:47:16 - test set during evaluation: 14470/14463
00:47:16 - process[9] - test - epoch 11 - mAP: 0.288 w/ 35 queries
00:47:16 - process[9]: training epoch 12 ...
00:47:27 - process[9] - epoch 12 - train iter 207 - 17583.1 words/s - loss: 0.4617
00:47:27 - process[9]: evaluating epoch 12 on dev ...
00:48:10 - dev set during evaluation: 15480/15477
00:48:10 - process[9] - dev - epoch 12 - mAP: 0.254 w/ 35 queries
00:48:10 - process[9]: training epoch 13 ...
00:48:20 - process[9] - epoch 13 - train iter 207 - 18126.8 words/s - loss: 0.4661
00:48:20 - process[9]: evaluating epoch 13 on dev ...
00:49:03 - dev set during evaluation: 15480/15477
00:49:03 - process[9] - dev - epoch 13 - mAP: 0.276 w/ 35 queries
00:49:03 - process[9]: evaluating epoch 13 on test ...
00:49:45 - test set during evaluation: 14470/14463
00:49:45 - process[9] - test - epoch 13 - mAP: 0.322 w/ 35 queries
00:49:46 - process[9]: training epoch 14 ...
00:49:56 - process[9] - epoch 14 - train iter 207 - 17926.0 words/s - loss: 0.4456
00:49:56 - process[9]: evaluating epoch 14 on dev ...
00:50:39 - dev set during evaluation: 15480/15477
00:50:39 - process[9] - dev - epoch 14 - mAP: 0.269 w/ 35 queries
00:50:39 - process[9]: training epoch 15 ...
00:50:52 - process[9] - epoch 15 - train iter 207 - 15047.0 words/s - loss: 0.4495
00:50:52 - process[9]: evaluating epoch 15 on dev ...
00:51:32 - dev set during evaluation: 15480/15477
00:51:32 - process[9] - dev - epoch 15 - mAP: 0.259 w/ 35 queries
00:51:32 - process[9]: training epoch 16 ...
00:51:42 - process[9] - epoch 16 - train iter 207 - 17855.0 words/s - loss: 0.4068
00:51:42 - process[9]: evaluating epoch 16 on dev ...
00:52:25 - dev set during evaluation: 15480/15477
00:52:25 - process[9] - dev - epoch 16 - mAP: 0.291 w/ 35 queries
00:52:25 - process[9]: evaluating epoch 16 on test ...
00:53:07 - test set during evaluation: 14470/14463
00:53:07 - process[9] - test - epoch 16 - mAP: 0.283 w/ 35 queries
00:53:07 - process[9]: training epoch 17 ...
00:53:18 - process[9] - epoch 17 - train iter 207 - 18212.1 words/s - loss: 0.4840
00:53:18 - process[9]: evaluating epoch 17 on dev ...
00:54:01 - dev set during evaluation: 15480/15477
00:54:01 - process[9] - dev - epoch 17 - mAP: 0.298 w/ 35 queries
00:54:01 - process[9]: evaluating epoch 17 on test ...
00:54:43 - test set during evaluation: 14470/14463
00:54:43 - process[9] - test - epoch 17 - mAP: 0.337 w/ 35 queries
00:54:43 - process[9]: training epoch 18 ...
00:54:54 - process[9] - epoch 18 - train iter 207 - 17267.3 words/s - loss: 0.4312
00:54:54 - process[9]: evaluating epoch 18 on dev ...
00:55:37 - dev set during evaluation: 15480/15477
00:55:37 - process[9] - dev - epoch 18 - mAP: 0.291 w/ 35 queries
00:55:37 - process[9]: training epoch 19 ...
00:55:47 - process[9] - epoch 19 - train iter 207 - 17554.7 words/s - loss: 0.4411
00:55:47 - process[9]: evaluating epoch 19 on dev ...
00:56:30 - dev set during evaluation: 15480/15477
00:56:30 - process[9] - dev - epoch 19 - mAP: 0.297 w/ 35 queries
00:56:30 - [fold 4] best test MAP: 0.337 @ epoch 17
00:56:30 - Evaluating every 1 epochs ...
00:56:30 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:56:31 - test has 35 queries ...
00:56:31 - Data reading done ...
00:56:32 - adding 9-th encoder to optimizer...
00:56:32 - adding 10-th encoder to optimizer...
00:56:32 - adding 11-th encoder to optimizer...
00:56:33 - process[9]: training epoch 0 ...
00:56:42 - process[9] - epoch 0 - train iter 195 - 18101.9 words/s - loss: 0.6889
00:56:42 - process[9]: training epoch 1 ...
00:56:54 - process[9] - epoch 1 - train iter 195 - 15096.9 words/s - loss: 0.6556
00:56:54 - process[9]: training epoch 2 ...
00:57:04 - process[9] - epoch 2 - train iter 195 - 16992.6 words/s - loss: 0.6422
00:57:04 - process[9]: training epoch 3 ...
00:57:16 - process[9] - epoch 3 - train iter 195 - 15090.0 words/s - loss: 0.5775
00:57:16 - process[9]: training epoch 4 ...
00:57:26 - process[9] - epoch 4 - train iter 195 - 16447.2 words/s - loss: 0.5153
00:57:26 - process[9]: training epoch 5 ...
00:57:37 - process[9] - epoch 5 - train iter 195 - 16574.8 words/s - loss: 0.5279
00:57:37 - process[9]: training epoch 6 ...
00:57:47 - process[9] - epoch 6 - train iter 195 - 16453.1 words/s - loss: 0.4884
00:57:47 - process[9]: training epoch 7 ...
00:57:58 - process[9] - epoch 7 - train iter 195 - 16829.6 words/s - loss: 0.4973
00:57:58 - process[9]: training epoch 8 ...
00:58:09 - process[9] - epoch 8 - train iter 195 - 15587.6 words/s - loss: 0.5043
00:58:09 - process[9]: training epoch 9 ...
00:58:20 - process[9] - epoch 9 - train iter 195 - 15228.0 words/s - loss: 0.4639
00:58:20 - process[9]: training epoch 10 ...
00:58:31 - process[9] - epoch 10 - train iter 195 - 17091.7 words/s - loss: 0.4509
00:58:31 - process[9]: evaluating epoch 10 on dev ...
00:59:15 - dev set during evaluation: 14470/14463
00:59:15 - process[9] - dev - epoch 10 - mAP: 0.292 w/ 35 queries
00:59:15 - process[9]: evaluating epoch 10 on test ...
01:00:00 - test set during evaluation: 14160/14157
01:00:00 - process[9] - test - epoch 10 - mAP: 0.367 w/ 35 queries
01:00:00 - process[9]: training epoch 11 ...
01:00:11 - process[9] - epoch 11 - train iter 195 - 16109.3 words/s - loss: 0.4769
01:00:11 - process[9]: evaluating epoch 11 on dev ...
01:00:55 - dev set during evaluation: 14470/14463
01:00:55 - process[9] - dev - epoch 11 - mAP: 0.298 w/ 35 queries
01:00:55 - process[9]: evaluating epoch 11 on test ...
01:01:40 - test set during evaluation: 14160/14157
01:01:40 - process[9] - test - epoch 11 - mAP: 0.380 w/ 35 queries
01:01:40 - process[9]: training epoch 12 ...
01:01:51 - process[9] - epoch 12 - train iter 195 - 15767.2 words/s - loss: 0.4381
01:01:51 - process[9]: evaluating epoch 12 on dev ...
01:02:33 - dev set during evaluation: 14470/14463
01:02:33 - process[9] - dev - epoch 12 - mAP: 0.290 w/ 35 queries
01:02:33 - process[9]: training epoch 13 ...
01:02:44 - process[9] - epoch 13 - train iter 195 - 15794.4 words/s - loss: 0.4904
01:02:44 - process[9]: evaluating epoch 13 on dev ...
01:03:25 - dev set during evaluation: 14470/14463
01:03:25 - process[9] - dev - epoch 13 - mAP: 0.305 w/ 35 queries
01:03:25 - process[9]: evaluating epoch 13 on test ...
01:04:10 - test set during evaluation: 14160/14157
01:04:10 - process[9] - test - epoch 13 - mAP: 0.308 w/ 35 queries
01:04:10 - process[9]: training epoch 14 ...
01:04:20 - process[9] - epoch 14 - train iter 195 - 17813.5 words/s - loss: 0.4551
01:04:20 - process[9]: evaluating epoch 14 on dev ...
01:05:04 - dev set during evaluation: 14470/14463
01:05:04 - process[9] - dev - epoch 14 - mAP: 0.286 w/ 35 queries
01:05:04 - process[9]: training epoch 15 ...
01:05:15 - process[9] - epoch 15 - train iter 195 - 15700.6 words/s - loss: 0.4334
01:05:15 - process[9]: evaluating epoch 15 on dev ...
01:05:56 - dev set during evaluation: 14470/14463
01:05:56 - process[9] - dev - epoch 15 - mAP: 0.346 w/ 35 queries
01:05:56 - process[9]: evaluating epoch 15 on test ...
01:06:41 - test set during evaluation: 14160/14157
01:06:41 - process[9] - test - epoch 15 - mAP: 0.363 w/ 35 queries
01:06:41 - process[9]: training epoch 16 ...
01:06:52 - process[9] - epoch 16 - train iter 195 - 15561.9 words/s - loss: 0.3907
01:06:52 - process[9]: evaluating epoch 16 on dev ...
01:07:35 - dev set during evaluation: 14470/14463
01:07:35 - process[9] - dev - epoch 16 - mAP: 0.313 w/ 35 queries
01:07:35 - process[9]: training epoch 17 ...
01:07:44 - process[9] - epoch 17 - train iter 195 - 17776.6 words/s - loss: 0.4870
01:07:44 - process[9]: evaluating epoch 17 on dev ...
01:08:28 - dev set during evaluation: 14470/14463
01:08:28 - process[9] - dev - epoch 17 - mAP: 0.310 w/ 35 queries
01:08:28 - process[9]: training epoch 18 ...
01:08:40 - process[9] - epoch 18 - train iter 195 - 15083.3 words/s - loss: 0.4411
01:08:40 - process[9]: evaluating epoch 18 on dev ...
01:09:21 - dev set during evaluation: 14470/14463
01:09:21 - process[9] - dev - epoch 18 - mAP: 0.326 w/ 35 queries
01:09:21 - process[9]: training epoch 19 ...
01:09:31 - process[9] - epoch 19 - train iter 195 - 16779.0 words/s - loss: 0.3941
01:09:31 - process[9]: evaluating epoch 19 on dev ...
01:10:14 - dev set during evaluation: 14470/14463
01:10:14 - process[9] - dev - epoch 19 - mAP: 0.319 w/ 35 queries
01:10:14 - [fold 5] best test MAP: 0.363 @ epoch 15
01:10:14 - [0.35127494576984947, 0.3698112564363, 0.31980500550655944, 0.3368930162385046, 0.3629053014418045]
01:10:14 - [35, 36, 35, 35, 35]
01:10:14 - final MAP: 0.348
00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=9, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-9', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:14 - Evaluating every 1 epochs ...
00:00:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 35 queries ...
00:00:15 - Data reading done ...
00:00:21 - adding 9-th encoder to optimizer...
00:00:21 - adding 10-th encoder to optimizer...
00:00:21 - adding 11-th encoder to optimizer...
00:00:22 - process[9]: training epoch 0 ...
00:00:32 - process[9] - epoch 0 - train iter 197 - 16769.4 words/s - loss: 0.6860
00:00:32 - process[9]: training epoch 1 ...
00:00:44 - process[9] - epoch 1 - train iter 197 - 15558.0 words/s - loss: 0.6383
00:00:44 - process[9]: training epoch 2 ...
00:00:53 - process[9] - epoch 2 - train iter 197 - 19124.1 words/s - loss: 0.6358
00:00:53 - process[9]: training epoch 3 ...
00:01:04 - process[9] - epoch 3 - train iter 197 - 16361.4 words/s - loss: 0.6304
00:01:04 - process[9]: training epoch 4 ...
00:01:14 - process[9] - epoch 4 - train iter 197 - 17107.5 words/s - loss: 0.5327
00:01:14 - process[9]: training epoch 5 ...
00:01:25 - process[9] - epoch 5 - train iter 197 - 15891.2 words/s - loss: 0.5403
00:01:25 - process[9]: training epoch 6 ...
00:01:36 - process[9] - epoch 6 - train iter 197 - 16600.9 words/s - loss: 0.4768
00:01:36 - process[9]: training epoch 7 ...
00:01:46 - process[9] - epoch 7 - train iter 197 - 17847.8 words/s - loss: 0.5315
00:01:46 - process[9]: training epoch 8 ...
00:01:58 - process[9] - epoch 8 - train iter 197 - 15415.7 words/s - loss: 0.4867
00:01:58 - process[9]: training epoch 9 ...
00:02:11 - process[9] - epoch 9 - train iter 197 - 13787.0 words/s - loss: 0.4977
00:02:11 - process[9]: training epoch 10 ...
00:02:22 - process[9] - epoch 10 - train iter 197 - 16470.4 words/s - loss: 0.4834
00:02:22 - process[9]: evaluating epoch 10 on dev ...
00:03:12 - dev set during evaluation: 14160/14157
00:03:12 - process[9] - dev - epoch 10 - mAP: 0.342 w/ 35 queries
00:03:12 - process[9]: evaluating epoch 10 on test ...
00:03:54 - test set during evaluation: 14980/14975
00:03:54 - process[9] - test - epoch 10 - mAP: 0.341 w/ 35 queries
00:03:54 - process[9]: training epoch 11 ...
00:04:05 - process[9] - epoch 11 - train iter 197 - 16338.9 words/s - loss: 0.5314
00:04:05 - process[9]: evaluating epoch 11 on dev ...
00:04:50 - dev set during evaluation: 14160/14157
00:04:50 - process[9] - dev - epoch 11 - mAP: 0.316 w/ 35 queries
00:04:50 - process[9]: training epoch 12 ...
00:05:02 - process[9] - epoch 12 - train iter 197 - 15064.3 words/s - loss: 0.4549
00:05:02 - process[9]: evaluating epoch 12 on dev ...
00:05:44 - dev set during evaluation: 14160/14157
00:05:44 - process[9] - dev - epoch 12 - mAP: 0.354 w/ 35 queries
00:05:44 - process[9]: evaluating epoch 12 on test ...
00:06:25 - test set during evaluation: 14980/14975
00:06:25 - process[9] - test - epoch 12 - mAP: 0.339 w/ 35 queries
00:06:25 - process[9]: training epoch 13 ...
00:06:37 - process[9] - epoch 13 - train iter 197 - 15198.0 words/s - loss: 0.4721
00:06:37 - process[9]: evaluating epoch 13 on dev ...
00:07:22 - dev set during evaluation: 14160/14157
00:07:22 - process[9] - dev - epoch 13 - mAP: 0.366 w/ 35 queries
00:07:22 - process[9]: evaluating epoch 13 on test ...
00:08:03 - test set during evaluation: 14980/14975
00:08:03 - process[9] - test - epoch 13 - mAP: 0.348 w/ 35 queries
00:08:03 - process[9]: training epoch 14 ...
00:08:14 - process[9] - epoch 14 - train iter 197 - 16453.5 words/s - loss: 0.4295
00:08:14 - process[9]: evaluating epoch 14 on dev ...
00:08:58 - dev set during evaluation: 14160/14157
00:08:58 - process[9] - dev - epoch 14 - mAP: 0.343 w/ 35 queries
00:08:58 - process[9]: training epoch 15 ...
00:09:09 - process[9] - epoch 15 - train iter 197 - 15961.8 words/s - loss: 0.4755
00:09:09 - process[9]: evaluating epoch 15 on dev ...
00:09:53 - dev set during evaluation: 14160/14157
00:09:53 - process[9] - dev - epoch 15 - mAP: 0.350 w/ 35 queries
00:09:53 - process[9]: training epoch 16 ...
00:10:03 - process[9] - epoch 16 - train iter 197 - 17480.9 words/s - loss: 0.4389
00:10:03 - process[9]: evaluating epoch 16 on dev ...
00:10:48 - dev set during evaluation: 14160/14157
00:10:48 - process[9] - dev - epoch 16 - mAP: 0.373 w/ 35 queries
00:10:48 - process[9]: evaluating epoch 16 on test ...
00:11:29 - test set during evaluation: 14980/14975
00:11:29 - process[9] - test - epoch 16 - mAP: 0.351 w/ 35 queries
00:11:29 - process[9]: training epoch 17 ...
00:11:42 - process[9] - epoch 17 - train iter 197 - 14711.7 words/s - loss: 0.4720
00:11:42 - process[9]: evaluating epoch 17 on dev ...
00:12:25 - dev set during evaluation: 14160/14157
00:12:25 - process[9] - dev - epoch 17 - mAP: 0.337 w/ 35 queries
00:12:25 - process[9]: training epoch 18 ...
00:12:36 - process[9] - epoch 18 - train iter 197 - 15547.2 words/s - loss: 0.4478
00:12:36 - process[9]: evaluating epoch 18 on dev ...
00:13:20 - dev set during evaluation: 14160/14157
00:13:20 - process[9] - dev - epoch 18 - mAP: 0.349 w/ 35 queries
00:13:20 - process[9]: training epoch 19 ...
00:13:30 - process[9] - epoch 19 - train iter 197 - 16981.6 words/s - loss: 0.3776
00:13:30 - process[9]: evaluating epoch 19 on dev ...
00:14:16 - dev set during evaluation: 14160/14157
00:14:16 - process[9] - dev - epoch 19 - mAP: 0.357 w/ 35 queries
00:14:16 - [fold 1] best test MAP: 0.351 @ epoch 16
00:14:16 - Evaluating every 1 epochs ...
00:14:16 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:14:17 - test has 36 queries ...
00:14:17 - Data reading done ...
00:14:18 - adding 9-th encoder to optimizer...
00:14:18 - adding 10-th encoder to optimizer...
00:14:18 - adding 11-th encoder to optimizer...
00:14:19 - process[9]: training epoch 0 ...
00:14:30 - process[9] - epoch 0 - train iter 187 - 15881.5 words/s - loss: 0.6909
00:14:30 - process[9]: training epoch 1 ...
00:14:41 - process[9] - epoch 1 - train iter 187 - 15413.1 words/s - loss: 0.6637
00:14:41 - process[9]: training epoch 2 ...
00:14:51 - process[9] - epoch 2 - train iter 187 - 17011.2 words/s - loss: 0.6194
00:14:51 - process[9]: training epoch 3 ...
00:15:02 - process[9] - epoch 3 - train iter 187 - 15577.5 words/s - loss: 0.5431
00:15:02 - process[9]: training epoch 4 ...
00:15:12 - process[9] - epoch 4 - train iter 187 - 16527.6 words/s - loss: 0.5928
00:15:12 - process[9]: training epoch 5 ...
00:15:22 - process[9] - epoch 5 - train iter 187 - 17791.5 words/s - loss: 0.5260
00:15:22 - process[9]: training epoch 6 ...
00:15:32 - process[9] - epoch 6 - train iter 187 - 16671.8 words/s - loss: 0.5233
00:15:32 - process[9]: training epoch 7 ...
00:15:43 - process[9] - epoch 7 - train iter 187 - 16217.9 words/s - loss: 0.5125
00:15:43 - process[9]: training epoch 8 ...
00:15:53 - process[9] - epoch 8 - train iter 187 - 16162.7 words/s - loss: 0.4816
00:15:53 - process[9]: training epoch 9 ...
00:16:03 - process[9] - epoch 9 - train iter 187 - 18135.4 words/s - loss: 0.5524
00:16:03 - process[9]: training epoch 10 ...
00:16:13 - process[9] - epoch 10 - train iter 187 - 16642.5 words/s - loss: 0.4851
00:16:13 - process[9]: evaluating epoch 10 on dev ...
00:16:53 - dev set during evaluation: 14980/14975
00:16:53 - process[9] - dev - epoch 10 - mAP: 0.377 w/ 35 queries
00:16:53 - process[9]: evaluating epoch 10 on test ...
00:17:36 - test set during evaluation: 15300/15294
00:17:36 - process[9] - test - epoch 10 - mAP: 0.357 w/ 36 queries
00:17:36 - process[9]: training epoch 11 ...
00:17:48 - process[9] - epoch 11 - train iter 187 - 15787.6 words/s - loss: 0.5227
00:17:48 - process[9]: evaluating epoch 11 on dev ...
00:18:27 - dev set during evaluation: 14980/14975
00:18:27 - process[9] - dev - epoch 11 - mAP: 0.322 w/ 35 queries
00:18:28 - process[9]: training epoch 12 ...
00:18:39 - process[9] - epoch 12 - train iter 187 - 15231.1 words/s - loss: 0.4949
00:18:39 - process[9]: evaluating epoch 12 on dev ...
00:19:19 - dev set during evaluation: 14980/14975
00:19:19 - process[9] - dev - epoch 12 - mAP: 0.332 w/ 35 queries
00:19:19 - process[9]: training epoch 13 ...
00:19:30 - process[9] - epoch 13 - train iter 187 - 16008.6 words/s - loss: 0.4851
00:19:30 - process[9]: evaluating epoch 13 on dev ...
00:20:10 - dev set during evaluation: 14980/14975
00:20:10 - process[9] - dev - epoch 13 - mAP: 0.389 w/ 35 queries
00:20:10 - process[9]: evaluating epoch 13 on test ...
00:20:53 - test set during evaluation: 15300/15294
00:20:53 - process[9] - test - epoch 13 - mAP: 0.380 w/ 36 queries
00:20:53 - process[9]: training epoch 14 ...
00:21:04 - process[9] - epoch 14 - train iter 187 - 15347.4 words/s - loss: 0.4553
00:21:04 - process[9]: evaluating epoch 14 on dev ...
00:21:45 - dev set during evaluation: 14980/14975
00:21:45 - process[9] - dev - epoch 14 - mAP: 0.386 w/ 35 queries
00:21:45 - process[9]: training epoch 15 ...
00:21:55 - process[9] - epoch 15 - train iter 187 - 17584.5 words/s - loss: 0.4290
00:21:55 - process[9]: evaluating epoch 15 on dev ...
00:22:37 - dev set during evaluation: 14980/14975
00:22:37 - process[9] - dev - epoch 15 - mAP: 0.395 w/ 35 queries
00:22:37 - process[9]: evaluating epoch 15 on test ...
00:23:20 - test set during evaluation: 15300/15294
00:23:20 - process[9] - test - epoch 15 - mAP: 0.365 w/ 36 queries
00:23:20 - process[9]: training epoch 16 ...
00:23:29 - process[9] - epoch 16 - train iter 187 - 18144.6 words/s - loss: 0.4569
00:23:29 - process[9]: evaluating epoch 16 on dev ...
00:24:10 - dev set during evaluation: 14980/14975
00:24:10 - process[9] - dev - epoch 16 - mAP: 0.368 w/ 35 queries
00:24:10 - process[9]: training epoch 17 ...
00:24:21 - process[9] - epoch 17 - train iter 187 - 16806.4 words/s - loss: 0.4285
00:24:21 - process[9]: evaluating epoch 17 on dev ...
00:25:02 - dev set during evaluation: 14980/14975
00:25:02 - process[9] - dev - epoch 17 - mAP: 0.365 w/ 35 queries
00:25:02 - process[9]: training epoch 18 ...
00:25:12 - process[9] - epoch 18 - train iter 187 - 17469.3 words/s - loss: 0.4475
00:25:12 - process[9]: evaluating epoch 18 on dev ...
00:25:54 - dev set during evaluation: 14980/14975
00:25:54 - process[9] - dev - epoch 18 - mAP: 0.373 w/ 35 queries
00:25:54 - process[9]: training epoch 19 ...
00:26:04 - process[9] - epoch 19 - train iter 187 - 17689.2 words/s - loss: 0.4180
00:26:04 - process[9]: evaluating epoch 19 on dev ...
00:26:45 - dev set during evaluation: 14980/14975
00:26:45 - process[9] - dev - epoch 19 - mAP: 0.398 w/ 35 queries
00:26:45 - process[9]: evaluating epoch 19 on test ...
00:27:28 - test set during evaluation: 15300/15294
00:27:28 - process[9] - test - epoch 19 - mAP: 0.370 w/ 36 queries
00:27:28 - [fold 2] best test MAP: 0.370 @ epoch 19
00:27:28 - Evaluating every 1 epochs ...
00:27:28 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:27:29 - test has 35 queries ...
00:27:29 - Data reading done ...
00:27:30 - adding 9-th encoder to optimizer...
00:27:30 - adding 10-th encoder to optimizer...
00:27:30 - adding 11-th encoder to optimizer...
00:27:31 - process[9]: training epoch 0 ...
00:27:42 - process[9] - epoch 0 - train iter 196 - 15836.1 words/s - loss: 0.6917
00:27:42 - process[9]: training epoch 1 ...
00:27:52 - process[9] - epoch 1 - train iter 196 - 17106.7 words/s - loss: 0.6836
00:27:52 - process[9]: training epoch 2 ...
00:28:03 - process[9] - epoch 2 - train iter 196 - 16878.3 words/s - loss: 0.6420
00:28:03 - process[9]: training epoch 3 ...
00:28:15 - process[9] - epoch 3 - train iter 196 - 14566.8 words/s - loss: 0.6479
00:28:15 - process[9]: training epoch 4 ...
00:28:26 - process[9] - epoch 4 - train iter 196 - 16338.6 words/s - loss: 0.5725
00:28:26 - process[9]: training epoch 5 ...
00:28:36 - process[9] - epoch 5 - train iter 196 - 16859.6 words/s - loss: 0.5597
00:28:36 - process[9]: training epoch 6 ...
00:28:45 - process[9] - epoch 6 - train iter 196 - 18584.8 words/s - loss: 0.5523
00:28:45 - process[9]: training epoch 7 ...
00:28:57 - process[9] - epoch 7 - train iter 196 - 15984.6 words/s - loss: 0.5456
00:28:57 - process[9]: training epoch 8 ...
00:29:06 - process[9] - epoch 8 - train iter 196 - 17754.9 words/s - loss: 0.6001
00:29:06 - process[9]: training epoch 9 ...
00:29:17 - process[9] - epoch 9 - train iter 196 - 16988.8 words/s - loss: 0.4942
00:29:17 - process[9]: training epoch 10 ...
00:29:27 - process[9] - epoch 10 - train iter 196 - 17315.4 words/s - loss: 0.4954
00:29:27 - process[9]: evaluating epoch 10 on dev ...
00:30:10 - dev set during evaluation: 15300/15294
00:30:10 - process[9] - dev - epoch 10 - mAP: 0.334 w/ 36 queries
00:30:10 - process[9]: evaluating epoch 10 on test ...
00:30:53 - test set during evaluation: 15480/15477
00:30:53 - process[9] - test - epoch 10 - mAP: 0.358 w/ 35 queries
00:30:53 - process[9]: training epoch 11 ...
00:31:04 - process[9] - epoch 11 - train iter 196 - 16435.6 words/s - loss: 0.5093
00:31:04 - process[9]: evaluating epoch 11 on dev ...
00:31:46 - dev set during evaluation: 15300/15294
00:31:46 - process[9] - dev - epoch 11 - mAP: 0.337 w/ 36 queries
00:31:46 - process[9]: evaluating epoch 11 on test ...
00:32:28 - test set during evaluation: 15480/15477
00:32:28 - process[9] - test - epoch 11 - mAP: 0.319 w/ 35 queries
00:32:28 - process[9]: training epoch 12 ...
00:32:38 - process[9] - epoch 12 - train iter 196 - 17200.4 words/s - loss: 0.4950
00:32:38 - process[9]: evaluating epoch 12 on dev ...
00:33:21 - dev set during evaluation: 15300/15294
00:33:21 - process[9] - dev - epoch 12 - mAP: 0.358 w/ 36 queries
00:33:21 - process[9]: evaluating epoch 12 on test ...
00:34:03 - test set during evaluation: 15480/15477
00:34:03 - process[9] - test - epoch 12 - mAP: 0.337 w/ 35 queries
00:34:03 - process[9]: training epoch 13 ...
00:34:13 - process[9] - epoch 13 - train iter 196 - 16921.2 words/s - loss: 0.4425
00:34:13 - process[9]: evaluating epoch 13 on dev ...
00:34:56 - dev set during evaluation: 15300/15294
00:34:56 - process[9] - dev - epoch 13 - mAP: 0.348 w/ 36 queries
00:34:57 - process[9]: training epoch 14 ...
00:35:07 - process[9] - epoch 14 - train iter 196 - 17965.7 words/s - loss: 0.4804
00:35:07 - process[9]: evaluating epoch 14 on dev ...
00:35:50 - dev set during evaluation: 15300/15294
00:35:50 - process[9] - dev - epoch 14 - mAP: 0.369 w/ 36 queries
00:35:50 - process[9]: evaluating epoch 14 on test ...
00:36:32 - test set during evaluation: 15480/15477
00:36:32 - process[9] - test - epoch 14 - mAP: 0.329 w/ 35 queries
00:36:32 - process[9]: training epoch 15 ...
00:36:41 - process[9] - epoch 15 - train iter 196 - 19088.5 words/s - loss: 0.4866
00:36:41 - process[9]: evaluating epoch 15 on dev ...
00:37:24 - dev set during evaluation: 15300/15294
00:37:24 - process[9] - dev - epoch 15 - mAP: 0.355 w/ 36 queries
00:37:24 - process[9]: training epoch 16 ...
00:37:34 - process[9] - epoch 16 - train iter 196 - 18335.3 words/s - loss: 0.4478
00:37:34 - process[9]: evaluating epoch 16 on dev ...
00:38:17 - dev set during evaluation: 15300/15294
00:38:17 - process[9] - dev - epoch 16 - mAP: 0.349 w/ 36 queries
00:38:17 - process[9]: training epoch 17 ...
00:38:27 - process[9] - epoch 17 - train iter 196 - 18514.9 words/s - loss: 0.4827
00:38:27 - process[9]: evaluating epoch 17 on dev ...
00:39:10 - dev set during evaluation: 15300/15294
00:39:10 - process[9] - dev - epoch 17 - mAP: 0.373 w/ 36 queries
00:39:10 - process[9]: evaluating epoch 17 on test ...
00:39:52 - test set during evaluation: 15480/15477
00:39:52 - process[9] - test - epoch 17 - mAP: 0.301 w/ 35 queries
00:39:52 - process[9]: training epoch 18 ...
00:40:01 - process[9] - epoch 18 - train iter 196 - 19277.5 words/s - loss: 0.4498
00:40:01 - process[9]: evaluating epoch 18 on dev ...
00:40:45 - dev set during evaluation: 15300/15294
00:40:45 - process[9] - dev - epoch 18 - mAP: 0.346 w/ 36 queries
00:40:45 - process[9]: training epoch 19 ...
00:40:55 - process[9] - epoch 19 - train iter 196 - 17948.4 words/s - loss: 0.4346
00:40:55 - process[9]: evaluating epoch 19 on dev ...
00:41:38 - dev set during evaluation: 15300/15294
00:41:38 - process[9] - dev - epoch 19 - mAP: 0.377 w/ 36 queries
00:41:38 - process[9]: evaluating epoch 19 on test ...
00:42:20 - test set during evaluation: 15480/15477
00:42:20 - process[9] - test - epoch 19 - mAP: 0.320 w/ 35 queries
00:42:20 - [fold 3] best test MAP: 0.320 @ epoch 19
00:42:20 - Evaluating every 1 epochs ...
00:42:20 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:42:21 - test has 35 queries ...
00:42:21 - Data reading done ...
00:42:22 - adding 9-th encoder to optimizer...
00:42:22 - adding 10-th encoder to optimizer...
00:42:22 - adding 11-th encoder to optimizer...
00:42:23 - process[9]: training epoch 0 ...
00:42:33 - process[9] - epoch 0 - train iter 207 - 19052.2 words/s - loss: 0.6914
00:42:33 - process[9]: training epoch 1 ...
00:42:43 - process[9] - epoch 1 - train iter 207 - 18093.0 words/s - loss: 0.6660
00:42:43 - process[9]: training epoch 2 ...
00:42:54 - process[9] - epoch 2 - train iter 207 - 17093.9 words/s - loss: 0.6301
00:42:54 - process[9]: training epoch 3 ...
00:43:05 - process[9] - epoch 3 - train iter 207 - 16287.8 words/s - loss: 0.5897
00:43:05 - process[9]: training epoch 4 ...
00:43:18 - process[9] - epoch 4 - train iter 207 - 14989.1 words/s - loss: 0.6255
00:43:18 - process[9]: training epoch 5 ...
00:43:29 - process[9] - epoch 5 - train iter 207 - 16734.3 words/s - loss: 0.5465
00:43:29 - process[9]: training epoch 6 ...
00:43:40 - process[9] - epoch 6 - train iter 207 - 17645.0 words/s - loss: 0.5336
00:43:40 - process[9]: training epoch 7 ...
00:43:51 - process[9] - epoch 7 - train iter 207 - 17615.2 words/s - loss: 0.5202
00:43:51 - process[9]: training epoch 8 ...
00:44:02 - process[9] - epoch 8 - train iter 207 - 16470.7 words/s - loss: 0.5012
00:44:02 - process[9]: training epoch 9 ...
00:44:14 - process[9] - epoch 9 - train iter 207 - 16543.1 words/s - loss: 0.5109
00:44:14 - process[9]: training epoch 10 ...
00:44:25 - process[9] - epoch 10 - train iter 207 - 15992.8 words/s - loss: 0.4226
00:44:25 - process[9]: evaluating epoch 10 on dev ...
00:45:11 - dev set during evaluation: 15480/15477
00:45:11 - process[9] - dev - epoch 10 - mAP: 0.265 w/ 35 queries
00:45:11 - process[9]: evaluating epoch 10 on test ...
00:45:54 - test set during evaluation: 14470/14463
00:45:54 - process[9] - test - epoch 10 - mAP: 0.256 w/ 35 queries
00:45:54 - process[9]: training epoch 11 ...
00:46:05 - process[9] - epoch 11 - train iter 207 - 16515.6 words/s - loss: 0.4862
00:46:05 - process[9]: evaluating epoch 11 on dev ...
00:46:47 - dev set during evaluation: 15480/15477
00:46:47 - process[9] - dev - epoch 11 - mAP: 0.271 w/ 35 queries
00:46:47 - process[9]: evaluating epoch 11 on test ...
00:47:29 - test set during evaluation: 14470/14463
00:47:29 - process[9] - test - epoch 11 - mAP: 0.288 w/ 35 queries
00:47:29 - process[9]: training epoch 12 ...
00:47:40 - process[9] - epoch 12 - train iter 207 - 17664.5 words/s - loss: 0.4617
00:47:40 - process[9]: evaluating epoch 12 on dev ...
00:48:23 - dev set during evaluation: 15480/15477
00:48:23 - process[9] - dev - epoch 12 - mAP: 0.254 w/ 35 queries
00:48:23 - process[9]: training epoch 13 ...
00:48:33 - process[9] - epoch 13 - train iter 207 - 18104.9 words/s - loss: 0.4661
00:48:33 - process[9]: evaluating epoch 13 on dev ...
00:49:16 - dev set during evaluation: 15480/15477
00:49:16 - process[9] - dev - epoch 13 - mAP: 0.276 w/ 35 queries
00:49:16 - process[9]: evaluating epoch 13 on test ...
00:49:58 - test set during evaluation: 14470/14463
00:49:58 - process[9] - test - epoch 13 - mAP: 0.322 w/ 35 queries
00:49:58 - process[9]: training epoch 14 ...
00:50:08 - process[9] - epoch 14 - train iter 207 - 17995.0 words/s - loss: 0.4456
00:50:10 - process[9]: evaluating epoch 14 on dev ...
00:50:52 - dev set during evaluation: 15480/15477
00:50:52 - process[9] - dev - epoch 14 - mAP: 0.269 w/ 35 queries
00:50:52 - process[9]: training epoch 15 ...
00:51:05 - process[9] - epoch 15 - train iter 207 - 15139.2 words/s - loss: 0.4495
00:51:05 - process[9]: evaluating epoch 15 on dev ...
00:51:45 - dev set during evaluation: 15480/15477
00:51:45 - process[9] - dev - epoch 15 - mAP: 0.259 w/ 35 queries
00:51:45 - process[9]: training epoch 16 ...
00:51:56 - process[9] - epoch 16 - train iter 207 - 17878.8 words/s - loss: 0.4068
00:51:56 - process[9]: evaluating epoch 16 on dev ...
00:52:43 - dev set during evaluation: 15480/15477
00:52:43 - process[9] - dev - epoch 16 - mAP: 0.291 w/ 35 queries
00:52:43 - process[9]: evaluating epoch 16 on test ...
00:53:25 - test set during evaluation: 14470/14463
00:53:25 - process[9] - test - epoch 16 - mAP: 0.283 w/ 35 queries
00:53:25 - process[9]: training epoch 17 ...
00:53:36 - process[9] - epoch 17 - train iter 207 - 18194.6 words/s - loss: 0.4840
00:53:36 - process[9]: evaluating epoch 17 on dev ...
00:54:20 - dev set during evaluation: 15480/15477
00:54:20 - process[9] - dev - epoch 17 - mAP: 0.298 w/ 35 queries
00:54:20 - process[9]: evaluating epoch 17 on test ...
00:55:02 - test set during evaluation: 14470/14463
00:55:02 - process[9] - test - epoch 17 - mAP: 0.337 w/ 35 queries
00:55:02 - process[9]: training epoch 18 ...
00:55:13 - process[9] - epoch 18 - train iter 207 - 17367.3 words/s - loss: 0.4312
00:55:13 - process[9]: evaluating epoch 18 on dev ...
00:55:55 - dev set during evaluation: 15480/15477
00:55:55 - process[9] - dev - epoch 18 - mAP: 0.291 w/ 35 queries
00:55:55 - process[9]: training epoch 19 ...
00:56:06 - process[9] - epoch 19 - train iter 207 - 17493.2 words/s - loss: 0.4411
00:56:06 - process[9]: evaluating epoch 19 on dev ...
00:56:49 - dev set during evaluation: 15480/15477
00:56:49 - process[9] - dev - epoch 19 - mAP: 0.297 w/ 35 queries
00:56:49 - [fold 4] best test MAP: 0.337 @ epoch 17
00:56:49 - Evaluating every 1 epochs ...
00:56:49 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:56:50 - test has 35 queries ...
00:56:50 - Data reading done ...
00:56:51 - adding 9-th encoder to optimizer...
00:56:51 - adding 10-th encoder to optimizer...
00:56:51 - adding 11-th encoder to optimizer...
00:56:52 - process[9]: training epoch 0 ...
00:57:01 - process[9] - epoch 0 - train iter 195 - 18041.0 words/s - loss: 0.6889
00:57:01 - process[9]: training epoch 1 ...
00:57:13 - process[9] - epoch 1 - train iter 195 - 15004.5 words/s - loss: 0.6556
00:57:13 - process[9]: training epoch 2 ...
00:57:24 - process[9] - epoch 2 - train iter 195 - 17004.8 words/s - loss: 0.6422
00:57:24 - process[9]: training epoch 3 ...
00:57:35 - process[9] - epoch 3 - train iter 195 - 15063.4 words/s - loss: 0.5775
00:57:35 - process[9]: training epoch 4 ...
00:57:45 - process[9] - epoch 4 - train iter 195 - 16399.3 words/s - loss: 0.5153
00:57:45 - process[9]: training epoch 5 ...
00:57:56 - process[9] - epoch 5 - train iter 195 - 16522.2 words/s - loss: 0.5279
00:57:56 - process[9]: training epoch 6 ...
00:58:06 - process[9] - epoch 6 - train iter 195 - 16417.1 words/s - loss: 0.4884
00:58:06 - process[9]: training epoch 7 ...
00:58:17 - process[9] - epoch 7 - train iter 195 - 16703.1 words/s - loss: 0.4973
00:58:17 - process[9]: training epoch 8 ...
00:58:28 - process[9] - epoch 8 - train iter 195 - 15433.8 words/s - loss: 0.5043
00:58:28 - process[9]: training epoch 9 ...
00:58:40 - process[9] - epoch 9 - train iter 195 - 15138.1 words/s - loss: 0.4639
00:58:40 - process[9]: training epoch 10 ...
00:58:50 - process[9] - epoch 10 - train iter 195 - 17066.1 words/s - loss: 0.4509
00:58:50 - process[9]: evaluating epoch 10 on dev ...
00:59:36 - dev set during evaluation: 14470/14463
00:59:36 - process[9] - dev - epoch 10 - mAP: 0.292 w/ 35 queries
00:59:36 - process[9]: evaluating epoch 10 on test ...
01:00:22 - test set during evaluation: 14160/14157
01:00:22 - process[9] - test - epoch 10 - mAP: 0.367 w/ 35 queries
01:00:22 - process[9]: training epoch 11 ...
01:00:33 - process[9] - epoch 11 - train iter 195 - 16094.5 words/s - loss: 0.4769
01:00:33 - process[9]: evaluating epoch 11 on dev ...
01:01:17 - dev set during evaluation: 14470/14463
01:01:17 - process[9] - dev - epoch 11 - mAP: 0.298 w/ 35 queries
01:01:17 - process[9]: evaluating epoch 11 on test ...
01:02:03 - test set during evaluation: 14160/14157
01:02:03 - process[9] - test - epoch 11 - mAP: 0.380 w/ 35 queries
01:02:03 - process[9]: training epoch 12 ...
01:02:14 - process[9] - epoch 12 - train iter 195 - 15805.8 words/s - loss: 0.4381
01:02:14 - process[9]: evaluating epoch 12 on dev ...
01:02:55 - dev set during evaluation: 14470/14463
01:02:55 - process[9] - dev - epoch 12 - mAP: 0.290 w/ 35 queries
01:02:55 - process[9]: training epoch 13 ...
01:03:07 - process[9] - epoch 13 - train iter 195 - 15794.2 words/s - loss: 0.4904
01:03:07 - process[9]: evaluating epoch 13 on dev ...
01:03:48 - dev set during evaluation: 14470/14463
01:03:48 - process[9] - dev - epoch 13 - mAP: 0.305 w/ 35 queries
01:03:48 - process[9]: evaluating epoch 13 on test ...
01:04:33 - test set during evaluation: 14160/14157
01:04:33 - process[9] - test - epoch 13 - mAP: 0.308 w/ 35 queries
01:04:33 - process[9]: training epoch 14 ...
01:04:43 - process[9] - epoch 14 - train iter 195 - 17770.9 words/s - loss: 0.4551
01:04:43 - process[9]: evaluating epoch 14 on dev ...
01:05:27 - dev set during evaluation: 14470/14463
01:05:27 - process[9] - dev - epoch 14 - mAP: 0.286 w/ 35 queries
01:05:27 - process[9]: training epoch 15 ...
01:05:38 - process[9] - epoch 15 - train iter 195 - 15725.9 words/s - loss: 0.4334
01:05:38 - process[9]: evaluating epoch 15 on dev ...
01:06:19 - dev set during evaluation: 14470/14463
01:06:19 - process[9] - dev - epoch 15 - mAP: 0.346 w/ 35 queries
01:06:19 - process[9]: evaluating epoch 15 on test ...
01:07:04 - test set during evaluation: 14160/14157
01:07:04 - process[9] - test - epoch 15 - mAP: 0.363 w/ 35 queries
01:07:04 - process[9]: training epoch 16 ...
01:07:15 - process[9] - epoch 16 - train iter 195 - 15580.7 words/s - loss: 0.3907
01:07:15 - process[9]: evaluating epoch 16 on dev ...
01:07:58 - dev set during evaluation: 14470/14463
01:07:58 - process[9] - dev - epoch 16 - mAP: 0.313 w/ 35 queries
01:07:58 - process[9]: training epoch 17 ...
01:08:08 - process[9] - epoch 17 - train iter 195 - 17771.9 words/s - loss: 0.4870
01:08:08 - process[9]: evaluating epoch 17 on dev ...
01:08:51 - dev set during evaluation: 14470/14463
01:08:51 - process[9] - dev - epoch 17 - mAP: 0.310 w/ 35 queries
01:08:51 - process[9]: training epoch 18 ...
01:09:03 - process[9] - epoch 18 - train iter 195 - 15096.0 words/s - loss: 0.4411
01:09:03 - process[9]: evaluating epoch 18 on dev ...
01:09:43 - dev set during evaluation: 14470/14463
01:09:43 - process[9] - dev - epoch 18 - mAP: 0.326 w/ 35 queries
01:09:43 - process[9]: training epoch 19 ...
01:09:53 - process[9] - epoch 19 - train iter 195 - 16870.4 words/s - loss: 0.3941
01:09:53 - process[9]: evaluating epoch 19 on dev ...
01:10:36 - dev set during evaluation: 14470/14463
01:10:36 - process[9] - dev - epoch 19 - mAP: 0.319 w/ 35 queries
01:10:36 - [fold 5] best test MAP: 0.363 @ epoch 15
01:10:36 - [0.35127494576984947, 0.3698112564363, 0.31980500550655944, 0.3368930162385046, 0.3629053014418045]
01:10:36 - [35, 36, 35, 35, 35]
01:10:36 - final MAP: 0.348
