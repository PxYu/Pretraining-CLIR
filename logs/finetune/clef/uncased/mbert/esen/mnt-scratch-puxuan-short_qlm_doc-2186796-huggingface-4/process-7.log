00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-4', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:15 - Evaluating every 1 epochs ...
00:00:15 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 35 queries ...
00:00:15 - Data reading done ...
00:00:21 - adding 9-th encoder to optimizer...
00:00:21 - adding 10-th encoder to optimizer...
00:00:21 - adding 11-th encoder to optimizer...
00:00:22 - process[7]: training epoch 0 ...
00:00:34 - process[7] - epoch 0 - train iter 197 - 14969.4 words/s - loss: 0.6758
00:00:34 - process[7]: training epoch 1 ...
00:00:45 - process[7] - epoch 1 - train iter 197 - 15687.3 words/s - loss: 0.6373
00:00:45 - process[7]: training epoch 2 ...
00:00:55 - process[7] - epoch 2 - train iter 197 - 18086.4 words/s - loss: 0.6389
00:00:55 - process[7]: training epoch 3 ...
00:01:06 - process[7] - epoch 3 - train iter 197 - 16642.2 words/s - loss: 0.5716
00:01:06 - process[7]: training epoch 4 ...
00:01:18 - process[7] - epoch 4 - train iter 197 - 14103.2 words/s - loss: 0.5742
00:01:18 - process[7]: training epoch 5 ...
00:01:30 - process[7] - epoch 5 - train iter 197 - 14948.6 words/s - loss: 0.5836
00:01:30 - process[7]: training epoch 6 ...
00:01:41 - process[7] - epoch 6 - train iter 197 - 16149.2 words/s - loss: 0.5449
00:01:41 - process[7]: training epoch 7 ...
00:01:53 - process[7] - epoch 7 - train iter 197 - 15320.9 words/s - loss: 0.5334
00:01:53 - process[7]: training epoch 8 ...
00:02:05 - process[7] - epoch 8 - train iter 197 - 15246.2 words/s - loss: 0.5460
00:02:05 - process[7]: training epoch 9 ...
00:02:16 - process[7] - epoch 9 - train iter 197 - 16326.1 words/s - loss: 0.5010
00:02:16 - process[7]: training epoch 10 ...
00:02:26 - process[7] - epoch 10 - train iter 197 - 17270.7 words/s - loss: 0.5162
00:02:26 - process[7]: evaluating epoch 10 on dev ...
00:03:11 - dev set during evaluation: 14160/14157
00:03:11 - process[7] - dev - epoch 10 - mAP: 0.362 w/ 35 queries
00:03:11 - process[7]: evaluating epoch 10 on test ...
00:03:52 - test set during evaluation: 14980/14975
00:03:52 - process[7] - test - epoch 10 - mAP: 0.366 w/ 35 queries
00:03:52 - process[7]: training epoch 11 ...
00:04:02 - process[7] - epoch 11 - train iter 197 - 18057.1 words/s - loss: 0.5021
00:04:02 - process[7]: evaluating epoch 11 on dev ...
00:04:49 - dev set during evaluation: 14160/14157
00:04:49 - process[7] - dev - epoch 11 - mAP: 0.360 w/ 35 queries
00:04:49 - process[7]: training epoch 12 ...
00:05:01 - process[7] - epoch 12 - train iter 197 - 14924.2 words/s - loss: 0.4521
00:05:01 - process[7]: evaluating epoch 12 on dev ...
00:05:43 - dev set during evaluation: 14160/14157
00:05:43 - process[7] - dev - epoch 12 - mAP: 0.397 w/ 35 queries
00:05:43 - process[7]: evaluating epoch 12 on test ...
00:06:24 - test set during evaluation: 14980/14975
00:06:24 - process[7] - test - epoch 12 - mAP: 0.368 w/ 35 queries
00:06:24 - process[7]: training epoch 13 ...
00:06:36 - process[7] - epoch 13 - train iter 197 - 14995.5 words/s - loss: 0.4530
00:06:36 - process[7]: evaluating epoch 13 on dev ...
00:07:20 - dev set during evaluation: 14160/14157
00:07:20 - process[7] - dev - epoch 13 - mAP: 0.369 w/ 35 queries
00:07:20 - process[7]: training epoch 14 ...
00:07:32 - process[7] - epoch 14 - train iter 197 - 15555.6 words/s - loss: 0.4494
00:07:32 - process[7]: evaluating epoch 14 on dev ...
00:08:16 - dev set during evaluation: 14160/14157
00:08:16 - process[7] - dev - epoch 14 - mAP: 0.383 w/ 35 queries
00:08:16 - process[7]: training epoch 15 ...
00:08:26 - process[7] - epoch 15 - train iter 197 - 17196.1 words/s - loss: 0.4314
00:08:26 - process[7]: evaluating epoch 15 on dev ...
00:09:11 - dev set during evaluation: 14160/14157
00:09:11 - process[7] - dev - epoch 15 - mAP: 0.398 w/ 35 queries
00:09:11 - process[7]: evaluating epoch 15 on test ...
00:09:52 - test set during evaluation: 14980/14975
00:09:52 - process[7] - test - epoch 15 - mAP: 0.383 w/ 35 queries
00:09:52 - process[7]: training epoch 16 ...
00:10:03 - process[7] - epoch 16 - train iter 197 - 15655.5 words/s - loss: 0.4724
00:10:03 - process[7]: evaluating epoch 16 on dev ...
00:10:47 - dev set during evaluation: 14160/14157
00:10:47 - process[7] - dev - epoch 16 - mAP: 0.384 w/ 35 queries
00:10:47 - process[7]: training epoch 17 ...
00:10:59 - process[7] - epoch 17 - train iter 197 - 14909.8 words/s - loss: 0.4241
00:10:59 - process[7]: evaluating epoch 17 on dev ...
00:11:43 - dev set during evaluation: 14160/14157
00:11:43 - process[7] - dev - epoch 17 - mAP: 0.338 w/ 35 queries
00:11:43 - process[7]: training epoch 18 ...
00:11:54 - process[7] - epoch 18 - train iter 197 - 15312.5 words/s - loss: 0.3584
00:11:54 - process[7]: evaluating epoch 18 on dev ...
00:12:37 - dev set during evaluation: 14160/14157
00:12:37 - process[7] - dev - epoch 18 - mAP: 0.351 w/ 35 queries
00:12:37 - process[7]: training epoch 19 ...
00:12:48 - process[7] - epoch 19 - train iter 197 - 16454.2 words/s - loss: 0.4720
00:12:48 - process[7]: evaluating epoch 19 on dev ...
00:13:34 - dev set during evaluation: 14160/14157
00:13:34 - process[7] - dev - epoch 19 - mAP: 0.383 w/ 35 queries
00:13:34 - [fold 1] best test MAP: 0.383 @ epoch 15
00:13:34 - Evaluating every 1 epochs ...
00:13:34 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:13:34 - test has 36 queries ...
00:13:34 - Data reading done ...
00:13:36 - adding 9-th encoder to optimizer...
00:13:36 - adding 10-th encoder to optimizer...
00:13:36 - adding 11-th encoder to optimizer...
00:13:36 - process[7]: training epoch 0 ...
00:13:46 - process[7] - epoch 0 - train iter 187 - 17339.6 words/s - loss: 0.6790
00:13:46 - process[7]: training epoch 1 ...
00:13:56 - process[7] - epoch 1 - train iter 187 - 17312.9 words/s - loss: 0.6754
00:13:56 - process[7]: training epoch 2 ...
00:14:06 - process[7] - epoch 2 - train iter 187 - 15959.9 words/s - loss: 0.6213
00:14:06 - process[7]: training epoch 3 ...
00:14:16 - process[7] - epoch 3 - train iter 187 - 17763.5 words/s - loss: 0.5603
00:14:16 - process[7]: training epoch 4 ...
00:14:26 - process[7] - epoch 4 - train iter 187 - 16780.0 words/s - loss: 0.6080
00:14:26 - process[7]: training epoch 5 ...
00:14:37 - process[7] - epoch 5 - train iter 187 - 15502.9 words/s - loss: 0.6091
00:14:37 - process[7]: training epoch 6 ...
00:14:47 - process[7] - epoch 6 - train iter 187 - 16334.7 words/s - loss: 0.5609
00:14:47 - process[7]: training epoch 7 ...
00:14:57 - process[7] - epoch 7 - train iter 187 - 16410.6 words/s - loss: 0.5183
00:14:57 - process[7]: training epoch 8 ...
00:15:08 - process[7] - epoch 8 - train iter 187 - 16703.6 words/s - loss: 0.4940
00:15:08 - process[7]: training epoch 9 ...
00:15:19 - process[7] - epoch 9 - train iter 187 - 15157.9 words/s - loss: 0.4930
00:15:19 - process[7]: training epoch 10 ...
00:15:29 - process[7] - epoch 10 - train iter 187 - 16691.3 words/s - loss: 0.4834
00:15:29 - process[7]: evaluating epoch 10 on dev ...
00:16:09 - dev set during evaluation: 14980/14975
00:16:09 - process[7] - dev - epoch 10 - mAP: 0.387 w/ 35 queries
00:16:09 - process[7]: evaluating epoch 10 on test ...
00:16:51 - test set during evaluation: 15300/15294
00:16:51 - process[7] - test - epoch 10 - mAP: 0.328 w/ 36 queries
00:16:51 - process[7]: training epoch 11 ...
00:17:00 - process[7] - epoch 11 - train iter 187 - 20573.9 words/s - loss: 0.5294
00:17:00 - process[7]: evaluating epoch 11 on dev ...
00:17:43 - dev set during evaluation: 14980/14975
00:17:43 - process[7] - dev - epoch 11 - mAP: 0.292 w/ 35 queries
00:17:43 - process[7]: training epoch 12 ...
00:17:51 - process[7] - epoch 12 - train iter 187 - 19284.8 words/s - loss: 0.4858
00:17:51 - process[7]: evaluating epoch 12 on dev ...
00:18:34 - dev set during evaluation: 14980/14975
00:18:34 - process[7] - dev - epoch 12 - mAP: 0.295 w/ 35 queries
00:18:34 - process[7]: training epoch 13 ...
00:18:45 - process[7] - epoch 13 - train iter 187 - 15881.1 words/s - loss: 0.5022
00:18:45 - process[7]: evaluating epoch 13 on dev ...
00:19:25 - dev set during evaluation: 14980/14975
00:19:25 - process[7] - dev - epoch 13 - mAP: 0.356 w/ 35 queries
00:19:25 - process[7]: training epoch 14 ...
00:19:34 - process[7] - epoch 14 - train iter 187 - 18099.1 words/s - loss: 0.4401
00:19:34 - process[7]: evaluating epoch 14 on dev ...
00:20:16 - dev set during evaluation: 14980/14975
00:20:16 - process[7] - dev - epoch 14 - mAP: 0.311 w/ 35 queries
00:20:16 - process[7]: training epoch 15 ...
00:20:28 - process[7] - epoch 15 - train iter 187 - 14298.9 words/s - loss: 0.4277
00:20:28 - process[7]: evaluating epoch 15 on dev ...
00:21:07 - dev set during evaluation: 14980/14975
00:21:07 - process[7] - dev - epoch 15 - mAP: 0.327 w/ 35 queries
00:21:07 - process[7]: training epoch 16 ...
00:21:18 - process[7] - epoch 16 - train iter 187 - 15542.6 words/s - loss: 0.4399
00:21:18 - process[7]: evaluating epoch 16 on dev ...
00:22:02 - dev set during evaluation: 14980/14975
00:22:02 - process[7] - dev - epoch 16 - mAP: 0.330 w/ 35 queries
00:22:02 - process[7]: training epoch 17 ...
00:22:13 - process[7] - epoch 17 - train iter 187 - 14808.4 words/s - loss: 0.5040
00:22:13 - process[7]: evaluating epoch 17 on dev ...
00:22:52 - dev set during evaluation: 14980/14975
00:22:52 - process[7] - dev - epoch 17 - mAP: 0.367 w/ 35 queries
00:22:52 - process[7]: training epoch 18 ...
00:23:02 - process[7] - epoch 18 - train iter 187 - 17032.2 words/s - loss: 0.4273
00:23:02 - process[7]: evaluating epoch 18 on dev ...
00:23:44 - dev set during evaluation: 14980/14975
00:23:44 - process[7] - dev - epoch 18 - mAP: 0.375 w/ 35 queries
00:23:44 - process[7]: training epoch 19 ...
00:23:53 - process[7] - epoch 19 - train iter 187 - 18285.2 words/s - loss: 0.4816
00:23:53 - process[7]: evaluating epoch 19 on dev ...
00:24:35 - dev set during evaluation: 14980/14975
00:24:35 - process[7] - dev - epoch 19 - mAP: 0.374 w/ 35 queries
00:24:35 - [fold 2] best test MAP: 0.328 @ epoch 10
00:24:35 - Evaluating every 1 epochs ...
00:24:35 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:24:35 - test has 35 queries ...
00:24:35 - Data reading done ...
00:24:37 - adding 9-th encoder to optimizer...
00:24:37 - adding 10-th encoder to optimizer...
00:24:37 - adding 11-th encoder to optimizer...
00:24:37 - process[7]: training epoch 0 ...
00:24:47 - process[7] - epoch 0 - train iter 196 - 18309.5 words/s - loss: 0.6912
00:24:47 - process[7]: training epoch 1 ...
00:24:58 - process[7] - epoch 1 - train iter 196 - 16474.4 words/s - loss: 0.6732
00:24:58 - process[7]: training epoch 2 ...
00:25:08 - process[7] - epoch 2 - train iter 196 - 17386.8 words/s - loss: 0.6305
00:25:08 - process[7]: training epoch 3 ...
00:25:18 - process[7] - epoch 3 - train iter 196 - 17140.0 words/s - loss: 0.6334
00:25:18 - process[7]: training epoch 4 ...
00:25:28 - process[7] - epoch 4 - train iter 196 - 18589.2 words/s - loss: 0.6074
00:25:28 - process[7]: training epoch 5 ...
00:25:37 - process[7] - epoch 5 - train iter 196 - 18031.4 words/s - loss: 0.5595
00:25:37 - process[7]: training epoch 6 ...
00:25:47 - process[7] - epoch 6 - train iter 196 - 18015.7 words/s - loss: 0.5138
00:25:47 - process[7]: training epoch 7 ...
00:25:56 - process[7] - epoch 7 - train iter 196 - 19403.9 words/s - loss: 0.5374
00:25:56 - process[7]: training epoch 8 ...
00:26:07 - process[7] - epoch 8 - train iter 196 - 15778.1 words/s - loss: 0.5011
00:26:07 - process[7]: training epoch 9 ...
00:26:17 - process[7] - epoch 9 - train iter 196 - 18014.3 words/s - loss: 0.4733
00:26:17 - process[7]: training epoch 10 ...
00:26:27 - process[7] - epoch 10 - train iter 196 - 17560.5 words/s - loss: 0.4948
00:26:27 - process[7]: evaluating epoch 10 on dev ...
00:27:18 - dev set during evaluation: 15300/15294
00:27:18 - process[7] - dev - epoch 10 - mAP: 0.273 w/ 36 queries
00:27:18 - process[7]: evaluating epoch 10 on test ...
00:28:00 - test set during evaluation: 15480/15477
00:28:00 - process[7] - test - epoch 10 - mAP: 0.274 w/ 35 queries
00:28:00 - process[7]: training epoch 11 ...
00:28:11 - process[7] - epoch 11 - train iter 196 - 16420.8 words/s - loss: 0.5360
00:28:11 - process[7]: evaluating epoch 11 on dev ...
00:28:53 - dev set during evaluation: 15300/15294
00:28:53 - process[7] - dev - epoch 11 - mAP: 0.298 w/ 36 queries
00:28:53 - process[7]: evaluating epoch 11 on test ...
00:29:35 - test set during evaluation: 15480/15477
00:29:35 - process[7] - test - epoch 11 - mAP: 0.297 w/ 35 queries
00:29:35 - process[7]: training epoch 12 ...
00:29:46 - process[7] - epoch 12 - train iter 196 - 17306.2 words/s - loss: 0.4766
00:29:46 - process[7]: evaluating epoch 12 on dev ...
00:30:28 - dev set during evaluation: 15300/15294
00:30:28 - process[7] - dev - epoch 12 - mAP: 0.309 w/ 36 queries
00:30:28 - process[7]: evaluating epoch 12 on test ...
00:31:11 - test set during evaluation: 15480/15477
00:31:11 - process[7] - test - epoch 12 - mAP: 0.307 w/ 35 queries
00:31:11 - process[7]: training epoch 13 ...
00:31:22 - process[7] - epoch 13 - train iter 196 - 16348.9 words/s - loss: 0.4614
00:31:22 - process[7]: evaluating epoch 13 on dev ...
00:32:04 - dev set during evaluation: 15300/15294
00:32:04 - process[7] - dev - epoch 13 - mAP: 0.331 w/ 36 queries
00:32:04 - process[7]: evaluating epoch 13 on test ...
00:32:50 - test set during evaluation: 15480/15477
00:32:50 - process[7] - test - epoch 13 - mAP: 0.327 w/ 35 queries
00:32:50 - process[7]: training epoch 14 ...
00:33:01 - process[7] - epoch 14 - train iter 196 - 15974.4 words/s - loss: 0.4832
00:33:01 - process[7]: evaluating epoch 14 on dev ...
00:33:43 - dev set during evaluation: 15300/15294
00:33:43 - process[7] - dev - epoch 14 - mAP: 0.331 w/ 36 queries
00:33:43 - process[7]: evaluating epoch 14 on test ...
00:34:25 - test set during evaluation: 15480/15477
00:34:25 - process[7] - test - epoch 14 - mAP: 0.302 w/ 35 queries
00:34:25 - process[7]: training epoch 15 ...
00:34:35 - process[7] - epoch 15 - train iter 196 - 17709.6 words/s - loss: 0.4788
00:34:35 - process[7]: evaluating epoch 15 on dev ...
00:35:17 - dev set during evaluation: 15300/15294
00:35:17 - process[7] - dev - epoch 15 - mAP: 0.301 w/ 36 queries
00:35:17 - process[7]: training epoch 16 ...
00:35:27 - process[7] - epoch 16 - train iter 196 - 17246.2 words/s - loss: 0.4656
00:35:27 - process[7]: evaluating epoch 16 on dev ...
00:36:10 - dev set during evaluation: 15300/15294
00:36:10 - process[7] - dev - epoch 16 - mAP: 0.315 w/ 36 queries
00:36:10 - process[7]: training epoch 17 ...
00:36:19 - process[7] - epoch 17 - train iter 196 - 18270.9 words/s - loss: 0.4188
00:36:19 - process[7]: evaluating epoch 17 on dev ...
00:37:02 - dev set during evaluation: 15300/15294
00:37:02 - process[7] - dev - epoch 17 - mAP: 0.388 w/ 36 queries
00:37:02 - process[7]: evaluating epoch 17 on test ...
00:37:44 - test set during evaluation: 15480/15477
00:37:44 - process[7] - test - epoch 17 - mAP: 0.336 w/ 35 queries
00:37:44 - process[7]: training epoch 18 ...
00:37:54 - process[7] - epoch 18 - train iter 196 - 18325.7 words/s - loss: 0.4391
00:37:54 - process[7]: evaluating epoch 18 on dev ...
00:38:37 - dev set during evaluation: 15300/15294
00:38:37 - process[7] - dev - epoch 18 - mAP: 0.342 w/ 36 queries
00:38:37 - process[7]: training epoch 19 ...
00:38:48 - process[7] - epoch 19 - train iter 196 - 17771.2 words/s - loss: 0.4325
00:38:48 - process[7]: evaluating epoch 19 on dev ...
00:39:31 - dev set during evaluation: 15300/15294
00:39:31 - process[7] - dev - epoch 19 - mAP: 0.336 w/ 36 queries
00:39:31 - [fold 3] best test MAP: 0.336 @ epoch 17
00:39:31 - Evaluating every 1 epochs ...
00:39:31 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:39:32 - test has 35 queries ...
00:39:32 - Data reading done ...
00:39:34 - adding 9-th encoder to optimizer...
00:39:34 - adding 10-th encoder to optimizer...
00:39:34 - adding 11-th encoder to optimizer...
00:39:34 - process[7]: training epoch 0 ...
00:39:44 - process[7] - epoch 0 - train iter 207 - 18337.5 words/s - loss: 0.6803
00:39:44 - process[7]: training epoch 1 ...
00:39:57 - process[7] - epoch 1 - train iter 207 - 15412.1 words/s - loss: 0.6479
00:39:57 - process[7]: training epoch 2 ...
00:40:08 - process[7] - epoch 2 - train iter 207 - 16031.0 words/s - loss: 0.6068
00:40:08 - process[7]: training epoch 3 ...
00:40:19 - process[7] - epoch 3 - train iter 207 - 16929.5 words/s - loss: 0.5837
00:40:19 - process[7]: training epoch 4 ...
00:40:31 - process[7] - epoch 4 - train iter 207 - 15955.0 words/s - loss: 0.5520
00:40:31 - process[7]: training epoch 5 ...
00:40:42 - process[7] - epoch 5 - train iter 207 - 16189.9 words/s - loss: 0.5426
00:40:45 - process[7]: training epoch 6 ...
00:40:57 - process[7] - epoch 6 - train iter 207 - 15914.9 words/s - loss: 0.5284
00:40:57 - process[7]: training epoch 7 ...
00:41:08 - process[7] - epoch 7 - train iter 207 - 16408.8 words/s - loss: 0.5119
00:41:08 - process[7]: training epoch 8 ...
00:41:19 - process[7] - epoch 8 - train iter 207 - 16617.1 words/s - loss: 0.5087
00:41:19 - process[7]: training epoch 9 ...
00:41:30 - process[7] - epoch 9 - train iter 207 - 17691.1 words/s - loss: 0.5099
00:41:30 - process[7]: training epoch 10 ...
00:41:41 - process[7] - epoch 10 - train iter 207 - 17028.3 words/s - loss: 0.4710
00:41:41 - process[7]: evaluating epoch 10 on dev ...
00:42:23 - dev set during evaluation: 15480/15477
00:42:23 - process[7] - dev - epoch 10 - mAP: 0.290 w/ 35 queries
00:42:23 - process[7]: evaluating epoch 10 on test ...
00:43:05 - test set during evaluation: 14470/14463
00:43:05 - process[7] - test - epoch 10 - mAP: 0.263 w/ 35 queries
00:43:05 - process[7]: training epoch 11 ...
00:43:17 - process[7] - epoch 11 - train iter 207 - 16652.6 words/s - loss: 0.4289
00:43:17 - process[7]: evaluating epoch 11 on dev ...
00:43:58 - dev set during evaluation: 15480/15477
00:43:58 - process[7] - dev - epoch 11 - mAP: 0.291 w/ 35 queries
00:43:58 - process[7]: evaluating epoch 11 on test ...
00:44:40 - test set during evaluation: 14470/14463
00:44:40 - process[7] - test - epoch 11 - mAP: 0.292 w/ 35 queries
00:44:40 - process[7]: training epoch 12 ...
00:44:52 - process[7] - epoch 12 - train iter 207 - 16429.5 words/s - loss: 0.4916
00:44:52 - process[7]: evaluating epoch 12 on dev ...
00:45:34 - dev set during evaluation: 15480/15477
00:45:34 - process[7] - dev - epoch 12 - mAP: 0.265 w/ 35 queries
00:45:34 - process[7]: training epoch 13 ...
00:45:46 - process[7] - epoch 13 - train iter 207 - 15921.8 words/s - loss: 0.4343
00:45:46 - process[7]: evaluating epoch 13 on dev ...
00:46:27 - dev set during evaluation: 15480/15477
00:46:27 - process[7] - dev - epoch 13 - mAP: 0.281 w/ 35 queries
00:46:27 - process[7]: training epoch 14 ...
00:46:39 - process[7] - epoch 14 - train iter 207 - 16217.8 words/s - loss: 0.4226
00:46:39 - process[7]: evaluating epoch 14 on dev ...
00:47:21 - dev set during evaluation: 15480/15477
00:47:21 - process[7] - dev - epoch 14 - mAP: 0.293 w/ 35 queries
00:47:21 - process[7]: evaluating epoch 14 on test ...
00:48:03 - test set during evaluation: 14470/14463
00:48:03 - process[7] - test - epoch 14 - mAP: 0.314 w/ 35 queries
00:48:03 - process[7]: training epoch 15 ...
00:48:13 - process[7] - epoch 15 - train iter 207 - 17932.1 words/s - loss: 0.4319
00:48:13 - process[7]: evaluating epoch 15 on dev ...
00:48:55 - dev set during evaluation: 15480/15477
00:48:55 - process[7] - dev - epoch 15 - mAP: 0.280 w/ 35 queries
00:48:55 - process[7]: training epoch 16 ...
00:49:07 - process[7] - epoch 16 - train iter 207 - 16382.3 words/s - loss: 0.4631
00:49:07 - process[7]: evaluating epoch 16 on dev ...
00:49:49 - dev set during evaluation: 15480/15477
00:49:49 - process[7] - dev - epoch 16 - mAP: 0.283 w/ 35 queries
00:49:49 - process[7]: training epoch 17 ...
00:50:00 - process[7] - epoch 17 - train iter 207 - 17363.0 words/s - loss: 0.4433
00:50:00 - process[7]: evaluating epoch 17 on dev ...
00:50:43 - dev set during evaluation: 15480/15477
00:50:43 - process[7] - dev - epoch 17 - mAP: 0.331 w/ 35 queries
00:50:43 - process[7]: evaluating epoch 17 on test ...
00:51:25 - test set during evaluation: 14470/14463
00:51:25 - process[7] - test - epoch 17 - mAP: 0.323 w/ 35 queries
00:51:25 - process[7]: training epoch 18 ...
00:51:35 - process[7] - epoch 18 - train iter 207 - 18176.2 words/s - loss: 0.4190
00:51:35 - process[7]: evaluating epoch 18 on dev ...
00:52:18 - dev set during evaluation: 15480/15477
00:52:18 - process[7] - dev - epoch 18 - mAP: 0.323 w/ 35 queries
00:52:18 - process[7]: training epoch 19 ...
00:52:30 - process[7] - epoch 19 - train iter 207 - 16196.0 words/s - loss: 0.4025
00:52:30 - process[7]: evaluating epoch 19 on dev ...
00:53:12 - dev set during evaluation: 15480/15477
00:53:12 - process[7] - dev - epoch 19 - mAP: 0.312 w/ 35 queries
00:53:12 - [fold 4] best test MAP: 0.323 @ epoch 17
00:53:12 - Evaluating every 1 epochs ...
00:53:12 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:53:12 - test has 35 queries ...
00:53:12 - Data reading done ...
00:53:14 - adding 9-th encoder to optimizer...
00:53:14 - adding 10-th encoder to optimizer...
00:53:14 - adding 11-th encoder to optimizer...
00:53:14 - process[7]: training epoch 0 ...
00:53:25 - process[7] - epoch 0 - train iter 195 - 16960.2 words/s - loss: 0.6807
00:53:25 - process[7]: training epoch 1 ...
00:53:35 - process[7] - epoch 1 - train iter 195 - 16419.3 words/s - loss: 0.6380
00:53:35 - process[7]: training epoch 2 ...
00:53:45 - process[7] - epoch 2 - train iter 195 - 17260.2 words/s - loss: 0.5996
00:53:45 - process[7]: training epoch 3 ...
00:53:57 - process[7] - epoch 3 - train iter 195 - 15786.5 words/s - loss: 0.6018
00:53:57 - process[7]: training epoch 4 ...
00:54:07 - process[7] - epoch 4 - train iter 195 - 16368.0 words/s - loss: 0.5384
00:54:07 - process[7]: training epoch 5 ...
00:54:17 - process[7] - epoch 5 - train iter 195 - 17493.5 words/s - loss: 0.5474
00:54:17 - process[7]: training epoch 6 ...
00:54:29 - process[7] - epoch 6 - train iter 195 - 14943.1 words/s - loss: 0.5113
00:54:29 - process[7]: training epoch 7 ...
00:54:40 - process[7] - epoch 7 - train iter 195 - 15937.6 words/s - loss: 0.5294
00:54:40 - process[7]: training epoch 8 ...
00:54:50 - process[7] - epoch 8 - train iter 195 - 17649.3 words/s - loss: 0.4783
00:54:50 - process[7]: training epoch 9 ...
00:55:01 - process[7] - epoch 9 - train iter 195 - 14971.6 words/s - loss: 0.5394
00:55:01 - process[7]: training epoch 10 ...
00:55:13 - process[7] - epoch 10 - train iter 195 - 14748.0 words/s - loss: 0.4845
00:55:13 - process[7]: evaluating epoch 10 on dev ...
00:55:58 - dev set during evaluation: 14470/14463
00:55:58 - process[7] - dev - epoch 10 - mAP: 0.295 w/ 35 queries
00:55:58 - process[7]: evaluating epoch 10 on test ...
00:56:43 - test set during evaluation: 14160/14157
00:56:43 - process[7] - test - epoch 10 - mAP: 0.323 w/ 35 queries
00:56:43 - process[7]: training epoch 11 ...
00:56:55 - process[7] - epoch 11 - train iter 195 - 14796.4 words/s - loss: 0.4748
00:56:55 - process[7]: evaluating epoch 11 on dev ...
00:57:37 - dev set during evaluation: 14470/14463
00:57:37 - process[7] - dev - epoch 11 - mAP: 0.285 w/ 35 queries
00:57:37 - process[7]: training epoch 12 ...
00:57:48 - process[7] - epoch 12 - train iter 195 - 17233.3 words/s - loss: 0.4469
00:57:48 - process[7]: evaluating epoch 12 on dev ...
00:58:30 - dev set during evaluation: 14470/14463
00:58:30 - process[7] - dev - epoch 12 - mAP: 0.318 w/ 35 queries
00:58:30 - process[7]: evaluating epoch 12 on test ...
00:59:15 - test set during evaluation: 14160/14157
00:59:15 - process[7] - test - epoch 12 - mAP: 0.351 w/ 35 queries
00:59:15 - process[7]: training epoch 13 ...
00:59:25 - process[7] - epoch 13 - train iter 195 - 17413.5 words/s - loss: 0.4285
00:59:25 - process[7]: evaluating epoch 13 on dev ...
01:00:08 - dev set during evaluation: 14470/14463
01:00:08 - process[7] - dev - epoch 13 - mAP: 0.336 w/ 35 queries
01:00:08 - process[7]: evaluating epoch 13 on test ...
01:00:53 - test set during evaluation: 14160/14157
01:00:53 - process[7] - test - epoch 13 - mAP: 0.359 w/ 35 queries
01:00:53 - process[7]: training epoch 14 ...
01:01:04 - process[7] - epoch 14 - train iter 195 - 15762.9 words/s - loss: 0.4444
01:01:04 - process[7]: evaluating epoch 14 on dev ...
01:01:46 - dev set during evaluation: 14470/14463
01:01:47 - process[7] - dev - epoch 14 - mAP: 0.339 w/ 35 queries
01:01:47 - process[7]: evaluating epoch 14 on test ...
01:02:32 - test set during evaluation: 14160/14157
01:02:32 - process[7] - test - epoch 14 - mAP: 0.342 w/ 35 queries
01:02:32 - process[7]: training epoch 15 ...
01:02:43 - process[7] - epoch 15 - train iter 195 - 15905.2 words/s - loss: 0.4803
01:02:43 - process[7]: evaluating epoch 15 on dev ...
01:03:24 - dev set during evaluation: 14470/14463
01:03:24 - process[7] - dev - epoch 15 - mAP: 0.311 w/ 35 queries
01:03:24 - process[7]: training epoch 16 ...
01:03:34 - process[7] - epoch 16 - train iter 195 - 16709.6 words/s - loss: 0.4537
01:03:34 - process[7]: evaluating epoch 16 on dev ...
01:04:17 - dev set during evaluation: 14470/14463
01:04:17 - process[7] - dev - epoch 16 - mAP: 0.296 w/ 35 queries
01:04:17 - process[7]: training epoch 17 ...
01:04:28 - process[7] - epoch 17 - train iter 195 - 16366.2 words/s - loss: 0.4047
01:04:28 - process[7]: evaluating epoch 17 on dev ...
01:05:11 - dev set during evaluation: 14470/14463
01:05:11 - process[7] - dev - epoch 17 - mAP: 0.342 w/ 35 queries
01:05:11 - process[7]: evaluating epoch 17 on test ...
01:05:56 - test set during evaluation: 14160/14157
01:05:56 - process[7] - test - epoch 17 - mAP: 0.352 w/ 35 queries
01:05:56 - process[7]: training epoch 18 ...
01:06:06 - process[7] - epoch 18 - train iter 195 - 16690.4 words/s - loss: 0.4581
01:06:06 - process[7]: evaluating epoch 18 on dev ...
01:06:48 - dev set during evaluation: 14470/14463
01:06:48 - process[7] - dev - epoch 18 - mAP: 0.348 w/ 35 queries
01:06:48 - process[7]: evaluating epoch 18 on test ...
01:07:33 - test set during evaluation: 14160/14157
01:07:33 - process[7] - test - epoch 18 - mAP: 0.348 w/ 35 queries
01:07:33 - process[7]: training epoch 19 ...
01:07:44 - process[7] - epoch 19 - train iter 195 - 15462.0 words/s - loss: 0.4217
01:07:44 - process[7]: evaluating epoch 19 on dev ...
01:08:25 - dev set during evaluation: 14470/14463
01:08:25 - process[7] - dev - epoch 19 - mAP: 0.306 w/ 35 queries
01:08:26 - [fold 5] best test MAP: 0.348 @ epoch 18
01:08:26 - [0.3827829013885834, 0.3277149519253127, 0.33600581380736017, 0.3231640701663685, 0.34844428784499326]
01:08:26 - [35, 36, 35, 35, 35]
01:08:26 - final MAP: 0.344
00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='/mnt/scratch/puxuan/short_qlm_doc/2186796/huggingface-4', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='en')
00:00:14 - Evaluating every 1 epochs ...
00:00:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 35 queries ...
00:00:15 - Data reading done ...
00:00:21 - adding 9-th encoder to optimizer...
00:00:21 - adding 10-th encoder to optimizer...
00:00:21 - adding 11-th encoder to optimizer...
00:00:22 - process[7]: training epoch 0 ...
00:00:34 - process[7] - epoch 0 - train iter 197 - 14799.0 words/s - loss: 0.6758
00:00:34 - process[7]: training epoch 1 ...
00:00:45 - process[7] - epoch 1 - train iter 197 - 15594.2 words/s - loss: 0.6373
00:00:45 - process[7]: training epoch 2 ...
00:00:55 - process[7] - epoch 2 - train iter 197 - 18146.5 words/s - loss: 0.6389
00:00:55 - process[7]: training epoch 3 ...
00:01:06 - process[7] - epoch 3 - train iter 197 - 16636.0 words/s - loss: 0.5716
00:01:06 - process[7]: training epoch 4 ...
00:01:19 - process[7] - epoch 4 - train iter 197 - 14153.5 words/s - loss: 0.5742
00:01:19 - process[7]: training epoch 5 ...
00:01:30 - process[7] - epoch 5 - train iter 197 - 14927.6 words/s - loss: 0.5836
00:01:30 - process[7]: training epoch 6 ...
00:01:42 - process[7] - epoch 6 - train iter 197 - 16162.4 words/s - loss: 0.5449
00:01:42 - process[7]: training epoch 7 ...
00:01:53 - process[7] - epoch 7 - train iter 197 - 15452.2 words/s - loss: 0.5334
00:01:53 - process[7]: training epoch 8 ...
00:02:05 - process[7] - epoch 8 - train iter 197 - 15345.0 words/s - loss: 0.5460
00:02:05 - process[7]: training epoch 9 ...
00:02:15 - process[7] - epoch 9 - train iter 197 - 16362.6 words/s - loss: 0.5010
00:02:15 - process[7]: training epoch 10 ...
00:02:26 - process[7] - epoch 10 - train iter 197 - 17375.1 words/s - loss: 0.5162
00:02:26 - process[7]: evaluating epoch 10 on dev ...
00:03:14 - dev set during evaluation: 14160/14157
00:03:14 - process[7] - dev - epoch 10 - mAP: 0.362 w/ 35 queries
00:03:14 - process[7]: evaluating epoch 10 on test ...
00:03:55 - test set during evaluation: 14980/14975
00:03:55 - process[7] - test - epoch 10 - mAP: 0.366 w/ 35 queries
00:03:55 - process[7]: training epoch 11 ...
00:04:05 - process[7] - epoch 11 - train iter 197 - 17864.7 words/s - loss: 0.5021
00:04:05 - process[7]: evaluating epoch 11 on dev ...
00:04:53 - dev set during evaluation: 14160/14157
00:04:53 - process[7] - dev - epoch 11 - mAP: 0.360 w/ 35 queries
00:04:53 - process[7]: training epoch 12 ...
00:05:05 - process[7] - epoch 12 - train iter 197 - 14907.8 words/s - loss: 0.4521
00:05:05 - process[7]: evaluating epoch 12 on dev ...
00:05:48 - dev set during evaluation: 14160/14157
00:05:48 - process[7] - dev - epoch 12 - mAP: 0.397 w/ 35 queries
00:05:48 - process[7]: evaluating epoch 12 on test ...
00:06:29 - test set during evaluation: 14980/14975
00:06:29 - process[7] - test - epoch 12 - mAP: 0.368 w/ 35 queries
00:06:29 - process[7]: training epoch 13 ...
00:06:41 - process[7] - epoch 13 - train iter 197 - 14981.1 words/s - loss: 0.4530
00:06:41 - process[7]: evaluating epoch 13 on dev ...
00:07:26 - dev set during evaluation: 14160/14157
00:07:26 - process[7] - dev - epoch 13 - mAP: 0.369 w/ 35 queries
00:07:26 - process[7]: training epoch 14 ...
00:07:38 - process[7] - epoch 14 - train iter 197 - 15554.8 words/s - loss: 0.4494
00:07:38 - process[7]: evaluating epoch 14 on dev ...
00:08:23 - dev set during evaluation: 14160/14157
00:08:23 - process[7] - dev - epoch 14 - mAP: 0.383 w/ 35 queries
00:08:23 - process[7]: training epoch 15 ...
00:08:33 - process[7] - epoch 15 - train iter 197 - 17280.8 words/s - loss: 0.4314
00:08:33 - process[7]: evaluating epoch 15 on dev ...
00:09:19 - dev set during evaluation: 14160/14157
00:09:19 - process[7] - dev - epoch 15 - mAP: 0.398 w/ 35 queries
00:09:19 - process[7]: evaluating epoch 15 on test ...
00:10:01 - test set during evaluation: 14980/14975
00:10:01 - process[7] - test - epoch 15 - mAP: 0.383 w/ 35 queries
00:10:01 - process[7]: training epoch 16 ...
00:10:12 - process[7] - epoch 16 - train iter 197 - 15779.7 words/s - loss: 0.4724
00:10:12 - process[7]: evaluating epoch 16 on dev ...
00:10:57 - dev set during evaluation: 14160/14157
00:10:57 - process[7] - dev - epoch 16 - mAP: 0.384 w/ 35 queries
00:10:57 - process[7]: training epoch 17 ...
00:11:09 - process[7] - epoch 17 - train iter 197 - 14930.3 words/s - loss: 0.4241
00:11:09 - process[7]: evaluating epoch 17 on dev ...
00:11:54 - dev set during evaluation: 14160/14157
00:11:54 - process[7] - dev - epoch 17 - mAP: 0.338 w/ 35 queries
00:11:54 - process[7]: training epoch 18 ...
00:12:05 - process[7] - epoch 18 - train iter 197 - 15381.0 words/s - loss: 0.3584
00:12:05 - process[7]: evaluating epoch 18 on dev ...
00:12:49 - dev set during evaluation: 14160/14157
00:12:49 - process[7] - dev - epoch 18 - mAP: 0.351 w/ 35 queries
00:12:49 - process[7]: training epoch 19 ...
00:12:59 - process[7] - epoch 19 - train iter 197 - 16488.0 words/s - loss: 0.4720
00:12:59 - process[7]: evaluating epoch 19 on dev ...
00:13:46 - dev set during evaluation: 14160/14157
00:13:46 - process[7] - dev - epoch 19 - mAP: 0.383 w/ 35 queries
00:13:46 - [fold 1] best test MAP: 0.383 @ epoch 15
00:13:46 - Evaluating every 1 epochs ...
00:13:46 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:13:46 - test has 36 queries ...
00:13:46 - Data reading done ...
00:13:48 - adding 9-th encoder to optimizer...
00:13:48 - adding 10-th encoder to optimizer...
00:13:48 - adding 11-th encoder to optimizer...
00:13:49 - process[7]: training epoch 0 ...
00:13:58 - process[7] - epoch 0 - train iter 187 - 17508.0 words/s - loss: 0.6790
00:13:58 - process[7]: training epoch 1 ...
00:14:08 - process[7] - epoch 1 - train iter 187 - 17311.6 words/s - loss: 0.6754
00:14:08 - process[7]: training epoch 2 ...
00:14:18 - process[7] - epoch 2 - train iter 187 - 15948.6 words/s - loss: 0.6213
00:14:18 - process[7]: training epoch 3 ...
00:14:28 - process[7] - epoch 3 - train iter 187 - 17692.6 words/s - loss: 0.5603
00:14:28 - process[7]: training epoch 4 ...
00:14:38 - process[7] - epoch 4 - train iter 187 - 16756.4 words/s - loss: 0.6080
00:14:38 - process[7]: training epoch 5 ...
00:14:49 - process[7] - epoch 5 - train iter 187 - 15450.1 words/s - loss: 0.6091
00:14:49 - process[7]: training epoch 6 ...
00:14:59 - process[7] - epoch 6 - train iter 187 - 16307.5 words/s - loss: 0.5609
00:14:59 - process[7]: training epoch 7 ...
00:15:10 - process[7] - epoch 7 - train iter 187 - 16362.8 words/s - loss: 0.5183
00:15:10 - process[7]: training epoch 8 ...
00:15:20 - process[7] - epoch 8 - train iter 187 - 16676.2 words/s - loss: 0.4940
00:15:20 - process[7]: training epoch 9 ...
00:15:31 - process[7] - epoch 9 - train iter 187 - 15052.2 words/s - loss: 0.4930
00:15:31 - process[7]: training epoch 10 ...
00:15:42 - process[7] - epoch 10 - train iter 187 - 16674.1 words/s - loss: 0.4834
00:15:42 - process[7]: evaluating epoch 10 on dev ...
00:16:22 - dev set during evaluation: 14980/14975
00:16:22 - process[7] - dev - epoch 10 - mAP: 0.387 w/ 35 queries
00:16:22 - process[7]: evaluating epoch 10 on test ...
00:17:06 - test set during evaluation: 15300/15294
00:17:06 - process[7] - test - epoch 10 - mAP: 0.328 w/ 36 queries
00:17:06 - process[7]: training epoch 11 ...
00:17:14 - process[7] - epoch 11 - train iter 187 - 20645.3 words/s - loss: 0.5294
00:17:14 - process[7]: evaluating epoch 11 on dev ...
00:17:57 - dev set during evaluation: 14980/14975
00:17:57 - process[7] - dev - epoch 11 - mAP: 0.292 w/ 35 queries
00:17:57 - process[7]: training epoch 12 ...
00:18:06 - process[7] - epoch 12 - train iter 187 - 19231.5 words/s - loss: 0.4858
00:18:06 - process[7]: evaluating epoch 12 on dev ...
00:18:49 - dev set during evaluation: 14980/14975
00:18:49 - process[7] - dev - epoch 12 - mAP: 0.295 w/ 35 queries
00:18:49 - process[7]: training epoch 13 ...
00:19:00 - process[7] - epoch 13 - train iter 187 - 16201.8 words/s - loss: 0.5022
00:19:00 - process[7]: evaluating epoch 13 on dev ...
00:19:41 - dev set during evaluation: 14980/14975
00:19:41 - process[7] - dev - epoch 13 - mAP: 0.356 w/ 35 queries
00:19:41 - process[7]: training epoch 14 ...
00:19:50 - process[7] - epoch 14 - train iter 187 - 18179.6 words/s - loss: 0.4401
00:19:50 - process[7]: evaluating epoch 14 on dev ...
00:20:32 - dev set during evaluation: 14980/14975
00:20:32 - process[7] - dev - epoch 14 - mAP: 0.311 w/ 35 queries
00:20:32 - process[7]: training epoch 15 ...
00:20:44 - process[7] - epoch 15 - train iter 187 - 14360.9 words/s - loss: 0.4277
00:20:44 - process[7]: evaluating epoch 15 on dev ...
00:21:23 - dev set during evaluation: 14980/14975
00:21:23 - process[7] - dev - epoch 15 - mAP: 0.327 w/ 35 queries
00:21:23 - process[7]: training epoch 16 ...
00:21:34 - process[7] - epoch 16 - train iter 187 - 15572.1 words/s - loss: 0.4399
00:21:34 - process[7]: evaluating epoch 16 on dev ...
00:22:14 - dev set during evaluation: 14980/14975
00:22:14 - process[7] - dev - epoch 16 - mAP: 0.330 w/ 35 queries
00:22:14 - process[7]: training epoch 17 ...
00:22:26 - process[7] - epoch 17 - train iter 187 - 14669.7 words/s - loss: 0.5040
00:22:26 - process[7]: evaluating epoch 17 on dev ...
00:23:05 - dev set during evaluation: 14980/14975
00:23:05 - process[7] - dev - epoch 17 - mAP: 0.367 w/ 35 queries
00:23:05 - process[7]: training epoch 18 ...
00:23:15 - process[7] - epoch 18 - train iter 187 - 16967.7 words/s - loss: 0.4273
00:23:15 - process[7]: evaluating epoch 18 on dev ...
00:23:56 - dev set during evaluation: 14980/14975
00:23:56 - process[7] - dev - epoch 18 - mAP: 0.375 w/ 35 queries
00:23:56 - process[7]: training epoch 19 ...
00:24:06 - process[7] - epoch 19 - train iter 187 - 18321.8 words/s - loss: 0.4816
00:24:06 - process[7]: evaluating epoch 19 on dev ...
00:24:47 - dev set during evaluation: 14980/14975
00:24:47 - process[7] - dev - epoch 19 - mAP: 0.374 w/ 35 queries
00:24:47 - [fold 2] best test MAP: 0.328 @ epoch 10
00:24:47 - Evaluating every 1 epochs ...
00:24:47 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:24:48 - test has 35 queries ...
00:24:48 - Data reading done ...
00:24:49 - adding 9-th encoder to optimizer...
00:24:49 - adding 10-th encoder to optimizer...
00:24:49 - adding 11-th encoder to optimizer...
00:24:50 - process[7]: training epoch 0 ...
00:25:00 - process[7] - epoch 0 - train iter 196 - 18421.7 words/s - loss: 0.6912
00:25:00 - process[7]: training epoch 1 ...
00:25:10 - process[7] - epoch 1 - train iter 196 - 16595.1 words/s - loss: 0.6732
00:25:10 - process[7]: training epoch 2 ...
00:25:20 - process[7] - epoch 2 - train iter 196 - 17565.0 words/s - loss: 0.6305
00:25:20 - process[7]: training epoch 3 ...
00:25:31 - process[7] - epoch 3 - train iter 196 - 17174.1 words/s - loss: 0.6334
00:25:31 - process[7]: training epoch 4 ...
00:25:40 - process[7] - epoch 4 - train iter 196 - 18606.7 words/s - loss: 0.6074
00:25:40 - process[7]: training epoch 5 ...
00:25:50 - process[7] - epoch 5 - train iter 196 - 18043.9 words/s - loss: 0.5595
00:25:50 - process[7]: training epoch 6 ...
00:25:59 - process[7] - epoch 6 - train iter 196 - 18086.5 words/s - loss: 0.5138
00:25:59 - process[7]: training epoch 7 ...
00:26:08 - process[7] - epoch 7 - train iter 196 - 19479.0 words/s - loss: 0.5374
00:26:08 - process[7]: training epoch 8 ...
00:26:20 - process[7] - epoch 8 - train iter 196 - 15837.0 words/s - loss: 0.5011
00:26:20 - process[7]: training epoch 9 ...
00:26:29 - process[7] - epoch 9 - train iter 196 - 18039.0 words/s - loss: 0.4733
00:26:29 - process[7]: training epoch 10 ...
00:26:39 - process[7] - epoch 10 - train iter 196 - 17591.1 words/s - loss: 0.4948
00:26:39 - process[7]: evaluating epoch 10 on dev ...
00:27:32 - dev set during evaluation: 15300/15294
00:27:32 - process[7] - dev - epoch 10 - mAP: 0.273 w/ 36 queries
00:27:32 - process[7]: evaluating epoch 10 on test ...
00:28:15 - test set during evaluation: 15480/15477
00:28:15 - process[7] - test - epoch 10 - mAP: 0.274 w/ 35 queries
00:28:15 - process[7]: training epoch 11 ...
00:28:25 - process[7] - epoch 11 - train iter 196 - 16483.5 words/s - loss: 0.5360
00:28:25 - process[7]: evaluating epoch 11 on dev ...
00:29:09 - dev set during evaluation: 15300/15294
00:29:09 - process[7] - dev - epoch 11 - mAP: 0.298 w/ 36 queries
00:29:09 - process[7]: evaluating epoch 11 on test ...
00:29:51 - test set during evaluation: 15480/15477
00:29:51 - process[7] - test - epoch 11 - mAP: 0.297 w/ 35 queries
00:29:51 - process[7]: training epoch 12 ...
00:30:01 - process[7] - epoch 12 - train iter 196 - 17438.6 words/s - loss: 0.4766
00:30:01 - process[7]: evaluating epoch 12 on dev ...
00:30:44 - dev set during evaluation: 15300/15294
00:30:44 - process[7] - dev - epoch 12 - mAP: 0.309 w/ 36 queries
00:30:44 - process[7]: evaluating epoch 12 on test ...
00:31:26 - test set during evaluation: 15480/15477
00:31:26 - process[7] - test - epoch 12 - mAP: 0.307 w/ 35 queries
00:31:26 - process[7]: training epoch 13 ...
00:31:37 - process[7] - epoch 13 - train iter 196 - 16337.0 words/s - loss: 0.4614
00:31:37 - process[7]: evaluating epoch 13 on dev ...
00:32:21 - dev set during evaluation: 15300/15294
00:32:21 - process[7] - dev - epoch 13 - mAP: 0.331 w/ 36 queries
00:32:21 - process[7]: evaluating epoch 13 on test ...
00:33:03 - test set during evaluation: 15480/15477
00:33:03 - process[7] - test - epoch 13 - mAP: 0.327 w/ 35 queries
00:33:03 - process[7]: training epoch 14 ...
00:33:14 - process[7] - epoch 14 - train iter 196 - 16098.4 words/s - loss: 0.4832
00:33:14 - process[7]: evaluating epoch 14 on dev ...
00:33:57 - dev set during evaluation: 15300/15294
00:33:57 - process[7] - dev - epoch 14 - mAP: 0.331 w/ 36 queries
00:33:57 - process[7]: evaluating epoch 14 on test ...
00:34:39 - test set during evaluation: 15480/15477
00:34:39 - process[7] - test - epoch 14 - mAP: 0.302 w/ 35 queries
00:34:39 - process[7]: training epoch 15 ...
00:34:49 - process[7] - epoch 15 - train iter 196 - 17720.2 words/s - loss: 0.4788
00:34:49 - process[7]: evaluating epoch 15 on dev ...
00:35:32 - dev set during evaluation: 15300/15294
00:35:32 - process[7] - dev - epoch 15 - mAP: 0.301 w/ 36 queries
00:35:32 - process[7]: training epoch 16 ...
00:35:42 - process[7] - epoch 16 - train iter 196 - 17417.7 words/s - loss: 0.4656
00:35:42 - process[7]: evaluating epoch 16 on dev ...
00:36:24 - dev set during evaluation: 15300/15294
00:36:24 - process[7] - dev - epoch 16 - mAP: 0.315 w/ 36 queries
00:36:24 - process[7]: training epoch 17 ...
00:36:34 - process[7] - epoch 17 - train iter 196 - 18304.5 words/s - loss: 0.4188
00:36:34 - process[7]: evaluating epoch 17 on dev ...
00:37:18 - dev set during evaluation: 15300/15294
00:37:18 - process[7] - dev - epoch 17 - mAP: 0.388 w/ 36 queries
00:37:18 - process[7]: evaluating epoch 17 on test ...
00:38:00 - test set during evaluation: 15480/15477
00:38:00 - process[7] - test - epoch 17 - mAP: 0.336 w/ 35 queries
00:38:00 - process[7]: training epoch 18 ...
00:38:10 - process[7] - epoch 18 - train iter 196 - 18419.3 words/s - loss: 0.4391
00:38:10 - process[7]: evaluating epoch 18 on dev ...
00:38:54 - dev set during evaluation: 15300/15294
00:38:54 - process[7] - dev - epoch 18 - mAP: 0.342 w/ 36 queries
00:38:54 - process[7]: training epoch 19 ...
00:39:04 - process[7] - epoch 19 - train iter 196 - 17908.8 words/s - loss: 0.4325
00:39:04 - process[7]: evaluating epoch 19 on dev ...
00:39:48 - dev set during evaluation: 15300/15294
00:39:48 - process[7] - dev - epoch 19 - mAP: 0.336 w/ 36 queries
00:39:48 - [fold 3] best test MAP: 0.336 @ epoch 17
00:39:48 - Evaluating every 1 epochs ...
00:39:48 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:39:48 - test has 35 queries ...
00:39:48 - Data reading done ...
00:39:50 - adding 9-th encoder to optimizer...
00:39:50 - adding 10-th encoder to optimizer...
00:39:50 - adding 11-th encoder to optimizer...
00:39:51 - process[7]: training epoch 0 ...
00:40:01 - process[7] - epoch 0 - train iter 207 - 18262.2 words/s - loss: 0.6803
00:40:01 - process[7]: training epoch 1 ...
00:40:13 - process[7] - epoch 1 - train iter 207 - 15341.4 words/s - loss: 0.6479
00:40:13 - process[7]: training epoch 2 ...
00:40:25 - process[7] - epoch 2 - train iter 207 - 15966.4 words/s - loss: 0.6068
00:40:25 - process[7]: training epoch 3 ...
00:40:36 - process[7] - epoch 3 - train iter 207 - 16909.7 words/s - loss: 0.5837
00:40:36 - process[7]: training epoch 4 ...
00:40:48 - process[7] - epoch 4 - train iter 207 - 15948.9 words/s - loss: 0.5520
00:40:48 - process[7]: training epoch 5 ...
00:40:59 - process[7] - epoch 5 - train iter 207 - 16265.1 words/s - loss: 0.5426
00:40:59 - process[7]: training epoch 6 ...
00:41:11 - process[7] - epoch 6 - train iter 207 - 15947.3 words/s - loss: 0.5284
00:41:11 - process[7]: training epoch 7 ...
00:41:22 - process[7] - epoch 7 - train iter 207 - 16458.8 words/s - loss: 0.5119
00:41:22 - process[7]: training epoch 8 ...
00:41:33 - process[7] - epoch 8 - train iter 207 - 16607.0 words/s - loss: 0.5087
00:41:33 - process[7]: training epoch 9 ...
00:41:44 - process[7] - epoch 9 - train iter 207 - 17782.5 words/s - loss: 0.5099
00:41:44 - process[7]: training epoch 10 ...
00:41:55 - process[7] - epoch 10 - train iter 207 - 17026.1 words/s - loss: 0.4710
00:41:55 - process[7]: evaluating epoch 10 on dev ...
00:42:40 - dev set during evaluation: 15480/15477
00:42:40 - process[7] - dev - epoch 10 - mAP: 0.290 w/ 35 queries
00:42:40 - process[7]: evaluating epoch 10 on test ...
00:43:23 - test set during evaluation: 14470/14463
00:43:23 - process[7] - test - epoch 10 - mAP: 0.263 w/ 35 queries
00:43:23 - process[7]: training epoch 11 ...
00:43:34 - process[7] - epoch 11 - train iter 207 - 16705.5 words/s - loss: 0.4289
00:43:34 - process[7]: evaluating epoch 11 on dev ...
00:44:16 - dev set during evaluation: 15480/15477
00:44:16 - process[7] - dev - epoch 11 - mAP: 0.291 w/ 35 queries
00:44:16 - process[7]: evaluating epoch 11 on test ...
00:44:58 - test set during evaluation: 14470/14463
00:44:58 - process[7] - test - epoch 11 - mAP: 0.292 w/ 35 queries
00:44:58 - process[7]: training epoch 12 ...
00:45:10 - process[7] - epoch 12 - train iter 207 - 16481.3 words/s - loss: 0.4916
00:45:10 - process[7]: evaluating epoch 12 on dev ...
00:45:52 - dev set during evaluation: 15480/15477
00:45:52 - process[7] - dev - epoch 12 - mAP: 0.265 w/ 35 queries
00:45:52 - process[7]: training epoch 13 ...
00:46:04 - process[7] - epoch 13 - train iter 207 - 15957.8 words/s - loss: 0.4343
00:46:04 - process[7]: evaluating epoch 13 on dev ...
00:46:45 - dev set during evaluation: 15480/15477
00:46:45 - process[7] - dev - epoch 13 - mAP: 0.281 w/ 35 queries
00:46:45 - process[7]: training epoch 14 ...
00:46:57 - process[7] - epoch 14 - train iter 207 - 16291.0 words/s - loss: 0.4226
00:46:57 - process[7]: evaluating epoch 14 on dev ...
00:47:39 - dev set during evaluation: 15480/15477
00:47:39 - process[7] - dev - epoch 14 - mAP: 0.293 w/ 35 queries
00:47:39 - process[7]: evaluating epoch 14 on test ...
00:48:21 - test set during evaluation: 14470/14463
00:48:21 - process[7] - test - epoch 14 - mAP: 0.314 w/ 35 queries
00:48:21 - process[7]: training epoch 15 ...
00:48:31 - process[7] - epoch 15 - train iter 207 - 18003.8 words/s - loss: 0.4319
00:48:31 - process[7]: evaluating epoch 15 on dev ...
00:49:14 - dev set during evaluation: 15480/15477
00:49:14 - process[7] - dev - epoch 15 - mAP: 0.280 w/ 35 queries
00:49:14 - process[7]: training epoch 16 ...
00:49:25 - process[7] - epoch 16 - train iter 207 - 16278.3 words/s - loss: 0.4631
00:49:25 - process[7]: evaluating epoch 16 on dev ...
00:50:07 - dev set during evaluation: 15480/15477
00:50:07 - process[7] - dev - epoch 16 - mAP: 0.283 w/ 35 queries
00:50:07 - process[7]: training epoch 17 ...
00:50:18 - process[7] - epoch 17 - train iter 207 - 17351.0 words/s - loss: 0.4433
00:50:18 - process[7]: evaluating epoch 17 on dev ...
00:51:01 - dev set during evaluation: 15480/15477
00:51:01 - process[7] - dev - epoch 17 - mAP: 0.331 w/ 35 queries
00:51:01 - process[7]: evaluating epoch 17 on test ...
00:51:44 - test set during evaluation: 14470/14463
00:51:44 - process[7] - test - epoch 17 - mAP: 0.323 w/ 35 queries
00:51:44 - process[7]: training epoch 18 ...
00:51:54 - process[7] - epoch 18 - train iter 207 - 18071.8 words/s - loss: 0.4190
00:51:54 - process[7]: evaluating epoch 18 on dev ...
00:52:37 - dev set during evaluation: 15480/15477
00:52:37 - process[7] - dev - epoch 18 - mAP: 0.323 w/ 35 queries
00:52:37 - process[7]: training epoch 19 ...
00:52:49 - process[7] - epoch 19 - train iter 207 - 16288.6 words/s - loss: 0.4025
00:52:49 - process[7]: evaluating epoch 19 on dev ...
00:53:30 - dev set during evaluation: 15480/15477
00:53:30 - process[7] - dev - epoch 19 - mAP: 0.312 w/ 35 queries
00:53:30 - [fold 4] best test MAP: 0.323 @ epoch 17
00:53:30 - Evaluating every 1 epochs ...
00:53:30 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:53:31 - test has 35 queries ...
00:53:31 - Data reading done ...
00:53:33 - adding 9-th encoder to optimizer...
00:53:33 - adding 10-th encoder to optimizer...
00:53:33 - adding 11-th encoder to optimizer...
00:53:33 - process[7]: training epoch 0 ...
00:53:43 - process[7] - epoch 0 - train iter 195 - 17005.7 words/s - loss: 0.6807
00:53:43 - process[7]: training epoch 1 ...
00:53:54 - process[7] - epoch 1 - train iter 195 - 16409.1 words/s - loss: 0.6380
00:53:54 - process[7]: training epoch 2 ...
00:54:04 - process[7] - epoch 2 - train iter 195 - 17213.8 words/s - loss: 0.5996
00:54:04 - process[7]: training epoch 3 ...
00:54:15 - process[7] - epoch 3 - train iter 195 - 15878.0 words/s - loss: 0.6018
00:54:15 - process[7]: training epoch 4 ...
00:54:26 - process[7] - epoch 4 - train iter 195 - 16512.8 words/s - loss: 0.5384
00:54:26 - process[7]: training epoch 5 ...
00:54:36 - process[7] - epoch 5 - train iter 195 - 17557.5 words/s - loss: 0.5474
00:54:36 - process[7]: training epoch 6 ...
00:54:47 - process[7] - epoch 6 - train iter 195 - 15028.4 words/s - loss: 0.5113
00:54:47 - process[7]: training epoch 7 ...
00:54:58 - process[7] - epoch 7 - train iter 195 - 15980.8 words/s - loss: 0.5294
00:54:58 - process[7]: training epoch 8 ...
00:55:08 - process[7] - epoch 8 - train iter 195 - 17691.7 words/s - loss: 0.4783
00:55:08 - process[7]: training epoch 9 ...
00:55:20 - process[7] - epoch 9 - train iter 195 - 15033.8 words/s - loss: 0.5394
00:55:20 - process[7]: training epoch 10 ...
00:55:31 - process[7] - epoch 10 - train iter 195 - 14860.1 words/s - loss: 0.4845
00:55:31 - process[7]: evaluating epoch 10 on dev ...
00:56:18 - dev set during evaluation: 14470/14463
00:56:18 - process[7] - dev - epoch 10 - mAP: 0.295 w/ 35 queries
00:56:18 - process[7]: evaluating epoch 10 on test ...
00:57:04 - test set during evaluation: 14160/14157
00:57:04 - process[7] - test - epoch 10 - mAP: 0.323 w/ 35 queries
00:57:04 - process[7]: training epoch 11 ...
00:57:15 - process[7] - epoch 11 - train iter 195 - 14761.7 words/s - loss: 0.4748
00:57:15 - process[7]: evaluating epoch 11 on dev ...
00:57:59 - dev set during evaluation: 14470/14463
00:57:59 - process[7] - dev - epoch 11 - mAP: 0.285 w/ 35 queries
00:57:59 - process[7]: training epoch 12 ...
00:58:09 - process[7] - epoch 12 - train iter 195 - 17309.0 words/s - loss: 0.4469
00:58:09 - process[7]: evaluating epoch 12 on dev ...
00:58:51 - dev set during evaluation: 14470/14463
00:58:51 - process[7] - dev - epoch 12 - mAP: 0.318 w/ 35 queries
00:58:51 - process[7]: evaluating epoch 12 on test ...
00:59:37 - test set during evaluation: 14160/14157
00:59:37 - process[7] - test - epoch 12 - mAP: 0.351 w/ 35 queries
00:59:37 - process[7]: training epoch 13 ...
00:59:47 - process[7] - epoch 13 - train iter 195 - 17564.4 words/s - loss: 0.4285
00:59:47 - process[7]: evaluating epoch 13 on dev ...
01:00:30 - dev set during evaluation: 14470/14463
01:00:30 - process[7] - dev - epoch 13 - mAP: 0.336 w/ 35 queries
01:00:30 - process[7]: evaluating epoch 13 on test ...
01:01:16 - test set during evaluation: 14160/14157
01:01:16 - process[7] - test - epoch 13 - mAP: 0.359 w/ 35 queries
01:01:16 - process[7]: training epoch 14 ...
01:01:27 - process[7] - epoch 14 - train iter 195 - 15824.4 words/s - loss: 0.4444
01:01:27 - process[7]: evaluating epoch 14 on dev ...
01:02:10 - dev set during evaluation: 14470/14463
01:02:10 - process[7] - dev - epoch 14 - mAP: 0.339 w/ 35 queries
01:02:10 - process[7]: evaluating epoch 14 on test ...
01:02:55 - test set during evaluation: 14160/14157
01:02:56 - process[7] - test - epoch 14 - mAP: 0.342 w/ 35 queries
01:02:56 - process[7]: training epoch 15 ...
01:03:06 - process[7] - epoch 15 - train iter 195 - 15925.6 words/s - loss: 0.4803
01:03:06 - process[7]: evaluating epoch 15 on dev ...
01:03:48 - dev set during evaluation: 14470/14463
01:03:48 - process[7] - dev - epoch 15 - mAP: 0.311 w/ 35 queries
01:03:48 - process[7]: training epoch 16 ...
01:03:59 - process[7] - epoch 16 - train iter 195 - 16693.6 words/s - loss: 0.4537
01:03:59 - process[7]: evaluating epoch 16 on dev ...
01:04:43 - dev set during evaluation: 14470/14463
01:04:43 - process[7] - dev - epoch 16 - mAP: 0.296 w/ 35 queries
01:04:43 - process[7]: training epoch 17 ...
01:04:53 - process[7] - epoch 17 - train iter 195 - 16382.1 words/s - loss: 0.4047
01:04:53 - process[7]: evaluating epoch 17 on dev ...
01:05:37 - dev set during evaluation: 14470/14463
01:05:37 - process[7] - dev - epoch 17 - mAP: 0.342 w/ 35 queries
01:05:37 - process[7]: evaluating epoch 17 on test ...
01:06:22 - test set during evaluation: 14160/14157
01:06:22 - process[7] - test - epoch 17 - mAP: 0.352 w/ 35 queries
01:06:22 - process[7]: training epoch 18 ...
01:06:32 - process[7] - epoch 18 - train iter 195 - 16781.8 words/s - loss: 0.4581
01:06:32 - process[7]: evaluating epoch 18 on dev ...
01:07:14 - dev set during evaluation: 14470/14463
01:07:14 - process[7] - dev - epoch 18 - mAP: 0.348 w/ 35 queries
01:07:14 - process[7]: evaluating epoch 18 on test ...
01:08:00 - test set during evaluation: 14160/14157
01:08:00 - process[7] - test - epoch 18 - mAP: 0.348 w/ 35 queries
01:08:00 - process[7]: training epoch 19 ...
01:08:11 - process[7] - epoch 19 - train iter 195 - 15565.4 words/s - loss: 0.4217
01:08:11 - process[7]: evaluating epoch 19 on dev ...
01:08:53 - dev set during evaluation: 14470/14463
01:08:53 - process[7] - dev - epoch 19 - mAP: 0.306 w/ 35 queries
01:08:54 - [fold 5] best test MAP: 0.348 @ epoch 18
01:08:54 - [0.3827829013885834, 0.3277149519253127, 0.33600581380736017, 0.3231640701663685, 0.34844428784499326]
01:08:54 - [35, 36, 35, 35, 35]
01:08:54 - final MAP: 0.344
