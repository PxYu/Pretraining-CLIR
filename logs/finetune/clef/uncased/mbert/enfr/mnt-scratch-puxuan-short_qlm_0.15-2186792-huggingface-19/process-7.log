00:00:03 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='fr')
00:00:16 - Evaluating every 1 epochs ...
00:00:16 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:16 - test has 37 queries ...
00:00:16 - Data reading done ...
00:00:23 - adding 9-th encoder to optimizer...
00:00:23 - adding 10-th encoder to optimizer...
00:00:23 - adding 11-th encoder to optimizer...
00:00:24 - process[7]: training epoch 0 ...
00:00:33 - process[7] - epoch 0 - train iter 241 - 19826.2 words/s - loss: 0.6769
00:00:33 - process[7]: training epoch 1 ...
00:00:42 - process[7] - epoch 1 - train iter 241 - 22639.2 words/s - loss: 0.6104
00:00:42 - process[7]: training epoch 2 ...
00:00:51 - process[7] - epoch 2 - train iter 241 - 22772.5 words/s - loss: 0.5916
00:00:51 - process[7]: training epoch 3 ...
00:00:59 - process[7] - epoch 3 - train iter 241 - 23598.8 words/s - loss: 0.5413
00:00:59 - process[7]: training epoch 4 ...
00:01:08 - process[7] - epoch 4 - train iter 241 - 21327.2 words/s - loss: 0.5198
00:01:08 - process[7]: training epoch 5 ...
00:01:17 - process[7] - epoch 5 - train iter 241 - 21401.6 words/s - loss: 0.5324
00:01:17 - process[7]: training epoch 6 ...
00:01:26 - process[7] - epoch 6 - train iter 241 - 21979.0 words/s - loss: 0.4849
00:01:26 - process[7]: training epoch 7 ...
00:01:35 - process[7] - epoch 7 - train iter 241 - 20846.5 words/s - loss: 0.5009
00:01:35 - process[7]: training epoch 8 ...
00:01:44 - process[7] - epoch 8 - train iter 241 - 21583.6 words/s - loss: 0.5053
00:01:44 - process[7]: training epoch 9 ...
00:01:52 - process[7] - epoch 9 - train iter 241 - 22597.3 words/s - loss: 0.5088
00:01:52 - process[7]: training epoch 10 ...
00:02:01 - process[7] - epoch 10 - train iter 241 - 21949.4 words/s - loss: 0.4555
00:02:01 - process[7]: evaluating epoch 10 on dev ...
00:02:24 - process[7] - dev - epoch 10 - mAP: 0.393 w/ 37 queries
00:02:24 - process[7]: evaluating epoch 10 on test ...
00:02:43 - test set during evaluation: 11380/11372
00:02:43 - process[7] - test - epoch 10 - mAP: 0.496 w/ 37 queries
00:02:43 - process[7]: training epoch 11 ...
00:02:52 - process[7] - epoch 11 - train iter 241 - 21688.1 words/s - loss: 0.4705
00:02:52 - process[7]: evaluating epoch 11 on dev ...
00:03:10 - process[7] - dev - epoch 11 - mAP: 0.386 w/ 37 queries
00:03:10 - process[7]: training epoch 12 ...
00:03:19 - process[7] - epoch 12 - train iter 241 - 22551.7 words/s - loss: 0.4789
00:03:19 - process[7]: evaluating epoch 12 on dev ...
00:03:37 - process[7] - dev - epoch 12 - mAP: 0.385 w/ 37 queries
00:03:37 - process[7]: training epoch 13 ...
00:03:47 - process[7] - epoch 13 - train iter 241 - 20769.9 words/s - loss: 0.4527
00:03:47 - process[7]: evaluating epoch 13 on dev ...
00:04:04 - process[7] - dev - epoch 13 - mAP: 0.406 w/ 37 queries
00:04:04 - process[7]: evaluating epoch 13 on test ...
00:04:23 - test set during evaluation: 11380/11372
00:04:23 - process[7] - test - epoch 13 - mAP: 0.498 w/ 37 queries
00:04:23 - process[7]: training epoch 14 ...
00:04:32 - process[7] - epoch 14 - train iter 241 - 21873.8 words/s - loss: 0.4652
00:04:32 - process[7]: evaluating epoch 14 on dev ...
00:04:50 - process[7] - dev - epoch 14 - mAP: 0.386 w/ 37 queries
00:04:50 - process[7]: training epoch 15 ...
00:05:00 - process[7] - epoch 15 - train iter 241 - 20934.4 words/s - loss: 0.4214
00:05:00 - process[7]: evaluating epoch 15 on dev ...
00:05:18 - process[7] - dev - epoch 15 - mAP: 0.389 w/ 37 queries
00:05:18 - process[7]: training epoch 16 ...
00:05:27 - process[7] - epoch 16 - train iter 241 - 21578.6 words/s - loss: 0.4114
00:05:27 - process[7]: evaluating epoch 16 on dev ...
00:05:45 - process[7] - dev - epoch 16 - mAP: 0.398 w/ 37 queries
00:05:45 - process[7]: training epoch 17 ...
00:05:54 - process[7] - epoch 17 - train iter 241 - 21240.0 words/s - loss: 0.4853
00:05:54 - process[7]: evaluating epoch 17 on dev ...
00:06:12 - process[7] - dev - epoch 17 - mAP: 0.401 w/ 37 queries
00:06:12 - process[7]: training epoch 18 ...
00:06:22 - process[7] - epoch 18 - train iter 241 - 21243.0 words/s - loss: 0.4260
00:06:22 - process[7]: evaluating epoch 18 on dev ...
00:06:40 - process[7] - dev - epoch 18 - mAP: 0.399 w/ 37 queries
00:06:40 - process[7]: training epoch 19 ...
00:06:49 - process[7] - epoch 19 - train iter 241 - 20725.2 words/s - loss: 0.4319
00:06:49 - process[7]: evaluating epoch 19 on dev ...
00:07:07 - process[7] - dev - epoch 19 - mAP: 0.402 w/ 37 queries
00:07:07 - [fold 1] best test MAP: 0.498 @ epoch 13
00:07:07 - Evaluating every 1 epochs ...
00:07:07 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:07:07 - test has 37 queries ...
00:07:07 - Data reading done ...
00:07:09 - adding 9-th encoder to optimizer...
00:07:09 - adding 10-th encoder to optimizer...
00:07:09 - adding 11-th encoder to optimizer...
00:07:09 - process[7]: training epoch 0 ...
00:07:20 - process[7] - epoch 0 - train iter 276 - 21033.1 words/s - loss: 0.6723
00:07:20 - process[7]: training epoch 1 ...
00:07:31 - process[7] - epoch 1 - train iter 276 - 19957.3 words/s - loss: 0.5714
00:07:31 - process[7]: training epoch 2 ...
00:07:42 - process[7] - epoch 2 - train iter 276 - 20603.3 words/s - loss: 0.5612
00:07:42 - process[7]: training epoch 3 ...
00:07:52 - process[7] - epoch 3 - train iter 276 - 22578.2 words/s - loss: 0.5645
00:07:52 - process[7]: training epoch 4 ...
00:08:02 - process[7] - epoch 4 - train iter 276 - 22049.8 words/s - loss: 0.5246
00:08:02 - process[7]: training epoch 5 ...
00:08:12 - process[7] - epoch 5 - train iter 276 - 21105.6 words/s - loss: 0.5033
00:08:12 - process[7]: training epoch 6 ...
00:08:24 - process[7] - epoch 6 - train iter 276 - 19593.9 words/s - loss: 0.4885
00:08:24 - process[7]: training epoch 7 ...
00:08:34 - process[7] - epoch 7 - train iter 276 - 21374.0 words/s - loss: 0.4914
00:08:34 - process[7]: training epoch 8 ...
00:08:44 - process[7] - epoch 8 - train iter 276 - 21616.4 words/s - loss: 0.5008
00:08:44 - process[7]: training epoch 9 ...
00:08:55 - process[7] - epoch 9 - train iter 276 - 20994.6 words/s - loss: 0.4961
00:08:55 - process[7]: training epoch 10 ...
00:09:05 - process[7] - epoch 10 - train iter 276 - 21374.3 words/s - loss: 0.4652
00:09:05 - process[7]: evaluating epoch 10 on dev ...
00:09:29 - dev set during evaluation: 11380/11372
00:09:30 - process[7] - dev - epoch 10 - mAP: 0.462 w/ 37 queries
00:09:30 - process[7]: evaluating epoch 10 on test ...
00:09:47 - process[7] - test - epoch 10 - mAP: 0.407 w/ 37 queries
00:09:47 - process[7]: training epoch 11 ...
00:09:58 - process[7] - epoch 11 - train iter 276 - 20347.4 words/s - loss: 0.4186
00:09:58 - process[7]: evaluating epoch 11 on dev ...
00:10:17 - dev set during evaluation: 11380/11372
00:10:17 - process[7] - dev - epoch 11 - mAP: 0.534 w/ 37 queries
00:10:17 - process[7]: evaluating epoch 11 on test ...
00:10:34 - process[7] - test - epoch 11 - mAP: 0.403 w/ 37 queries
00:10:34 - process[7]: training epoch 12 ...
00:10:45 - process[7] - epoch 12 - train iter 276 - 20326.3 words/s - loss: 0.4590
00:10:45 - process[7]: evaluating epoch 12 on dev ...
00:11:03 - dev set during evaluation: 11380/11372
00:11:03 - process[7] - dev - epoch 12 - mAP: 0.441 w/ 37 queries
00:11:03 - process[7]: training epoch 13 ...
00:11:13 - process[7] - epoch 13 - train iter 276 - 21575.3 words/s - loss: 0.4831
00:11:13 - process[7]: evaluating epoch 13 on dev ...
00:11:33 - dev set during evaluation: 11380/11372
00:11:33 - process[7] - dev - epoch 13 - mAP: 0.480 w/ 37 queries
00:11:33 - process[7]: training epoch 14 ...
00:11:44 - process[7] - epoch 14 - train iter 276 - 20396.8 words/s - loss: 0.4681
00:11:44 - process[7]: evaluating epoch 14 on dev ...
00:12:01 - dev set during evaluation: 11380/11372
00:12:01 - process[7] - dev - epoch 14 - mAP: 0.516 w/ 37 queries
00:12:01 - process[7]: training epoch 15 ...
00:12:13 - process[7] - epoch 15 - train iter 276 - 20690.0 words/s - loss: 0.4721
00:12:13 - process[7]: evaluating epoch 15 on dev ...
00:12:30 - dev set during evaluation: 11380/11372
00:12:30 - process[7] - dev - epoch 15 - mAP: 0.515 w/ 37 queries
00:12:30 - process[7]: training epoch 16 ...
00:12:41 - process[7] - epoch 16 - train iter 276 - 21535.0 words/s - loss: 0.3937
00:12:41 - process[7]: evaluating epoch 16 on dev ...
00:12:59 - dev set during evaluation: 11380/11372
00:12:59 - process[7] - dev - epoch 16 - mAP: 0.491 w/ 37 queries
00:12:59 - process[7]: training epoch 17 ...
00:13:10 - process[7] - epoch 17 - train iter 276 - 21101.1 words/s - loss: 0.4289
00:13:10 - process[7]: evaluating epoch 17 on dev ...
00:13:29 - dev set during evaluation: 11380/11372
00:13:29 - process[7] - dev - epoch 17 - mAP: 0.494 w/ 37 queries
00:13:29 - process[7]: training epoch 18 ...
00:13:41 - process[7] - epoch 18 - train iter 276 - 19194.2 words/s - loss: 0.4669
00:13:41 - process[7]: evaluating epoch 18 on dev ...
00:13:58 - dev set during evaluation: 11380/11372
00:13:58 - process[7] - dev - epoch 18 - mAP: 0.499 w/ 37 queries
00:13:58 - process[7]: training epoch 19 ...
00:14:09 - process[7] - epoch 19 - train iter 276 - 21290.2 words/s - loss: 0.4367
00:14:09 - process[7]: evaluating epoch 19 on dev ...
00:14:28 - dev set during evaluation: 11380/11372
00:14:28 - process[7] - dev - epoch 19 - mAP: 0.485 w/ 37 queries
00:14:28 - [fold 2] best test MAP: 0.403 @ epoch 11
00:14:28 - Evaluating every 1 epochs ...
00:14:28 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:14:29 - test has 37 queries ...
00:14:29 - Data reading done ...
00:14:30 - adding 9-th encoder to optimizer...
00:14:30 - adding 10-th encoder to optimizer...
00:14:30 - adding 11-th encoder to optimizer...
00:14:31 - process[7]: training epoch 0 ...
00:14:40 - process[7] - epoch 0 - train iter 240 - 20981.1 words/s - loss: 0.6836
00:14:40 - process[7]: training epoch 1 ...
00:14:49 - process[7] - epoch 1 - train iter 240 - 21014.4 words/s - loss: 0.6131
00:14:49 - process[7]: training epoch 2 ...
00:14:58 - process[7] - epoch 2 - train iter 240 - 21641.1 words/s - loss: 0.5953
00:14:58 - process[7]: training epoch 3 ...
00:15:07 - process[7] - epoch 3 - train iter 240 - 21693.0 words/s - loss: 0.5436
00:15:07 - process[7]: training epoch 4 ...
00:15:16 - process[7] - epoch 4 - train iter 240 - 21214.6 words/s - loss: 0.5181
00:15:16 - process[7]: training epoch 5 ...
00:15:25 - process[7] - epoch 5 - train iter 240 - 21921.0 words/s - loss: 0.5253
00:15:25 - process[7]: training epoch 6 ...
00:15:34 - process[7] - epoch 6 - train iter 240 - 20577.1 words/s - loss: 0.5249
00:15:34 - process[7]: training epoch 7 ...
00:15:43 - process[7] - epoch 7 - train iter 240 - 21606.1 words/s - loss: 0.4802
00:15:43 - process[7]: training epoch 8 ...
00:15:53 - process[7] - epoch 8 - train iter 240 - 20557.2 words/s - loss: 0.5141
00:15:53 - process[7]: training epoch 9 ...
00:16:01 - process[7] - epoch 9 - train iter 240 - 23505.5 words/s - loss: 0.4627
00:16:01 - process[7]: training epoch 10 ...
00:16:10 - process[7] - epoch 10 - train iter 240 - 20184.5 words/s - loss: 0.4461
00:16:10 - process[7]: evaluating epoch 10 on dev ...
00:16:28 - process[7] - dev - epoch 10 - mAP: 0.418 w/ 37 queries
00:16:28 - process[7]: evaluating epoch 10 on test ...
00:16:47 - test set during evaluation: 11210/11201
00:16:47 - process[7] - test - epoch 10 - mAP: 0.444 w/ 37 queries
00:16:47 - process[7]: training epoch 11 ...
00:16:57 - process[7] - epoch 11 - train iter 240 - 21753.5 words/s - loss: 0.4688
00:16:57 - process[7]: evaluating epoch 11 on dev ...
00:17:14 - process[7] - dev - epoch 11 - mAP: 0.417 w/ 37 queries
00:17:14 - process[7]: training epoch 12 ...
00:17:23 - process[7] - epoch 12 - train iter 240 - 21681.0 words/s - loss: 0.4752
00:17:23 - process[7]: evaluating epoch 12 on dev ...
00:17:40 - process[7] - dev - epoch 12 - mAP: 0.415 w/ 37 queries
00:17:40 - process[7]: training epoch 13 ...
00:17:49 - process[7] - epoch 13 - train iter 240 - 21516.8 words/s - loss: 0.4559
00:17:49 - process[7]: evaluating epoch 13 on dev ...
00:18:06 - process[7] - dev - epoch 13 - mAP: 0.427 w/ 37 queries
00:18:06 - process[7]: evaluating epoch 13 on test ...
00:18:26 - test set during evaluation: 11210/11201
00:18:26 - process[7] - test - epoch 13 - mAP: 0.434 w/ 37 queries
00:18:26 - process[7]: training epoch 14 ...
00:18:35 - process[7] - epoch 14 - train iter 240 - 20877.4 words/s - loss: 0.4305
00:18:35 - process[7]: evaluating epoch 14 on dev ...
00:18:52 - process[7] - dev - epoch 14 - mAP: 0.413 w/ 37 queries
00:18:52 - process[7]: training epoch 15 ...
00:19:01 - process[7] - epoch 15 - train iter 240 - 20896.9 words/s - loss: 0.4299
00:19:01 - process[7]: evaluating epoch 15 on dev ...
00:19:18 - process[7] - dev - epoch 15 - mAP: 0.392 w/ 37 queries
00:19:18 - process[7]: training epoch 16 ...
00:19:26 - process[7] - epoch 16 - train iter 240 - 22981.9 words/s - loss: 0.4170
00:19:26 - process[7]: evaluating epoch 16 on dev ...
00:19:44 - process[7] - dev - epoch 16 - mAP: 0.418 w/ 37 queries
00:19:44 - process[7]: training epoch 17 ...
00:19:53 - process[7] - epoch 17 - train iter 240 - 22063.0 words/s - loss: 0.4795
00:19:53 - process[7]: evaluating epoch 17 on dev ...
00:20:10 - process[7] - dev - epoch 17 - mAP: 0.423 w/ 37 queries
00:20:10 - process[7]: training epoch 18 ...
00:20:19 - process[7] - epoch 18 - train iter 240 - 21804.4 words/s - loss: 0.4212
00:20:19 - process[7]: evaluating epoch 18 on dev ...
00:20:36 - process[7] - dev - epoch 18 - mAP: 0.405 w/ 37 queries
00:20:36 - process[7]: training epoch 19 ...
00:20:45 - process[7] - epoch 19 - train iter 240 - 21166.3 words/s - loss: 0.4641
00:20:45 - process[7]: evaluating epoch 19 on dev ...
00:21:02 - process[7] - dev - epoch 19 - mAP: 0.406 w/ 37 queries
00:21:02 - [fold 3] best test MAP: 0.434 @ epoch 13
00:21:02 - Evaluating every 1 epochs ...
00:21:02 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:21:03 - test has 37 queries ...
00:21:03 - Data reading done ...
00:21:04 - adding 9-th encoder to optimizer...
00:21:04 - adding 10-th encoder to optimizer...
00:21:04 - adding 11-th encoder to optimizer...
00:21:05 - process[7]: training epoch 0 ...
00:21:14 - process[7] - epoch 0 - train iter 231 - 20741.9 words/s - loss: 0.6875
00:21:14 - process[7]: training epoch 1 ...
00:21:22 - process[7] - epoch 1 - train iter 231 - 22352.0 words/s - loss: 0.6261
00:21:22 - process[7]: training epoch 2 ...
00:21:30 - process[7] - epoch 2 - train iter 231 - 21990.2 words/s - loss: 0.5612
00:21:30 - process[7]: training epoch 3 ...
00:21:39 - process[7] - epoch 3 - train iter 231 - 21828.6 words/s - loss: 0.5302
00:21:39 - process[7]: training epoch 4 ...
00:21:48 - process[7] - epoch 4 - train iter 231 - 20636.8 words/s - loss: 0.5322
00:21:48 - process[7]: training epoch 5 ...
00:21:57 - process[7] - epoch 5 - train iter 231 - 20286.5 words/s - loss: 0.5188
00:21:57 - process[7]: training epoch 6 ...
00:22:05 - process[7] - epoch 6 - train iter 231 - 21929.9 words/s - loss: 0.4984
00:22:05 - process[7]: training epoch 7 ...
00:22:15 - process[7] - epoch 7 - train iter 231 - 19966.6 words/s - loss: 0.5274
00:22:15 - process[7]: training epoch 8 ...
00:22:23 - process[7] - epoch 8 - train iter 231 - 21238.6 words/s - loss: 0.4784
00:22:23 - process[7]: training epoch 9 ...
00:22:32 - process[7] - epoch 9 - train iter 231 - 21119.1 words/s - loss: 0.5237
00:22:32 - process[7]: training epoch 10 ...
00:22:40 - process[7] - epoch 10 - train iter 231 - 21308.3 words/s - loss: 0.4673
00:22:40 - process[7]: evaluating epoch 10 on dev ...
00:23:01 - dev set during evaluation: 11210/11201
00:23:01 - process[7] - dev - epoch 10 - mAP: 0.431 w/ 37 queries
00:23:01 - process[7]: evaluating epoch 10 on test ...
00:23:19 - test set during evaluation: 10640/10633
00:23:19 - process[7] - test - epoch 10 - mAP: 0.383 w/ 37 queries
00:23:19 - process[7]: training epoch 11 ...
00:23:27 - process[7] - epoch 11 - train iter 231 - 21827.7 words/s - loss: 0.5076
00:23:27 - process[7]: evaluating epoch 11 on dev ...
00:23:47 - dev set during evaluation: 11210/11201
00:23:47 - process[7] - dev - epoch 11 - mAP: 0.473 w/ 37 queries
00:23:47 - process[7]: evaluating epoch 11 on test ...
00:24:05 - test set during evaluation: 10640/10633
00:24:05 - process[7] - test - epoch 11 - mAP: 0.413 w/ 37 queries
00:24:05 - process[7]: training epoch 12 ...
00:24:14 - process[7] - epoch 12 - train iter 231 - 20443.4 words/s - loss: 0.4656
00:24:14 - process[7]: evaluating epoch 12 on dev ...
00:24:33 - dev set during evaluation: 11210/11201
00:24:33 - process[7] - dev - epoch 12 - mAP: 0.471 w/ 37 queries
00:24:33 - process[7]: training epoch 13 ...
00:24:42 - process[7] - epoch 13 - train iter 231 - 21628.1 words/s - loss: 0.4752
00:24:42 - process[7]: evaluating epoch 13 on dev ...
00:25:02 - dev set during evaluation: 11210/11201
00:25:02 - process[7] - dev - epoch 13 - mAP: 0.435 w/ 37 queries
00:25:02 - process[7]: training epoch 14 ...
00:25:10 - process[7] - epoch 14 - train iter 231 - 21797.2 words/s - loss: 0.4753
00:25:10 - process[7]: evaluating epoch 14 on dev ...
00:25:30 - dev set during evaluation: 11210/11201
00:25:30 - process[7] - dev - epoch 14 - mAP: 0.459 w/ 37 queries
00:25:30 - process[7]: training epoch 15 ...
00:25:39 - process[7] - epoch 15 - train iter 231 - 21351.2 words/s - loss: 0.4796
00:25:39 - process[7]: evaluating epoch 15 on dev ...
00:25:58 - dev set during evaluation: 11210/11201
00:25:58 - process[7] - dev - epoch 15 - mAP: 0.443 w/ 37 queries
00:25:58 - process[7]: training epoch 16 ...
00:26:07 - process[7] - epoch 16 - train iter 231 - 21392.2 words/s - loss: 0.4876
00:26:07 - process[7]: evaluating epoch 16 on dev ...
00:26:26 - dev set during evaluation: 11210/11201
00:26:26 - process[7] - dev - epoch 16 - mAP: 0.437 w/ 37 queries
00:26:26 - process[7]: training epoch 17 ...
00:26:34 - process[7] - epoch 17 - train iter 231 - 22078.5 words/s - loss: 0.5001
00:26:34 - process[7]: evaluating epoch 17 on dev ...
00:26:54 - dev set during evaluation: 11210/11201
00:26:54 - process[7] - dev - epoch 17 - mAP: 0.453 w/ 37 queries
00:26:54 - process[7]: training epoch 18 ...
00:27:02 - process[7] - epoch 18 - train iter 231 - 21679.6 words/s - loss: 0.4715
00:27:02 - process[7]: evaluating epoch 18 on dev ...
00:27:22 - dev set during evaluation: 11210/11201
00:27:22 - process[7] - dev - epoch 18 - mAP: 0.461 w/ 37 queries
00:27:22 - process[7]: training epoch 19 ...
00:27:31 - process[7] - epoch 19 - train iter 231 - 21149.7 words/s - loss: 0.4261
00:27:31 - process[7]: evaluating epoch 19 on dev ...
00:27:50 - dev set during evaluation: 11210/11201
00:27:50 - process[7] - dev - epoch 19 - mAP: 0.467 w/ 37 queries
00:27:50 - [fold 4] best test MAP: 0.413 @ epoch 11
00:27:50 - Evaluating every 1 epochs ...
00:27:50 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:27:51 - test has 37 queries ...
00:27:51 - Data reading done ...
00:27:52 - adding 9-th encoder to optimizer...
00:27:52 - adding 10-th encoder to optimizer...
00:27:52 - adding 11-th encoder to optimizer...
00:27:53 - process[7]: training epoch 0 ...
00:28:02 - process[7] - epoch 0 - train iter 235 - 20533.0 words/s - loss: 0.6803
00:28:02 - process[7]: training epoch 1 ...
00:28:11 - process[7] - epoch 1 - train iter 235 - 20891.1 words/s - loss: 0.6217
00:28:11 - process[7]: training epoch 2 ...
00:28:21 - process[7] - epoch 2 - train iter 235 - 20818.9 words/s - loss: 0.5990
00:28:21 - process[7]: training epoch 3 ...
00:28:29 - process[7] - epoch 3 - train iter 235 - 21646.6 words/s - loss: 0.5523
00:28:29 - process[7]: training epoch 4 ...
00:28:38 - process[7] - epoch 4 - train iter 235 - 21517.6 words/s - loss: 0.5578
00:28:38 - process[7]: training epoch 5 ...
00:28:47 - process[7] - epoch 5 - train iter 235 - 20591.4 words/s - loss: 0.5266
00:28:47 - process[7]: training epoch 6 ...
00:28:57 - process[7] - epoch 6 - train iter 235 - 20911.6 words/s - loss: 0.5010
00:28:57 - process[7]: training epoch 7 ...
00:29:06 - process[7] - epoch 7 - train iter 235 - 20318.7 words/s - loss: 0.4760
00:29:06 - process[7]: training epoch 8 ...
00:29:15 - process[7] - epoch 8 - train iter 235 - 21640.5 words/s - loss: 0.5240
00:29:15 - process[7]: training epoch 9 ...
00:29:24 - process[7] - epoch 9 - train iter 235 - 21446.7 words/s - loss: 0.4924
00:29:24 - process[7]: training epoch 10 ...
00:29:33 - process[7] - epoch 10 - train iter 235 - 20952.9 words/s - loss: 0.4791
00:29:33 - process[7]: evaluating epoch 10 on dev ...
00:29:49 - dev set during evaluation: 10640/10633
00:29:49 - process[7] - dev - epoch 10 - mAP: 0.381 w/ 37 queries
00:29:49 - process[7]: evaluating epoch 10 on test ...
00:30:08 - process[7] - test - epoch 10 - mAP: 0.390 w/ 37 queries
00:30:08 - process[7]: training epoch 11 ...
00:30:16 - process[7] - epoch 11 - train iter 235 - 22672.9 words/s - loss: 0.4666
00:30:16 - process[7]: evaluating epoch 11 on dev ...
00:30:35 - dev set during evaluation: 10640/10633
00:30:35 - process[7] - dev - epoch 11 - mAP: 0.399 w/ 37 queries
00:30:35 - process[7]: evaluating epoch 11 on test ...
00:30:53 - process[7] - test - epoch 11 - mAP: 0.386 w/ 37 queries
00:30:53 - process[7]: training epoch 12 ...
00:31:02 - process[7] - epoch 12 - train iter 235 - 21511.5 words/s - loss: 0.4573
00:31:02 - process[7]: evaluating epoch 12 on dev ...
00:31:20 - dev set during evaluation: 10640/10633
00:31:20 - process[7] - dev - epoch 12 - mAP: 0.377 w/ 37 queries
00:31:20 - process[7]: training epoch 13 ...
00:31:29 - process[7] - epoch 13 - train iter 235 - 20941.9 words/s - loss: 0.4806
00:31:29 - process[7]: evaluating epoch 13 on dev ...
00:31:47 - dev set during evaluation: 10640/10633
00:31:47 - process[7] - dev - epoch 13 - mAP: 0.386 w/ 37 queries
00:31:47 - process[7]: training epoch 14 ...
00:31:56 - process[7] - epoch 14 - train iter 235 - 20951.2 words/s - loss: 0.4110
00:31:56 - process[7]: evaluating epoch 14 on dev ...
00:32:14 - dev set during evaluation: 10640/10633
00:32:14 - process[7] - dev - epoch 14 - mAP: 0.385 w/ 37 queries
00:32:14 - process[7]: training epoch 15 ...
00:32:23 - process[7] - epoch 15 - train iter 235 - 20861.7 words/s - loss: 0.4475
00:32:23 - process[7]: evaluating epoch 15 on dev ...
00:32:43 - dev set during evaluation: 10640/10633
00:32:43 - process[7] - dev - epoch 15 - mAP: 0.401 w/ 37 queries
00:32:43 - process[7]: evaluating epoch 15 on test ...
00:33:01 - process[7] - test - epoch 15 - mAP: 0.403 w/ 37 queries
00:33:01 - process[7]: training epoch 16 ...
00:33:11 - process[7] - epoch 16 - train iter 235 - 20202.9 words/s - loss: 0.4351
00:33:11 - process[7]: evaluating epoch 16 on dev ...
00:33:28 - dev set during evaluation: 10640/10633
00:33:28 - process[7] - dev - epoch 16 - mAP: 0.399 w/ 37 queries
00:33:28 - process[7]: training epoch 17 ...
00:33:36 - process[7] - epoch 17 - train iter 235 - 21503.4 words/s - loss: 0.3649
00:33:36 - process[7]: evaluating epoch 17 on dev ...
00:33:54 - dev set during evaluation: 10640/10633
00:33:54 - process[7] - dev - epoch 17 - mAP: 0.406 w/ 37 queries
00:33:54 - process[7]: evaluating epoch 17 on test ...
00:34:13 - process[7] - test - epoch 17 - mAP: 0.398 w/ 37 queries
00:34:13 - process[7]: training epoch 18 ...
00:34:21 - process[7] - epoch 18 - train iter 235 - 21339.4 words/s - loss: 0.4308
00:34:21 - process[7]: evaluating epoch 18 on dev ...
00:34:39 - dev set during evaluation: 10640/10633
00:34:39 - process[7] - dev - epoch 18 - mAP: 0.365 w/ 37 queries
00:34:39 - process[7]: training epoch 19 ...
00:34:49 - process[7] - epoch 19 - train iter 235 - 20036.5 words/s - loss: 0.4253
00:34:49 - process[7]: evaluating epoch 19 on dev ...
00:35:06 - dev set during evaluation: 10640/10633
00:35:06 - process[7] - dev - epoch 19 - mAP: 0.394 w/ 37 queries
00:35:06 - [fold 5] best test MAP: 0.398 @ epoch 17
00:35:06 - [0.49776186739606826, 0.40291394515425544, 0.43448304294343976, 0.41301958953963486, 0.3976459399383699]
00:35:06 - [37, 37, 37, 37, 37]
00:35:06 - final MAP: 0.429
00:00:05 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=7, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-19', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='en', target_lang='fr')
00:00:15 - Evaluating every 1 epochs ...
00:00:15 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:16 - test has 37 queries ...
00:00:16 - Data reading done ...
00:00:23 - adding 9-th encoder to optimizer...
00:00:23 - adding 10-th encoder to optimizer...
00:00:23 - adding 11-th encoder to optimizer...
00:00:24 - process[7]: training epoch 0 ...
00:00:34 - process[7] - epoch 0 - train iter 241 - 19526.4 words/s - loss: 0.6769
00:00:34 - process[7]: training epoch 1 ...
00:00:42 - process[7] - epoch 1 - train iter 241 - 22596.0 words/s - loss: 0.6104
00:00:42 - process[7]: training epoch 2 ...
00:00:51 - process[7] - epoch 2 - train iter 241 - 22687.8 words/s - loss: 0.5916
00:00:51 - process[7]: training epoch 3 ...
00:00:59 - process[7] - epoch 3 - train iter 241 - 23636.1 words/s - loss: 0.5413
00:00:59 - process[7]: training epoch 4 ...
00:01:08 - process[7] - epoch 4 - train iter 241 - 21334.4 words/s - loss: 0.5198
00:01:08 - process[7]: training epoch 5 ...
00:01:17 - process[7] - epoch 5 - train iter 241 - 21315.5 words/s - loss: 0.5324
00:01:17 - process[7]: training epoch 6 ...
00:01:26 - process[7] - epoch 6 - train iter 241 - 21938.6 words/s - loss: 0.4849
00:01:26 - process[7]: training epoch 7 ...
00:01:35 - process[7] - epoch 7 - train iter 241 - 20900.7 words/s - loss: 0.5009
00:01:35 - process[7]: training epoch 8 ...
00:01:44 - process[7] - epoch 8 - train iter 241 - 21477.9 words/s - loss: 0.5053
00:01:44 - process[7]: training epoch 9 ...
00:01:53 - process[7] - epoch 9 - train iter 241 - 22572.4 words/s - loss: 0.5088
00:01:53 - process[7]: training epoch 10 ...
00:02:02 - process[7] - epoch 10 - train iter 241 - 21938.3 words/s - loss: 0.4555
00:02:02 - process[7]: evaluating epoch 10 on dev ...
00:02:25 - process[7] - dev - epoch 10 - mAP: 0.393 w/ 37 queries
00:02:25 - process[7]: evaluating epoch 10 on test ...
00:02:44 - test set during evaluation: 11380/11372
00:02:44 - process[7] - test - epoch 10 - mAP: 0.496 w/ 37 queries
00:02:44 - process[7]: training epoch 11 ...
00:02:53 - process[7] - epoch 11 - train iter 241 - 21689.0 words/s - loss: 0.4705
00:02:53 - process[7]: evaluating epoch 11 on dev ...
00:03:13 - process[7] - dev - epoch 11 - mAP: 0.386 w/ 37 queries
00:03:13 - process[7]: training epoch 12 ...
00:03:21 - process[7] - epoch 12 - train iter 241 - 22554.8 words/s - loss: 0.4789
00:03:21 - process[7]: evaluating epoch 12 on dev ...
00:03:40 - process[7] - dev - epoch 12 - mAP: 0.385 w/ 37 queries
00:03:40 - process[7]: training epoch 13 ...
00:03:49 - process[7] - epoch 13 - train iter 241 - 20804.3 words/s - loss: 0.4527
00:03:49 - process[7]: evaluating epoch 13 on dev ...
00:04:08 - process[7] - dev - epoch 13 - mAP: 0.406 w/ 37 queries
00:04:08 - process[7]: evaluating epoch 13 on test ...
00:04:27 - test set during evaluation: 11380/11372
00:04:27 - process[7] - test - epoch 13 - mAP: 0.498 w/ 37 queries
00:04:27 - process[7]: training epoch 14 ...
00:04:36 - process[7] - epoch 14 - train iter 241 - 21762.5 words/s - loss: 0.4652
00:04:36 - process[7]: evaluating epoch 14 on dev ...
00:04:55 - process[7] - dev - epoch 14 - mAP: 0.386 w/ 37 queries
00:04:55 - process[7]: training epoch 15 ...
00:05:04 - process[7] - epoch 15 - train iter 241 - 20894.0 words/s - loss: 0.4214
00:05:04 - process[7]: evaluating epoch 15 on dev ...
00:05:23 - process[7] - dev - epoch 15 - mAP: 0.389 w/ 37 queries
00:05:23 - process[7]: training epoch 16 ...
00:05:32 - process[7] - epoch 16 - train iter 241 - 21539.7 words/s - loss: 0.4114
00:05:32 - process[7]: evaluating epoch 16 on dev ...
00:05:51 - process[7] - dev - epoch 16 - mAP: 0.398 w/ 37 queries
00:05:51 - process[7]: training epoch 17 ...
00:06:00 - process[7] - epoch 17 - train iter 241 - 21182.1 words/s - loss: 0.4853
00:06:00 - process[7]: evaluating epoch 17 on dev ...
00:06:19 - process[7] - dev - epoch 17 - mAP: 0.401 w/ 37 queries
00:06:19 - process[7]: training epoch 18 ...
00:06:28 - process[7] - epoch 18 - train iter 241 - 21260.3 words/s - loss: 0.4260
00:06:28 - process[7]: evaluating epoch 18 on dev ...
00:06:47 - process[7] - dev - epoch 18 - mAP: 0.399 w/ 37 queries
00:06:47 - process[7]: training epoch 19 ...
00:06:56 - process[7] - epoch 19 - train iter 241 - 20625.1 words/s - loss: 0.4319
00:06:56 - process[7]: evaluating epoch 19 on dev ...
00:07:14 - process[7] - dev - epoch 19 - mAP: 0.402 w/ 37 queries
00:07:14 - [fold 1] best test MAP: 0.498 @ epoch 13
00:07:14 - Evaluating every 1 epochs ...
00:07:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:07:15 - test has 37 queries ...
00:07:15 - Data reading done ...
00:07:16 - adding 9-th encoder to optimizer...
00:07:16 - adding 10-th encoder to optimizer...
00:07:16 - adding 11-th encoder to optimizer...
00:07:16 - process[7]: training epoch 0 ...
00:07:27 - process[7] - epoch 0 - train iter 276 - 21244.1 words/s - loss: 0.6723
00:07:27 - process[7]: training epoch 1 ...
00:07:38 - process[7] - epoch 1 - train iter 276 - 20105.4 words/s - loss: 0.5714
00:07:38 - process[7]: training epoch 2 ...
00:07:49 - process[7] - epoch 2 - train iter 276 - 20656.5 words/s - loss: 0.5612
00:07:49 - process[7]: training epoch 3 ...
00:07:59 - process[7] - epoch 3 - train iter 276 - 22662.4 words/s - loss: 0.5645
00:07:59 - process[7]: training epoch 4 ...
00:08:09 - process[7] - epoch 4 - train iter 276 - 22130.4 words/s - loss: 0.5246
00:08:09 - process[7]: training epoch 5 ...
00:08:19 - process[7] - epoch 5 - train iter 276 - 21252.2 words/s - loss: 0.5033
00:08:19 - process[7]: training epoch 6 ...
00:08:30 - process[7] - epoch 6 - train iter 276 - 20403.3 words/s - loss: 0.4885
00:08:30 - process[7]: training epoch 7 ...
00:08:40 - process[7] - epoch 7 - train iter 276 - 21560.9 words/s - loss: 0.4914
00:08:40 - process[7]: training epoch 8 ...
00:08:51 - process[7] - epoch 8 - train iter 276 - 21788.0 words/s - loss: 0.5008
00:08:51 - process[7]: training epoch 9 ...
00:09:01 - process[7] - epoch 9 - train iter 276 - 21170.7 words/s - loss: 0.4961
00:09:01 - process[7]: training epoch 10 ...
00:09:11 - process[7] - epoch 10 - train iter 276 - 21517.2 words/s - loss: 0.4652
00:09:11 - process[7]: evaluating epoch 10 on dev ...
00:09:38 - dev set during evaluation: 11380/11372
00:09:38 - process[7] - dev - epoch 10 - mAP: 0.462 w/ 37 queries
00:09:38 - process[7]: evaluating epoch 10 on test ...
00:09:56 - process[7] - test - epoch 10 - mAP: 0.407 w/ 37 queries
00:09:56 - process[7]: training epoch 11 ...
00:10:07 - process[7] - epoch 11 - train iter 276 - 20400.3 words/s - loss: 0.4186
00:10:07 - process[7]: evaluating epoch 11 on dev ...
00:10:27 - dev set during evaluation: 11380/11372
00:10:27 - process[7] - dev - epoch 11 - mAP: 0.534 w/ 37 queries
00:10:27 - process[7]: evaluating epoch 11 on test ...
00:10:44 - process[7] - test - epoch 11 - mAP: 0.403 w/ 37 queries
00:10:44 - process[7]: training epoch 12 ...
00:10:55 - process[7] - epoch 12 - train iter 276 - 20349.2 words/s - loss: 0.4590
00:10:55 - process[7]: evaluating epoch 12 on dev ...
00:11:13 - dev set during evaluation: 11380/11372
00:11:13 - process[7] - dev - epoch 12 - mAP: 0.441 w/ 37 queries
00:11:13 - process[7]: training epoch 13 ...
00:11:24 - process[7] - epoch 13 - train iter 276 - 21529.5 words/s - loss: 0.4831
00:11:24 - process[7]: evaluating epoch 13 on dev ...
00:11:44 - dev set during evaluation: 11380/11372
00:11:44 - process[7] - dev - epoch 13 - mAP: 0.480 w/ 37 queries
00:11:44 - process[7]: training epoch 14 ...
00:11:55 - process[7] - epoch 14 - train iter 276 - 20314.1 words/s - loss: 0.4681
00:11:55 - process[7]: evaluating epoch 14 on dev ...
00:12:13 - dev set during evaluation: 11380/11372
00:12:13 - process[7] - dev - epoch 14 - mAP: 0.516 w/ 37 queries
00:12:13 - process[7]: training epoch 15 ...
00:12:24 - process[7] - epoch 15 - train iter 276 - 20796.3 words/s - loss: 0.4721
00:12:24 - process[7]: evaluating epoch 15 on dev ...
00:12:42 - dev set during evaluation: 11380/11372
00:12:42 - process[7] - dev - epoch 15 - mAP: 0.515 w/ 37 queries
00:12:42 - process[7]: training epoch 16 ...
00:12:52 - process[7] - epoch 16 - train iter 276 - 21638.8 words/s - loss: 0.3937
00:12:52 - process[7]: evaluating epoch 16 on dev ...
00:13:11 - dev set during evaluation: 11380/11372
00:13:11 - process[7] - dev - epoch 16 - mAP: 0.491 w/ 37 queries
00:13:11 - process[7]: training epoch 17 ...
00:13:22 - process[7] - epoch 17 - train iter 276 - 20972.6 words/s - loss: 0.4289
00:13:22 - process[7]: evaluating epoch 17 on dev ...
00:13:41 - dev set during evaluation: 11380/11372
00:13:41 - process[7] - dev - epoch 17 - mAP: 0.494 w/ 37 queries
00:13:41 - process[7]: training epoch 18 ...
00:13:53 - process[7] - epoch 18 - train iter 276 - 19004.5 words/s - loss: 0.4669
00:13:53 - process[7]: evaluating epoch 18 on dev ...
00:14:11 - dev set during evaluation: 11380/11372
00:14:11 - process[7] - dev - epoch 18 - mAP: 0.499 w/ 37 queries
00:14:11 - process[7]: training epoch 19 ...
00:14:21 - process[7] - epoch 19 - train iter 276 - 21251.6 words/s - loss: 0.4367
00:14:21 - process[7]: evaluating epoch 19 on dev ...
00:14:41 - dev set during evaluation: 11380/11372
00:14:41 - process[7] - dev - epoch 19 - mAP: 0.485 w/ 37 queries
00:14:41 - [fold 2] best test MAP: 0.403 @ epoch 11
00:14:41 - Evaluating every 1 epochs ...
00:14:41 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:14:42 - test has 37 queries ...
00:14:42 - Data reading done ...
00:14:43 - adding 9-th encoder to optimizer...
00:14:43 - adding 10-th encoder to optimizer...
00:14:43 - adding 11-th encoder to optimizer...
00:14:44 - process[7]: training epoch 0 ...
00:14:53 - process[7] - epoch 0 - train iter 240 - 20858.6 words/s - loss: 0.6836
00:14:53 - process[7]: training epoch 1 ...
00:15:03 - process[7] - epoch 1 - train iter 240 - 20858.2 words/s - loss: 0.6131
00:15:03 - process[7]: training epoch 2 ...
00:15:11 - process[7] - epoch 2 - train iter 240 - 21588.1 words/s - loss: 0.5953
00:15:11 - process[7]: training epoch 3 ...
00:15:20 - process[7] - epoch 3 - train iter 240 - 21680.4 words/s - loss: 0.5436
00:15:20 - process[7]: training epoch 4 ...
00:15:29 - process[7] - epoch 4 - train iter 240 - 21126.1 words/s - loss: 0.5181
00:15:29 - process[7]: training epoch 5 ...
00:15:38 - process[7] - epoch 5 - train iter 240 - 21875.9 words/s - loss: 0.5253
00:15:38 - process[7]: training epoch 6 ...
00:15:48 - process[7] - epoch 6 - train iter 240 - 20530.7 words/s - loss: 0.5249
00:15:48 - process[7]: training epoch 7 ...
00:15:57 - process[7] - epoch 7 - train iter 240 - 21545.4 words/s - loss: 0.4802
00:15:57 - process[7]: training epoch 8 ...
00:16:06 - process[7] - epoch 8 - train iter 240 - 20500.1 words/s - loss: 0.5141
00:16:06 - process[7]: training epoch 9 ...
00:16:14 - process[7] - epoch 9 - train iter 240 - 23506.0 words/s - loss: 0.4627
00:16:14 - process[7]: training epoch 10 ...
00:16:24 - process[7] - epoch 10 - train iter 240 - 20128.8 words/s - loss: 0.4461
00:16:24 - process[7]: evaluating epoch 10 on dev ...
00:16:42 - process[7] - dev - epoch 10 - mAP: 0.418 w/ 37 queries
00:16:42 - process[7]: evaluating epoch 10 on test ...
00:17:02 - test set during evaluation: 11210/11201
00:17:02 - process[7] - test - epoch 10 - mAP: 0.444 w/ 37 queries
00:17:02 - process[7]: training epoch 11 ...
00:17:11 - process[7] - epoch 11 - train iter 240 - 21687.5 words/s - loss: 0.4688
00:17:11 - process[7]: evaluating epoch 11 on dev ...
00:17:28 - process[7] - dev - epoch 11 - mAP: 0.417 w/ 37 queries
00:17:28 - process[7]: training epoch 12 ...
00:17:37 - process[7] - epoch 12 - train iter 240 - 21642.7 words/s - loss: 0.4752
00:17:37 - process[7]: evaluating epoch 12 on dev ...
00:17:54 - process[7] - dev - epoch 12 - mAP: 0.415 w/ 37 queries
00:17:54 - process[7]: training epoch 13 ...
00:18:03 - process[7] - epoch 13 - train iter 240 - 21584.2 words/s - loss: 0.4559
00:18:03 - process[7]: evaluating epoch 13 on dev ...
00:18:20 - process[7] - dev - epoch 13 - mAP: 0.427 w/ 37 queries
00:18:20 - process[7]: evaluating epoch 13 on test ...
00:18:41 - test set during evaluation: 11210/11201
00:18:41 - process[7] - test - epoch 13 - mAP: 0.434 w/ 37 queries
00:18:41 - process[7]: training epoch 14 ...
00:18:51 - process[7] - epoch 14 - train iter 240 - 20824.5 words/s - loss: 0.4305
00:18:51 - process[7]: evaluating epoch 14 on dev ...
00:19:08 - process[7] - dev - epoch 14 - mAP: 0.413 w/ 37 queries
00:19:08 - process[7]: training epoch 15 ...
00:19:17 - process[7] - epoch 15 - train iter 240 - 20883.3 words/s - loss: 0.4299
00:19:17 - process[7]: evaluating epoch 15 on dev ...
00:19:35 - process[7] - dev - epoch 15 - mAP: 0.392 w/ 37 queries
00:19:35 - process[7]: training epoch 16 ...
00:19:43 - process[7] - epoch 16 - train iter 240 - 22979.8 words/s - loss: 0.4170
00:19:43 - process[7]: evaluating epoch 16 on dev ...
00:20:01 - process[7] - dev - epoch 16 - mAP: 0.418 w/ 37 queries
00:20:01 - process[7]: training epoch 17 ...
00:20:11 - process[7] - epoch 17 - train iter 240 - 20462.3 words/s - loss: 0.4795
00:20:11 - process[7]: evaluating epoch 17 on dev ...
00:20:28 - process[7] - dev - epoch 17 - mAP: 0.423 w/ 37 queries
00:20:28 - process[7]: training epoch 18 ...
00:20:36 - process[7] - epoch 18 - train iter 240 - 21874.5 words/s - loss: 0.4212
00:20:36 - process[7]: evaluating epoch 18 on dev ...
00:20:54 - process[7] - dev - epoch 18 - mAP: 0.405 w/ 37 queries
00:20:54 - process[7]: training epoch 19 ...
00:21:03 - process[7] - epoch 19 - train iter 240 - 21114.2 words/s - loss: 0.4641
00:21:03 - process[7]: evaluating epoch 19 on dev ...
00:21:21 - process[7] - dev - epoch 19 - mAP: 0.406 w/ 37 queries
00:21:21 - [fold 3] best test MAP: 0.434 @ epoch 13
00:21:21 - Evaluating every 1 epochs ...
00:21:21 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:21:21 - test has 37 queries ...
00:21:21 - Data reading done ...
00:21:23 - adding 9-th encoder to optimizer...
00:21:23 - adding 10-th encoder to optimizer...
00:21:23 - adding 11-th encoder to optimizer...
00:21:23 - process[7]: training epoch 0 ...
00:21:32 - process[7] - epoch 0 - train iter 231 - 20835.4 words/s - loss: 0.6875
00:21:32 - process[7]: training epoch 1 ...
00:21:40 - process[7] - epoch 1 - train iter 231 - 22399.5 words/s - loss: 0.6261
00:21:40 - process[7]: training epoch 2 ...
00:21:49 - process[7] - epoch 2 - train iter 231 - 22055.8 words/s - loss: 0.5612
00:21:49 - process[7]: training epoch 3 ...
00:21:57 - process[7] - epoch 3 - train iter 231 - 21890.5 words/s - loss: 0.5302
00:21:57 - process[7]: training epoch 4 ...
00:22:06 - process[7] - epoch 4 - train iter 231 - 20656.0 words/s - loss: 0.5322
00:22:06 - process[7]: training epoch 5 ...
00:22:15 - process[7] - epoch 5 - train iter 231 - 20354.1 words/s - loss: 0.5188
00:22:15 - process[7]: training epoch 6 ...
00:22:24 - process[7] - epoch 6 - train iter 231 - 21953.1 words/s - loss: 0.4984
00:22:24 - process[7]: training epoch 7 ...
00:22:33 - process[7] - epoch 7 - train iter 231 - 20020.4 words/s - loss: 0.5274
00:22:33 - process[7]: training epoch 8 ...
00:22:41 - process[7] - epoch 8 - train iter 231 - 21250.6 words/s - loss: 0.4784
00:22:41 - process[7]: training epoch 9 ...
00:22:50 - process[7] - epoch 9 - train iter 231 - 21169.3 words/s - loss: 0.5237
00:22:50 - process[7]: training epoch 10 ...
00:22:59 - process[7] - epoch 10 - train iter 231 - 21304.6 words/s - loss: 0.4673
00:22:59 - process[7]: evaluating epoch 10 on dev ...
00:23:20 - dev set during evaluation: 11210/11201
00:23:20 - process[7] - dev - epoch 10 - mAP: 0.431 w/ 37 queries
00:23:20 - process[7]: evaluating epoch 10 on test ...
00:23:38 - test set during evaluation: 10640/10633
00:23:38 - process[7] - test - epoch 10 - mAP: 0.383 w/ 37 queries
00:23:38 - process[7]: training epoch 11 ...
00:23:46 - process[7] - epoch 11 - train iter 231 - 21923.2 words/s - loss: 0.5076
00:23:46 - process[7]: evaluating epoch 11 on dev ...
00:24:07 - dev set during evaluation: 11210/11201
00:24:07 - process[7] - dev - epoch 11 - mAP: 0.473 w/ 37 queries
00:24:07 - process[7]: evaluating epoch 11 on test ...
00:24:25 - test set during evaluation: 10640/10633
00:24:25 - process[7] - test - epoch 11 - mAP: 0.413 w/ 37 queries
00:24:25 - process[7]: training epoch 12 ...
00:24:34 - process[7] - epoch 12 - train iter 231 - 20415.0 words/s - loss: 0.4656
00:24:34 - process[7]: evaluating epoch 12 on dev ...
00:24:54 - dev set during evaluation: 11210/11201
00:24:54 - process[7] - dev - epoch 12 - mAP: 0.471 w/ 37 queries
00:24:54 - process[7]: training epoch 13 ...
00:25:02 - process[7] - epoch 13 - train iter 231 - 21686.3 words/s - loss: 0.4752
00:25:02 - process[7]: evaluating epoch 13 on dev ...
00:25:22 - dev set during evaluation: 11210/11201
00:25:22 - process[7] - dev - epoch 13 - mAP: 0.435 w/ 37 queries
00:25:22 - process[7]: training epoch 14 ...
00:25:31 - process[7] - epoch 14 - train iter 231 - 21855.5 words/s - loss: 0.4753
00:25:31 - process[7]: evaluating epoch 14 on dev ...
00:25:51 - dev set during evaluation: 11210/11201
00:25:51 - process[7] - dev - epoch 14 - mAP: 0.459 w/ 37 queries
00:25:51 - process[7]: training epoch 15 ...
00:25:59 - process[7] - epoch 15 - train iter 231 - 21370.2 words/s - loss: 0.4796
00:25:59 - process[7]: evaluating epoch 15 on dev ...
00:26:19 - dev set during evaluation: 11210/11201
00:26:19 - process[7] - dev - epoch 15 - mAP: 0.443 w/ 37 queries
00:26:19 - process[7]: training epoch 16 ...
00:26:28 - process[7] - epoch 16 - train iter 231 - 21363.9 words/s - loss: 0.4876
00:26:28 - process[7]: evaluating epoch 16 on dev ...
00:26:48 - dev set during evaluation: 11210/11201
00:26:48 - process[7] - dev - epoch 16 - mAP: 0.437 w/ 37 queries
00:26:48 - process[7]: training epoch 17 ...
00:26:56 - process[7] - epoch 17 - train iter 231 - 22216.9 words/s - loss: 0.5001
00:26:56 - process[7]: evaluating epoch 17 on dev ...
00:27:17 - dev set during evaluation: 11210/11201
00:27:17 - process[7] - dev - epoch 17 - mAP: 0.453 w/ 37 queries
00:27:17 - process[7]: training epoch 18 ...
00:27:25 - process[7] - epoch 18 - train iter 231 - 21573.8 words/s - loss: 0.4715
00:27:25 - process[7]: evaluating epoch 18 on dev ...
00:27:46 - dev set during evaluation: 11210/11201
00:27:46 - process[7] - dev - epoch 18 - mAP: 0.461 w/ 37 queries
00:27:46 - process[7]: training epoch 19 ...
00:27:54 - process[7] - epoch 19 - train iter 231 - 20943.4 words/s - loss: 0.4261
00:27:54 - process[7]: evaluating epoch 19 on dev ...
00:28:14 - dev set during evaluation: 11210/11201
00:28:14 - process[7] - dev - epoch 19 - mAP: 0.467 w/ 37 queries
00:28:14 - [fold 4] best test MAP: 0.413 @ epoch 11
00:28:14 - Evaluating every 1 epochs ...
00:28:14 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:28:14 - test has 37 queries ...
00:28:14 - Data reading done ...
00:28:16 - adding 9-th encoder to optimizer...
00:28:16 - adding 10-th encoder to optimizer...
00:28:16 - adding 11-th encoder to optimizer...
00:28:16 - process[7]: training epoch 0 ...
00:28:25 - process[7] - epoch 0 - train iter 235 - 20501.9 words/s - loss: 0.6803
00:28:25 - process[7]: training epoch 1 ...
00:28:35 - process[7] - epoch 1 - train iter 235 - 20568.2 words/s - loss: 0.6217
00:28:35 - process[7]: training epoch 2 ...
00:28:45 - process[7] - epoch 2 - train iter 235 - 20006.8 words/s - loss: 0.5990
00:28:45 - process[7]: training epoch 3 ...
00:28:53 - process[7] - epoch 3 - train iter 235 - 21611.1 words/s - loss: 0.5523
00:28:53 - process[7]: training epoch 4 ...
00:29:02 - process[7] - epoch 4 - train iter 235 - 21468.7 words/s - loss: 0.5578
00:29:02 - process[7]: training epoch 5 ...
00:29:11 - process[7] - epoch 5 - train iter 235 - 20520.4 words/s - loss: 0.5266
00:29:11 - process[7]: training epoch 6 ...
00:29:21 - process[7] - epoch 6 - train iter 235 - 20902.3 words/s - loss: 0.5010
00:29:21 - process[7]: training epoch 7 ...
00:29:30 - process[7] - epoch 7 - train iter 235 - 20300.6 words/s - loss: 0.4760
00:29:30 - process[7]: training epoch 8 ...
00:29:39 - process[7] - epoch 8 - train iter 235 - 21710.5 words/s - loss: 0.5240
00:29:39 - process[7]: training epoch 9 ...
00:29:48 - process[7] - epoch 9 - train iter 235 - 21474.3 words/s - loss: 0.4924
00:29:48 - process[7]: training epoch 10 ...
00:29:56 - process[7] - epoch 10 - train iter 235 - 20972.4 words/s - loss: 0.4791
00:29:56 - process[7]: evaluating epoch 10 on dev ...
00:30:17 - dev set during evaluation: 10640/10633
00:30:17 - process[7] - dev - epoch 10 - mAP: 0.381 w/ 37 queries
00:30:17 - process[7]: evaluating epoch 10 on test ...
00:30:35 - process[7] - test - epoch 10 - mAP: 0.390 w/ 37 queries
00:30:35 - process[7]: training epoch 11 ...
00:30:44 - process[7] - epoch 11 - train iter 235 - 22682.0 words/s - loss: 0.4666
00:30:44 - process[7]: evaluating epoch 11 on dev ...
00:31:02 - dev set during evaluation: 10640/10633
00:31:02 - process[7] - dev - epoch 11 - mAP: 0.399 w/ 37 queries
00:31:02 - process[7]: evaluating epoch 11 on test ...
00:31:21 - process[7] - test - epoch 11 - mAP: 0.386 w/ 37 queries
00:31:21 - process[7]: training epoch 12 ...
00:31:30 - process[7] - epoch 12 - train iter 235 - 21378.6 words/s - loss: 0.4573
00:31:30 - process[7]: evaluating epoch 12 on dev ...
00:31:49 - dev set during evaluation: 10640/10633
00:31:49 - process[7] - dev - epoch 12 - mAP: 0.377 w/ 37 queries
00:31:49 - process[7]: training epoch 13 ...
00:31:58 - process[7] - epoch 13 - train iter 235 - 20697.3 words/s - loss: 0.4806
00:31:58 - process[7]: evaluating epoch 13 on dev ...
00:32:15 - dev set during evaluation: 10640/10633
00:32:15 - process[7] - dev - epoch 13 - mAP: 0.386 w/ 37 queries
00:32:15 - process[7]: training epoch 14 ...
00:32:24 - process[7] - epoch 14 - train iter 235 - 20921.0 words/s - loss: 0.4110
00:32:24 - process[7]: evaluating epoch 14 on dev ...
00:32:42 - dev set during evaluation: 10640/10633
00:32:42 - process[7] - dev - epoch 14 - mAP: 0.385 w/ 37 queries
00:32:42 - process[7]: training epoch 15 ...
00:32:51 - process[7] - epoch 15 - train iter 235 - 20921.4 words/s - loss: 0.4475
00:32:51 - process[7]: evaluating epoch 15 on dev ...
00:33:09 - dev set during evaluation: 10640/10633
00:33:09 - process[7] - dev - epoch 15 - mAP: 0.401 w/ 37 queries
00:33:09 - process[7]: evaluating epoch 15 on test ...
00:33:27 - process[7] - test - epoch 15 - mAP: 0.403 w/ 37 queries
00:33:27 - process[7]: training epoch 16 ...
00:33:37 - process[7] - epoch 16 - train iter 235 - 19960.3 words/s - loss: 0.4351
00:33:37 - process[7]: evaluating epoch 16 on dev ...
00:33:54 - dev set during evaluation: 10640/10633
00:33:54 - process[7] - dev - epoch 16 - mAP: 0.399 w/ 37 queries
00:33:54 - process[7]: training epoch 17 ...
00:34:02 - process[7] - epoch 17 - train iter 235 - 21676.3 words/s - loss: 0.3649
00:34:02 - process[7]: evaluating epoch 17 on dev ...
00:34:20 - dev set during evaluation: 10640/10633
00:34:20 - process[7] - dev - epoch 17 - mAP: 0.406 w/ 37 queries
00:34:20 - process[7]: evaluating epoch 17 on test ...
00:34:39 - process[7] - test - epoch 17 - mAP: 0.398 w/ 37 queries
00:34:39 - process[7]: training epoch 18 ...
00:34:48 - process[7] - epoch 18 - train iter 235 - 21332.2 words/s - loss: 0.4308
00:34:48 - process[7]: evaluating epoch 18 on dev ...
00:35:05 - dev set during evaluation: 10640/10633
00:35:05 - process[7] - dev - epoch 18 - mAP: 0.365 w/ 37 queries
00:35:05 - process[7]: training epoch 19 ...
00:35:15 - process[7] - epoch 19 - train iter 235 - 20145.1 words/s - loss: 0.4253
00:35:15 - process[7]: evaluating epoch 19 on dev ...
00:35:32 - dev set during evaluation: 10640/10633
00:35:32 - process[7] - dev - epoch 19 - mAP: 0.394 w/ 37 queries
00:35:32 - [fold 5] best test MAP: 0.398 @ epoch 17
00:35:32 - [0.49776186739606826, 0.40291394515425544, 0.43448304294343976, 0.41301958953963486, 0.3976459399383699]
00:35:32 - [37, 37, 37, 37, 37]
00:35:32 - final MAP: 0.429
