00:00:06 - Namespace(apex_level='O2', batch_size=8, cased=False, dataset='clef', debug=False, encoder_lr=2e-05, eval_step=1, full_doc_length=True, local_rank=5, model_path='/mnt/scratch/puxuan/short_qlm_0.15/2186792/huggingface-9', model_type='mbert', num_epochs=20, num_ft_encoders=3, num_neg=1, projector_lr=2e-05, seed=611, source_lang='es', target_lang='fr')
00:00:15 - Evaluating every 1 epochs ...
00:00:15 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:00:15 - test has 37 queries ...
00:00:15 - Data reading done ...
00:00:22 - adding 9-th encoder to optimizer...
00:00:22 - adding 10-th encoder to optimizer...
00:00:22 - adding 11-th encoder to optimizer...
00:00:23 - process[5]: training epoch 0 ...
00:00:32 - process[5] - epoch 0 - train iter 241 - 20010.0 words/s - loss: 0.6819
00:00:32 - process[5]: training epoch 1 ...
00:00:41 - process[5] - epoch 1 - train iter 241 - 21905.5 words/s - loss: 0.6171
00:00:41 - process[5]: training epoch 2 ...
00:00:51 - process[5] - epoch 2 - train iter 241 - 20600.2 words/s - loss: 0.5537
00:00:51 - process[5]: training epoch 3 ...
00:01:00 - process[5] - epoch 3 - train iter 241 - 21164.9 words/s - loss: 0.6023
00:01:00 - process[5]: training epoch 4 ...
00:01:09 - process[5] - epoch 4 - train iter 241 - 21572.3 words/s - loss: 0.5819
00:01:09 - process[5]: training epoch 5 ...
00:01:18 - process[5] - epoch 5 - train iter 241 - 22247.9 words/s - loss: 0.5569
00:01:18 - process[5]: training epoch 6 ...
00:01:27 - process[5] - epoch 6 - train iter 241 - 21404.0 words/s - loss: 0.4877
00:01:27 - process[5]: training epoch 7 ...
00:01:37 - process[5] - epoch 7 - train iter 241 - 21828.5 words/s - loss: 0.5688
00:01:37 - process[5]: training epoch 8 ...
00:01:45 - process[5] - epoch 8 - train iter 241 - 22318.0 words/s - loss: 0.5189
00:01:45 - process[5]: training epoch 9 ...
00:01:55 - process[5] - epoch 9 - train iter 241 - 20149.7 words/s - loss: 0.4950
00:01:55 - process[5]: training epoch 10 ...
00:02:04 - process[5] - epoch 10 - train iter 241 - 21912.1 words/s - loss: 0.4780
00:02:04 - process[5]: evaluating epoch 10 on dev ...
00:02:23 - process[5] - dev - epoch 10 - mAP: 0.391 w/ 37 queries
00:02:23 - process[5]: evaluating epoch 10 on test ...
00:02:42 - test set during evaluation: 11380/11372
00:02:42 - process[5] - test - epoch 10 - mAP: 0.453 w/ 37 queries
00:02:42 - process[5]: training epoch 11 ...
00:02:50 - process[5] - epoch 11 - train iter 241 - 22506.7 words/s - loss: 0.4798
00:02:50 - process[5]: evaluating epoch 11 on dev ...
00:03:11 - process[5] - dev - epoch 11 - mAP: 0.367 w/ 37 queries
00:03:11 - process[5]: training epoch 12 ...
00:03:20 - process[5] - epoch 12 - train iter 241 - 21258.0 words/s - loss: 0.5000
00:03:20 - process[5]: evaluating epoch 12 on dev ...
00:03:39 - process[5] - dev - epoch 12 - mAP: 0.391 w/ 37 queries
00:03:39 - process[5]: training epoch 13 ...
00:03:49 - process[5] - epoch 13 - train iter 241 - 20939.5 words/s - loss: 0.5273
00:03:49 - process[5]: evaluating epoch 13 on dev ...
00:04:08 - process[5] - dev - epoch 13 - mAP: 0.383 w/ 37 queries
00:04:08 - process[5]: training epoch 14 ...
00:04:17 - process[5] - epoch 14 - train iter 241 - 21069.8 words/s - loss: 0.4271
00:04:17 - process[5]: evaluating epoch 14 on dev ...
00:04:35 - process[5] - dev - epoch 14 - mAP: 0.367 w/ 37 queries
00:04:35 - process[5]: training epoch 15 ...
00:04:45 - process[5] - epoch 15 - train iter 241 - 21451.1 words/s - loss: 0.4669
00:04:45 - process[5]: evaluating epoch 15 on dev ...
00:05:03 - process[5] - dev - epoch 15 - mAP: 0.386 w/ 37 queries
00:05:03 - process[5]: training epoch 16 ...
00:05:12 - process[5] - epoch 16 - train iter 241 - 23028.1 words/s - loss: 0.4667
00:05:12 - process[5]: evaluating epoch 16 on dev ...
00:05:31 - process[5] - dev - epoch 16 - mAP: 0.391 w/ 37 queries
00:05:31 - process[5]: evaluating epoch 16 on test ...
00:05:50 - test set during evaluation: 11380/11372
00:05:50 - process[5] - test - epoch 16 - mAP: 0.497 w/ 37 queries
00:05:50 - process[5]: training epoch 17 ...
00:05:59 - process[5] - epoch 17 - train iter 241 - 20740.8 words/s - loss: 0.4259
00:05:59 - process[5]: evaluating epoch 17 on dev ...
00:06:17 - process[5] - dev - epoch 17 - mAP: 0.382 w/ 37 queries
00:06:17 - process[5]: training epoch 18 ...
00:06:26 - process[5] - epoch 18 - train iter 241 - 21518.3 words/s - loss: 0.3902
00:06:26 - process[5]: evaluating epoch 18 on dev ...
00:06:45 - process[5] - dev - epoch 18 - mAP: 0.399 w/ 37 queries
00:06:45 - process[5]: evaluating epoch 18 on test ...
00:07:05 - test set during evaluation: 11380/11372
00:07:05 - process[5] - test - epoch 18 - mAP: 0.480 w/ 37 queries
00:07:05 - process[5]: training epoch 19 ...
00:07:14 - process[5] - epoch 19 - train iter 241 - 20954.7 words/s - loss: 0.4255
00:07:14 - process[5]: evaluating epoch 19 on dev ...
00:07:33 - process[5] - dev - epoch 19 - mAP: 0.381 w/ 37 queries
00:07:33 - [fold 1] best test MAP: 0.480 @ epoch 18
00:07:33 - Evaluating every 1 epochs ...
00:07:33 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:07:34 - test has 37 queries ...
00:07:34 - Data reading done ...
00:07:35 - adding 9-th encoder to optimizer...
00:07:35 - adding 10-th encoder to optimizer...
00:07:35 - adding 11-th encoder to optimizer...
00:07:36 - process[5]: training epoch 0 ...
00:07:47 - process[5] - epoch 0 - train iter 276 - 20821.6 words/s - loss: 0.6759
00:07:47 - process[5]: training epoch 1 ...
00:07:57 - process[5] - epoch 1 - train iter 276 - 22349.8 words/s - loss: 0.5855
00:07:57 - process[5]: training epoch 2 ...
00:08:08 - process[5] - epoch 2 - train iter 276 - 20230.1 words/s - loss: 0.5615
00:08:08 - process[5]: training epoch 3 ...
00:08:19 - process[5] - epoch 3 - train iter 276 - 21278.3 words/s - loss: 0.5638
00:08:19 - process[5]: training epoch 4 ...
00:08:29 - process[5] - epoch 4 - train iter 276 - 21739.1 words/s - loss: 0.5329
00:08:29 - process[5]: training epoch 5 ...
00:08:40 - process[5] - epoch 5 - train iter 276 - 21616.2 words/s - loss: 0.5356
00:08:40 - process[5]: training epoch 6 ...
00:08:50 - process[5] - epoch 6 - train iter 276 - 21679.6 words/s - loss: 0.5085
00:08:50 - process[5]: training epoch 7 ...
00:09:01 - process[5] - epoch 7 - train iter 276 - 20778.9 words/s - loss: 0.5302
00:09:01 - process[5]: training epoch 8 ...
00:09:11 - process[5] - epoch 8 - train iter 276 - 22139.6 words/s - loss: 0.5157
00:09:11 - process[5]: training epoch 9 ...
00:09:22 - process[5] - epoch 9 - train iter 276 - 20263.0 words/s - loss: 0.5167
00:09:22 - process[5]: training epoch 10 ...
00:09:34 - process[5] - epoch 10 - train iter 276 - 19267.8 words/s - loss: 0.5329
00:09:34 - process[5]: evaluating epoch 10 on dev ...
00:09:59 - dev set during evaluation: 11380/11372
00:09:59 - process[5] - dev - epoch 10 - mAP: 0.473 w/ 37 queries
00:09:59 - process[5]: evaluating epoch 10 on test ...
00:10:17 - process[5] - test - epoch 10 - mAP: 0.401 w/ 37 queries
00:10:17 - process[5]: training epoch 11 ...
00:10:28 - process[5] - epoch 11 - train iter 276 - 20673.5 words/s - loss: 0.4555
00:10:28 - process[5]: evaluating epoch 11 on dev ...
00:10:47 - dev set during evaluation: 11380/11372
00:10:47 - process[5] - dev - epoch 11 - mAP: 0.460 w/ 37 queries
00:10:47 - process[5]: training epoch 12 ...
00:10:58 - process[5] - epoch 12 - train iter 276 - 19970.0 words/s - loss: 0.4986
00:10:58 - process[5]: evaluating epoch 12 on dev ...
00:11:16 - dev set during evaluation: 11380/11372
00:11:16 - process[5] - dev - epoch 12 - mAP: 0.455 w/ 37 queries
00:11:16 - process[5]: training epoch 13 ...
00:11:27 - process[5] - epoch 13 - train iter 276 - 19949.6 words/s - loss: 0.4906
00:11:27 - process[5]: evaluating epoch 13 on dev ...
00:11:46 - dev set during evaluation: 11380/11372
00:11:46 - process[5] - dev - epoch 13 - mAP: 0.447 w/ 37 queries
00:11:46 - process[5]: training epoch 14 ...
00:11:57 - process[5] - epoch 14 - train iter 276 - 21113.4 words/s - loss: 0.4875
00:11:57 - process[5]: evaluating epoch 14 on dev ...
00:12:17 - dev set during evaluation: 11380/11372
00:12:17 - process[5] - dev - epoch 14 - mAP: 0.473 w/ 37 queries
00:12:17 - process[5]: evaluating epoch 14 on test ...
00:12:34 - process[5] - test - epoch 14 - mAP: 0.371 w/ 37 queries
00:12:34 - process[5]: training epoch 15 ...
00:12:45 - process[5] - epoch 15 - train iter 276 - 20791.1 words/s - loss: 0.4809
00:12:45 - process[5]: evaluating epoch 15 on dev ...
00:13:03 - dev set during evaluation: 11380/11372
00:13:03 - process[5] - dev - epoch 15 - mAP: 0.488 w/ 37 queries
00:13:04 - process[5]: evaluating epoch 15 on test ...
00:13:22 - process[5] - test - epoch 15 - mAP: 0.398 w/ 37 queries
00:13:22 - process[5]: training epoch 16 ...
00:13:32 - process[5] - epoch 16 - train iter 276 - 21678.9 words/s - loss: 0.4962
00:13:32 - process[5]: evaluating epoch 16 on dev ...
00:13:51 - dev set during evaluation: 11380/11372
00:13:51 - process[5] - dev - epoch 16 - mAP: 0.491 w/ 37 queries
00:13:51 - process[5]: evaluating epoch 16 on test ...
00:14:09 - process[5] - test - epoch 16 - mAP: 0.408 w/ 37 queries
00:14:09 - process[5]: training epoch 17 ...
00:14:21 - process[5] - epoch 17 - train iter 276 - 20341.6 words/s - loss: 0.4786
00:14:21 - process[5]: evaluating epoch 17 on dev ...
00:14:39 - dev set during evaluation: 11380/11372
00:14:39 - process[5] - dev - epoch 17 - mAP: 0.492 w/ 37 queries
00:14:39 - process[5]: evaluating epoch 17 on test ...
00:14:57 - process[5] - test - epoch 17 - mAP: 0.419 w/ 37 queries
00:14:57 - process[5]: training epoch 18 ...
00:15:08 - process[5] - epoch 18 - train iter 276 - 20635.7 words/s - loss: 0.4468
00:15:08 - process[5]: evaluating epoch 18 on dev ...
00:15:26 - dev set during evaluation: 11380/11372
00:15:26 - process[5] - dev - epoch 18 - mAP: 0.497 w/ 37 queries
00:15:26 - process[5]: evaluating epoch 18 on test ...
00:15:44 - process[5] - test - epoch 18 - mAP: 0.418 w/ 37 queries
00:15:44 - process[5]: training epoch 19 ...
00:15:55 - process[5] - epoch 19 - train iter 276 - 20601.1 words/s - loss: 0.4383
00:15:55 - process[5]: evaluating epoch 19 on dev ...
00:16:14 - dev set during evaluation: 11380/11372
00:16:14 - process[5] - dev - epoch 19 - mAP: 0.526 w/ 37 queries
00:16:14 - process[5]: evaluating epoch 19 on test ...
00:16:33 - process[5] - test - epoch 19 - mAP: 0.403 w/ 37 queries
00:16:33 - [fold 2] best test MAP: 0.403 @ epoch 19
00:16:33 - Evaluating every 1 epochs ...
00:16:33 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:16:33 - test has 37 queries ...
00:16:33 - Data reading done ...
00:16:35 - adding 9-th encoder to optimizer...
00:16:35 - adding 10-th encoder to optimizer...
00:16:35 - adding 11-th encoder to optimizer...
00:16:35 - process[5]: training epoch 0 ...
00:16:44 - process[5] - epoch 0 - train iter 240 - 21170.3 words/s - loss: 0.6839
00:16:44 - process[5]: training epoch 1 ...
00:16:53 - process[5] - epoch 1 - train iter 240 - 21064.8 words/s - loss: 0.6134
00:16:53 - process[5]: training epoch 2 ...
00:17:02 - process[5] - epoch 2 - train iter 240 - 21678.7 words/s - loss: 0.5241
00:17:02 - process[5]: training epoch 3 ...
00:17:12 - process[5] - epoch 3 - train iter 240 - 20972.0 words/s - loss: 0.5547
00:17:12 - process[5]: training epoch 4 ...
00:17:21 - process[5] - epoch 4 - train iter 240 - 21660.7 words/s - loss: 0.5593
00:17:21 - process[5]: training epoch 5 ...
00:17:30 - process[5] - epoch 5 - train iter 240 - 21412.7 words/s - loss: 0.5559
00:17:30 - process[5]: training epoch 6 ...
00:17:39 - process[5] - epoch 6 - train iter 240 - 21059.5 words/s - loss: 0.4997
00:17:39 - process[5]: training epoch 7 ...
00:17:48 - process[5] - epoch 7 - train iter 240 - 21268.7 words/s - loss: 0.4981
00:17:48 - process[5]: training epoch 8 ...
00:17:57 - process[5] - epoch 8 - train iter 240 - 21545.0 words/s - loss: 0.5144
00:17:57 - process[5]: training epoch 9 ...
00:18:06 - process[5] - epoch 9 - train iter 240 - 20844.2 words/s - loss: 0.5023
00:18:06 - process[5]: training epoch 10 ...
00:18:15 - process[5] - epoch 10 - train iter 240 - 20887.9 words/s - loss: 0.4747
00:18:15 - process[5]: evaluating epoch 10 on dev ...
00:18:35 - process[5] - dev - epoch 10 - mAP: 0.390 w/ 37 queries
00:18:35 - process[5]: evaluating epoch 10 on test ...
00:18:55 - test set during evaluation: 11210/11201
00:18:55 - process[5] - test - epoch 10 - mAP: 0.451 w/ 37 queries
00:18:55 - process[5]: training epoch 11 ...
00:19:04 - process[5] - epoch 11 - train iter 240 - 22062.4 words/s - loss: 0.4711
00:19:04 - process[5]: evaluating epoch 11 on dev ...
00:19:21 - process[5] - dev - epoch 11 - mAP: 0.406 w/ 37 queries
00:19:21 - process[5]: evaluating epoch 11 on test ...
00:19:41 - test set during evaluation: 11210/11201
00:19:41 - process[5] - test - epoch 11 - mAP: 0.464 w/ 37 queries
00:19:41 - process[5]: training epoch 12 ...
00:19:49 - process[5] - epoch 12 - train iter 240 - 22321.0 words/s - loss: 0.4689
00:19:49 - process[5]: evaluating epoch 12 on dev ...
00:20:08 - process[5] - dev - epoch 12 - mAP: 0.348 w/ 37 queries
00:20:08 - process[5]: training epoch 13 ...
00:20:16 - process[5] - epoch 13 - train iter 240 - 22033.9 words/s - loss: 0.4665
00:20:16 - process[5]: evaluating epoch 13 on dev ...
00:20:34 - process[5] - dev - epoch 13 - mAP: 0.375 w/ 37 queries
00:20:34 - process[5]: training epoch 14 ...
00:20:44 - process[5] - epoch 14 - train iter 240 - 20131.2 words/s - loss: 0.4784
00:20:44 - process[5]: evaluating epoch 14 on dev ...
00:21:01 - process[5] - dev - epoch 14 - mAP: 0.402 w/ 37 queries
00:21:01 - process[5]: training epoch 15 ...
00:21:11 - process[5] - epoch 15 - train iter 240 - 21229.3 words/s - loss: 0.4740
00:21:11 - process[5]: evaluating epoch 15 on dev ...
00:21:30 - process[5] - dev - epoch 15 - mAP: 0.390 w/ 37 queries
00:21:30 - process[5]: training epoch 16 ...
00:21:39 - process[5] - epoch 16 - train iter 240 - 20721.8 words/s - loss: 0.4793
00:21:39 - process[5]: evaluating epoch 16 on dev ...
00:21:56 - process[5] - dev - epoch 16 - mAP: 0.387 w/ 37 queries
00:21:56 - process[5]: training epoch 17 ...
00:22:05 - process[5] - epoch 17 - train iter 240 - 21291.1 words/s - loss: 0.4410
00:22:05 - process[5]: evaluating epoch 17 on dev ...
00:22:23 - process[5] - dev - epoch 17 - mAP: 0.395 w/ 37 queries
00:22:23 - process[5]: training epoch 18 ...
00:22:32 - process[5] - epoch 18 - train iter 240 - 21021.1 words/s - loss: 0.4664
00:22:32 - process[5]: evaluating epoch 18 on dev ...
00:22:51 - process[5] - dev - epoch 18 - mAP: 0.388 w/ 37 queries
00:22:51 - process[5]: training epoch 19 ...
00:23:00 - process[5] - epoch 19 - train iter 240 - 22053.8 words/s - loss: 0.4459
00:23:00 - process[5]: evaluating epoch 19 on dev ...
00:23:18 - process[5] - dev - epoch 19 - mAP: 0.361 w/ 37 queries
00:23:18 - [fold 3] best test MAP: 0.464 @ epoch 11
00:23:18 - Evaluating every 1 epochs ...
00:23:18 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:23:18 - test has 37 queries ...
00:23:18 - Data reading done ...
00:23:20 - adding 9-th encoder to optimizer...
00:23:20 - adding 10-th encoder to optimizer...
00:23:20 - adding 11-th encoder to optimizer...
00:23:20 - process[5]: training epoch 0 ...
00:23:30 - process[5] - epoch 0 - train iter 231 - 20243.8 words/s - loss: 0.6847
00:23:30 - process[5]: training epoch 1 ...
00:23:38 - process[5] - epoch 1 - train iter 231 - 20662.3 words/s - loss: 0.6089
00:23:38 - process[5]: training epoch 2 ...
00:23:48 - process[5] - epoch 2 - train iter 231 - 20285.1 words/s - loss: 0.5787
00:23:48 - process[5]: training epoch 3 ...
00:23:57 - process[5] - epoch 3 - train iter 231 - 20539.3 words/s - loss: 0.5339
00:23:57 - process[5]: training epoch 4 ...
00:24:06 - process[5] - epoch 4 - train iter 231 - 20888.8 words/s - loss: 0.5797
00:24:06 - process[5]: training epoch 5 ...
00:24:15 - process[5] - epoch 5 - train iter 231 - 20633.6 words/s - loss: 0.5224
00:24:15 - process[5]: training epoch 6 ...
00:24:24 - process[5] - epoch 6 - train iter 231 - 20561.3 words/s - loss: 0.5269
00:24:24 - process[5]: training epoch 7 ...
00:24:32 - process[5] - epoch 7 - train iter 231 - 21305.5 words/s - loss: 0.5067
00:24:32 - process[5]: training epoch 8 ...
00:24:41 - process[5] - epoch 8 - train iter 231 - 21114.0 words/s - loss: 0.5218
00:24:41 - process[5]: training epoch 9 ...
00:24:50 - process[5] - epoch 9 - train iter 231 - 20948.8 words/s - loss: 0.4761
00:24:50 - process[5]: training epoch 10 ...
00:24:58 - process[5] - epoch 10 - train iter 231 - 22038.5 words/s - loss: 0.4600
00:24:58 - process[5]: evaluating epoch 10 on dev ...
00:25:17 - dev set during evaluation: 11210/11201
00:25:17 - process[5] - dev - epoch 10 - mAP: 0.426 w/ 37 queries
00:25:17 - process[5]: evaluating epoch 10 on test ...
00:25:35 - test set during evaluation: 10640/10633
00:25:35 - process[5] - test - epoch 10 - mAP: 0.357 w/ 37 queries
00:25:35 - process[5]: training epoch 11 ...
00:25:44 - process[5] - epoch 11 - train iter 231 - 22010.8 words/s - loss: 0.4701
00:25:44 - process[5]: evaluating epoch 11 on dev ...
00:26:04 - dev set during evaluation: 11210/11201
00:26:04 - process[5] - dev - epoch 11 - mAP: 0.464 w/ 37 queries
00:26:04 - process[5]: evaluating epoch 11 on test ...
00:26:23 - test set during evaluation: 10640/10633
00:26:23 - process[5] - test - epoch 11 - mAP: 0.355 w/ 37 queries
00:26:23 - process[5]: training epoch 12 ...
00:26:31 - process[5] - epoch 12 - train iter 231 - 21329.6 words/s - loss: 0.4607
00:26:31 - process[5]: evaluating epoch 12 on dev ...
00:26:51 - dev set during evaluation: 11210/11201
00:26:51 - process[5] - dev - epoch 12 - mAP: 0.443 w/ 37 queries
00:26:51 - process[5]: training epoch 13 ...
00:27:00 - process[5] - epoch 13 - train iter 231 - 20573.1 words/s - loss: 0.4589
00:27:00 - process[5]: evaluating epoch 13 on dev ...
00:27:20 - dev set during evaluation: 11210/11201
00:27:20 - process[5] - dev - epoch 13 - mAP: 0.430 w/ 37 queries
00:27:20 - process[5]: training epoch 14 ...
00:27:29 - process[5] - epoch 14 - train iter 231 - 21355.3 words/s - loss: 0.5013
00:27:29 - process[5]: evaluating epoch 14 on dev ...
00:27:48 - dev set during evaluation: 11210/11201
00:27:48 - process[5] - dev - epoch 14 - mAP: 0.452 w/ 37 queries
00:27:48 - process[5]: training epoch 15 ...
00:27:57 - process[5] - epoch 15 - train iter 231 - 21155.3 words/s - loss: 0.4495
00:27:57 - process[5]: evaluating epoch 15 on dev ...
00:28:17 - dev set during evaluation: 11210/11201
00:28:17 - process[5] - dev - epoch 15 - mAP: 0.405 w/ 37 queries
00:28:17 - process[5]: training epoch 16 ...
00:28:25 - process[5] - epoch 16 - train iter 231 - 22338.6 words/s - loss: 0.4205
00:28:25 - process[5]: evaluating epoch 16 on dev ...
00:28:46 - dev set during evaluation: 11210/11201
00:28:46 - process[5] - dev - epoch 16 - mAP: 0.441 w/ 37 queries
00:28:46 - process[5]: training epoch 17 ...
00:28:54 - process[5] - epoch 17 - train iter 231 - 21858.1 words/s - loss: 0.4700
00:28:54 - process[5]: evaluating epoch 17 on dev ...
00:29:16 - dev set during evaluation: 11210/11201
00:29:16 - process[5] - dev - epoch 17 - mAP: 0.450 w/ 37 queries
00:29:16 - process[5]: training epoch 18 ...
00:29:25 - process[5] - epoch 18 - train iter 231 - 20789.2 words/s - loss: 0.4182
00:29:25 - process[5]: evaluating epoch 18 on dev ...
00:29:44 - dev set during evaluation: 11210/11201
00:29:44 - process[5] - dev - epoch 18 - mAP: 0.419 w/ 37 queries
00:29:44 - process[5]: training epoch 19 ...
00:29:52 - process[5] - epoch 19 - train iter 231 - 22502.5 words/s - loss: 0.4353
00:29:52 - process[5]: evaluating epoch 19 on dev ...
00:30:12 - dev set during evaluation: 11210/11201
00:30:12 - process[5] - dev - epoch 19 - mAP: 0.435 w/ 37 queries
00:30:12 - [fold 4] best test MAP: 0.355 @ epoch 11
00:30:12 - Evaluating every 1 epochs ...
00:30:12 - reading data from /mnt/home/puxuan/CLIR-project/Evaluation_data/process-clef/uncased
00:30:13 - test has 37 queries ...
00:30:13 - Data reading done ...
00:30:14 - adding 9-th encoder to optimizer...
00:30:14 - adding 10-th encoder to optimizer...
00:30:14 - adding 11-th encoder to optimizer...
00:30:15 - process[5]: training epoch 0 ...
00:30:23 - process[5] - epoch 0 - train iter 235 - 21736.5 words/s - loss: 0.6848
00:30:23 - process[5]: training epoch 1 ...
00:30:33 - process[5] - epoch 1 - train iter 235 - 20841.9 words/s - loss: 0.6231
00:30:33 - process[5]: training epoch 2 ...
00:30:42 - process[5] - epoch 2 - train iter 235 - 20647.0 words/s - loss: 0.5827
00:30:42 - process[5]: training epoch 3 ...
00:30:51 - process[5] - epoch 3 - train iter 235 - 19888.2 words/s - loss: 0.5614
00:30:51 - process[5]: training epoch 4 ...
00:31:00 - process[5] - epoch 4 - train iter 235 - 21449.1 words/s - loss: 0.5409
00:31:00 - process[5]: training epoch 5 ...
00:31:09 - process[5] - epoch 5 - train iter 235 - 21639.8 words/s - loss: 0.5311
00:31:09 - process[5]: training epoch 6 ...
00:31:18 - process[5] - epoch 6 - train iter 235 - 21129.2 words/s - loss: 0.5112
00:31:18 - process[5]: training epoch 7 ...
00:31:27 - process[5] - epoch 7 - train iter 235 - 21412.5 words/s - loss: 0.5452
00:31:27 - process[5]: training epoch 8 ...
00:31:36 - process[5] - epoch 8 - train iter 235 - 21396.0 words/s - loss: 0.5176
00:31:36 - process[5]: training epoch 9 ...
00:31:45 - process[5] - epoch 9 - train iter 235 - 21085.6 words/s - loss: 0.5386
00:31:45 - process[5]: training epoch 10 ...
00:31:54 - process[5] - epoch 10 - train iter 235 - 20830.1 words/s - loss: 0.5069
00:31:54 - process[5]: evaluating epoch 10 on dev ...
00:32:15 - dev set during evaluation: 10640/10633
00:32:15 - process[5] - dev - epoch 10 - mAP: 0.345 w/ 37 queries
00:32:15 - process[5]: evaluating epoch 10 on test ...
00:32:34 - process[5] - test - epoch 10 - mAP: 0.383 w/ 37 queries
00:32:34 - process[5]: training epoch 11 ...
00:32:43 - process[5] - epoch 11 - train iter 235 - 21467.6 words/s - loss: 0.4809
00:32:43 - process[5]: evaluating epoch 11 on dev ...
00:33:01 - dev set during evaluation: 10640/10633
00:33:01 - process[5] - dev - epoch 11 - mAP: 0.345 w/ 37 queries
00:33:01 - process[5]: evaluating epoch 11 on test ...
00:33:20 - process[5] - test - epoch 11 - mAP: 0.392 w/ 37 queries
00:33:20 - process[5]: training epoch 12 ...
00:33:29 - process[5] - epoch 12 - train iter 235 - 21161.9 words/s - loss: 0.5061
00:33:29 - process[5]: evaluating epoch 12 on dev ...
00:33:46 - dev set during evaluation: 10640/10633
00:33:46 - process[5] - dev - epoch 12 - mAP: 0.329 w/ 37 queries
00:33:46 - process[5]: training epoch 13 ...
00:33:56 - process[5] - epoch 13 - train iter 235 - 19603.7 words/s - loss: 0.4712
00:33:56 - process[5]: evaluating epoch 13 on dev ...
00:34:13 - dev set during evaluation: 10640/10633
00:34:13 - process[5] - dev - epoch 13 - mAP: 0.353 w/ 37 queries
00:34:13 - process[5]: evaluating epoch 13 on test ...
00:34:32 - process[5] - test - epoch 13 - mAP: 0.385 w/ 37 queries
00:34:32 - process[5]: training epoch 14 ...
00:34:41 - process[5] - epoch 14 - train iter 235 - 20884.0 words/s - loss: 0.4550
00:34:41 - process[5]: evaluating epoch 14 on dev ...
00:34:58 - dev set during evaluation: 10640/10633
00:34:58 - process[5] - dev - epoch 14 - mAP: 0.331 w/ 37 queries
00:34:58 - process[5]: training epoch 15 ...
00:35:08 - process[5] - epoch 15 - train iter 235 - 21015.8 words/s - loss: 0.4938
00:35:08 - process[5]: evaluating epoch 15 on dev ...
00:35:25 - dev set during evaluation: 10640/10633
00:35:25 - process[5] - dev - epoch 15 - mAP: 0.337 w/ 37 queries
00:35:25 - process[5]: training epoch 16 ...
00:35:34 - process[5] - epoch 16 - train iter 235 - 21410.9 words/s - loss: 0.4957
00:35:34 - process[5]: evaluating epoch 16 on dev ...
00:35:52 - dev set during evaluation: 10640/10633
00:35:52 - process[5] - dev - epoch 16 - mAP: 0.365 w/ 37 queries
00:35:52 - process[5]: evaluating epoch 16 on test ...
00:36:11 - process[5] - test - epoch 16 - mAP: 0.396 w/ 37 queries
00:36:11 - process[5]: training epoch 17 ...
00:36:20 - process[5] - epoch 17 - train iter 235 - 20622.3 words/s - loss: 0.4773
00:36:20 - process[5]: evaluating epoch 17 on dev ...
00:36:38 - dev set during evaluation: 10640/10633
00:36:38 - process[5] - dev - epoch 17 - mAP: 0.345 w/ 37 queries
00:36:38 - process[5]: training epoch 18 ...
00:36:46 - process[5] - epoch 18 - train iter 235 - 22865.3 words/s - loss: 0.4281
00:36:46 - process[5]: evaluating epoch 18 on dev ...
00:37:04 - dev set during evaluation: 10640/10633
00:37:04 - process[5] - dev - epoch 18 - mAP: 0.351 w/ 37 queries
00:37:04 - process[5]: training epoch 19 ...
00:37:13 - process[5] - epoch 19 - train iter 235 - 21582.1 words/s - loss: 0.4450
00:37:13 - process[5]: evaluating epoch 19 on dev ...
00:37:31 - dev set during evaluation: 10640/10633
00:37:31 - process[5] - dev - epoch 19 - mAP: 0.358 w/ 37 queries
00:37:31 - [fold 5] best test MAP: 0.396 @ epoch 16
00:37:31 - [0.48005593902869753, 0.4025644454893945, 0.46386417169589, 0.3548394789695582, 0.39561365974346624]
00:37:31 - [37, 37, 37, 37, 37]
00:37:31 - final MAP: 0.419
